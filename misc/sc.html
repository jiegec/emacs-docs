<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html lang="en">
<head>
<title>Supercite User's Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="Supercite User's Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes Supercite, an Emacs package for citing and
attributing replies to mail and news messages.

Copyright (C) 1993, 2001-2016 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being "A GNU Manual", and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     "GNU Free Documentation License".

     (a) The FSF's Back-Cover Text is: "You have the freedom to copy and
     modify this GNU manual."
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Supercite User's Manual</h1>
   <div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<li><a href="#toc_Top">Supercite</a></li>
<li><a href="#toc_Introduction">1 Introduction</a></li>
<li><a href="#toc_Citations">2 Citations</a></li>
<li><a href="#toc_Information-Keys-and-the-Info-Alist">3 Information Keys and the Info Alist</a></li>
<li><a href="#toc_Reference-Headers">4 Reference Headers</a></li>
<li><a href="#toc_Getting-Connected">5 Getting Connected</a></li>
<li><a href="#toc_Replying-and-Yanking">6 Replying and Yanking</a></li>
<li><a href="#toc_Selecting-an-Attribution">7 Selecting an Attribution</a></li>
<li><a href="#toc_Configuring-the-Citation-Engine">8 Configuring the Citation Engine</a></li>
<li><a href="#toc_Post_002dyank-Formatting-Commands">9 Post-yank Formatting Commands</a></li>
<li><a href="#toc_Hints-to-MUA-Authors">10 Hints to MUA Authors</a></li>
<li><a href="#toc_Thanks-and-History">11 Thanks and History</a></li>
<li><a href="#toc_GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a></li>
<li><a href="#toc_Concept-Index">Concept Index</a></li>
<li><a href="#toc_Command-Index">Command Index</a></li>
<li><a href="#toc_Key-Index">Key Index</a></li>
<li><a href="#toc_Variable-Index">Variable Index</a></li>
</ul>
</div>



   <div class="contents">
<h2>Table of Contents</h2>
<ul>
<li>
<a name="toc_Top" href="#Top">Supercite</a>
</li>
<li>
<a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<ul>
<li>
<a href="#Usage-Overview">1.1 Usage Overview</a>
</li>
<li>
<a href="#What-Supercite-Does-Not-Do">1.2 What Supercite Doesn't Do</a>
</li>
<li>
<a href="#What-Supercite-Does">1.3 What Supercite Does</a>
</li>
</ul>
</li>
<li>
<a name="toc_Citations" href="#Citations">2 Citations</a>
<ul>
<li>
<a href="#Citation-Elements">2.1 Citation Elements</a>
</li>
<li>
<a href="#Recognizing-Citations">2.2 Recognizing Citations</a>
</li>
</ul>
</li>
<li>
<a name="toc_Information-Keys-and-the-Info-Alist" href="#Information-Keys-and-the-Info-Alist">3 Information Keys and the Info Alist</a>
</li>
<li>
<a name="toc_Reference-Headers" href="#Reference-Headers">4 Reference Headers</a>
<ul>
<li>
<a href="#The-Built_002din-Header-Rewrite-Functions">4.1 The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#Electric-References">4.2 Electric References</a>
</li>
</ul>
</li>
<li>
<a name="toc_Getting-Connected" href="#Getting-Connected">5 Getting Connected</a>
</li>
<li>
<a name="toc_Replying-and-Yanking" href="#Replying-and-Yanking">6 Replying and Yanking</a>
<ul>
<li>
<a href="#Reply-Buffer-Initialization">6.1 Reply Buffer Initialization</a>
</li>
<li>
<a href="#Filling-Cited-Text">6.2 Filling Cited Text</a>
</li>
</ul>
</li>
<li>
<a name="toc_Selecting-an-Attribution" href="#Selecting-an-Attribution">7 Selecting an Attribution</a>
<ul>
<li>
<a href="#Attribution-Preferences">7.1 Attribution Preferences</a>
</li>
<li>
<a href="#Anonymous-Attributions">7.2 Anonymous Attributions</a>
</li>
<li>
<a href="#Author-Names">7.3 Author Names</a>
</li>
</ul>
</li>
<li>
<a name="toc_Configuring-the-Citation-Engine" href="#Configuring-the-Citation-Engine">8 Configuring the Citation Engine</a>
<ul>
<li>
<a href="#Using-Regi">8.1 Using Regi</a>
</li>
<li>
<a href="#Frames-You-Can-Customize">8.2 Frames You Can Customize</a>
</li>
</ul>
</li>
<li>
<a name="toc_Post_002dyank-Formatting-Commands" href="#Post_002dyank-Formatting-Commands">9 Post-yank Formatting Commands</a>
<ul>
<li>
<a href="#Citing-Commands">9.1 Commands to Manually Cite, Recite, and Uncite</a>
</li>
<li>
<a href="#Insertion-Commands">9.2 Insertion Commands</a>
</li>
<li>
<a href="#Variable-Toggling-Shortcuts">9.3 Variable Toggling Shortcuts</a>
</li>
<li>
<a href="#Mail-Field-Commands">9.4 Mail Field Commands</a>
</li>
<li>
<a href="#Miscellaneous-Commands">9.5 Miscellaneous Commands</a>
</li>
</ul>
</li>
<li>
<a name="toc_Hints-to-MUA-Authors" href="#Hints-to-MUA-Authors">10 Hints to MUA Authors</a>
</li>
<li>
<a name="toc_Thanks-and-History" href="#Thanks-and-History">11 Thanks and History</a>
</li>
<li>
<a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a>
</li>
<li>
<a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
</li>
<li>
<a name="toc_Command-Index" href="#Command-Index">Command Index</a>
</li>
<li>
<a name="toc_Key-Index" href="#Key-Index">Key Index</a>
</li>
<li>
<a name="toc_Variable-Index" href="#Variable-Index">Variable Index</a>
</li>
</ul>
</div>

<div class="node"><a name="Top"></a></div>

<h2 class="unnumbered">Supercite</h2>

<p>This document describes Supercite, an Emacs package for citing and
attributing replies to mail and news messages.

   </p>
<p>Copyright © 1993, 2001–2016 Free Software Foundation, Inc.

   </p>
<blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being “A GNU Manual”,
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled “GNU Free Documentation License”.

        <p>(a) The FSF's Back-Cover Text is: “You have the freedom to copy and
modify this GNU manual.”
</p>
</blockquote>

   <p>The manual is divided
into the following chapters.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Introduction">Introduction</a>
</li>
<li>
<a accesskey="2" href="#Citations">Citations</a>
</li>
<li>
<a accesskey="3" href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a accesskey="4" href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a accesskey="5" href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a accesskey="6" href="#Replying-and-Yanking">Replying and Yanking</a>
</li>
<li>
<a accesskey="7" href="#Selecting-an-Attribution">Selecting an Attribution</a>
</li>
<li>
<a accesskey="8" href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>
</li>
<li>
<a accesskey="9" href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>
</li>
<li>
<a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#Thanks-and-History">Thanks and History</a>

</li>
<li>
<a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>
</li>
<li>
<a href="#Concept-Index">Concept Index</a>
</li>
<li>
<a href="#Command-Index">Command Index</a>
</li>
<li>
<a href="#Key-Index">Key Index</a>
</li>
<li>
<a href="#Variable-Index">Variable Index</a>
</li>
</ul>

<div class="node"><a name="Introduction"></a></div>

<h2 class="chapter">1 Introduction</h2>

<p><a name="index-MUA-1"></a><a name="index-NUA-2"></a>Supercite is a GNU Emacs package written entirely in Emacs Lisp.  It
interfaces to most of the commonly used Emacs mail user agents
(<dfn>MUAs</dfn>) and news user agents (<dfn>NUAs</dfn>), and provides
sophisticated facilities for the citing and attributing of message
replies.  Supercite has a very specific and limited role in the
process of composing replies to both USENET network news and
electronic mail.

   </p>
<p>The preferred way to spell Supercite is with a capital `<samp><span class="samp">S</span></samp>',
lowercase `<samp><span class="samp">upercite</span></samp>'.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a accesskey="2" href="#What-Supercite-Does-Not-Do">What Supercite Does Not Do</a>
</li>
<li>
<a accesskey="3" href="#What-Supercite-Does">What Supercite Does</a>
</li>
</ul>

<!-- FIXME: move it above the menu?  -xfq -->
<p>Supercite is only useful in conjunction with MUAs and NUAs such as VM,
Gnus, RMAIL, MH-E, etc.  Supercite is typically called by the MUA after a
reply buffer has been setup.  Thereafter, Supercite's many commands and
formatting styles are available in that reply buffer until the reply is
sent.  Supercite is re-initialized in each new reply buffer.

</p>
<div class="node"><a name="Usage-Overview"></a></div>

<h3 class="section">1.1 Usage Overview</h3>

<p><a name="index-r-3"></a><a name="index-f-4"></a><a name="index-C_002dc-C_002dy-5"></a><a name="index-yank-6"></a><a name="index-cite_002c-citing-7"></a><a name="index-attribute_002c-attributing-8"></a>
Typical usage is as follows.  You want to reply or followup to a
message in your MUA.  You will probably hit <kbd>r</kbd> (i.e., “reply”)
or <kbd>f</kbd> (i.e., “forward”) to begin composing the reply.  In
response, the MUA will create a reply buffer and initialize the
outgoing mail headers appropriately.  The body of the reply will
usually be empty at this point.  You now decide that you would like to
include part of the original message in your reply.  To do this, you
<dfn>yank</dfn> the original message into the reply buffer, typically with
a key stroke such as <kbd>C-c C-y</kbd>.  This sequence will invoke an
MUA-specific function which fills the body of the reply with the
original message and then <dfn>attributes</dfn> this text to its author. 
This is called <dfn>citing</dfn> and its effect is to prefix every line
from the original message with a special text tag.  Most MUAs provide
some default style of citing; by using Supercite you gain a wider
flexibility in the look and style of citations.  Supercite's only job
is to cite the original message.

</p>
<div class="node"><a name="What-Supercite-Does-Not-Do"></a></div>

<h3 class="section">1.2 What Supercite Doesn't Do</h3>

<p>Because of this clear division of labor, there are useful features which
are the sole responsibility of the MUA, even though it might seem that
Supercite should provide them.  For example, many people would like to
be able to yank (and cite) only a portion of the original message. 
Since Supercite only modifies the text it finds in the reply buffer as
set up by the MUA, it is the MUA's responsibility to do partial yanking. 
See <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>.

   </p>
<p><a name="index-mail_002dheader_002dseparator-9"></a>Another potentially useful thing would be for Supercite to set up the
outgoing mail headers with information it gleans from the reply buffer. 
But by previously agreed upon convention, any text above the
<code>mail-header-separator</code> which separates mail headers from message
bodies cannot be modified by Supercite.  Supercite, in fact, doesn't
know anything about the meaning of these headers, and never ventures
outside the designated region. See <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>, for more
details.

</p>
<div class="node"><a name="What-Supercite-Does"></a></div>

<h3 class="section">1.3 What Supercite Does</h3>

<p><a name="index-sc_002dcite_002doriginal-10"></a>
Supercite is invoked for the first time on a reply buffer via your MUA's
reply or forward command.  This command will actually perform citations
by calling a hook variable to which Supercite's top-level function
<code>sc-cite-original</code> has been added.  When <code>sc-cite-original</code> is
executed, the original message must be set up in a very specific way,
but this is handled automatically by the MUA.  See <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>.

   </p>
<p><a name="index-info-alist-11"></a>The first thing Supercite does, via <code>sc-cite-original</code>, is to parse
through the original message's mail headers.  It saves this data in an
<dfn>information association list</dfn>, or <dfn>info alist</dfn>.  The information
in this list is used in a number of places throughout Supercite. 
See <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>.

   </p>
<p><a name="index-nuking-mail-headers-12"></a><a name="index-reference-header-13"></a>After the mail header info is extracted, the headers are optionally
removed (<dfn>nuked</dfn>) from the reply.  Supercite then writes a
<dfn>reference header</dfn> into the buffer.  This reference header is a
string carrying details about the citation it is about to perform.

   </p>
<p><a name="index-modeline-14"></a>Next, Supercite visits each line in the reply, transforming the line
according to a customizable “script”.  Lines which were not previously
cited in the original message are given a citation, while already cited
lines remain untouched, or are coerced to your preferred style. 
Finally, Supercite installs a keymap into the reply buffer so that you
have access to Supercite's post-yank formatting and reciting commands as
you subsequently edit your reply.  You can tell that Supercite has been
installed into the reply buffer because that buffer's modeline will
display the minor mode string `<samp><span class="samp">SC</span></samp>'.

   </p>
<p><a name="index-filladapt-15"></a><a name="index-gin_002dmode-16"></a><a name="index-fill_002dprefix-17"></a><a name="index-fill_002dparagraph-18"></a>When the original message is cited by <code>sc-cite-original</code>, it will
(optionally) be filled by Supercite.  However, if you manually edit the
cited text and want to re-fill it, you must use an add-on package such
as <cite>filladapt</cite> or <cite>gin-mode</cite>.  These packages can recognize
Supercited text and will fill them appropriately.  Emacs's built-in
filling routines, e.g., <code>fill-paragraph</code>, do not recognize cited
text and will not re-fill them properly because it cannot guess the
<code>fill-prefix</code> being used. 
See <a href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>, for details.

   </p>
<p>As mentioned above, Supercite provides commands to recite or uncite
regions of text in the reply buffer, and commands to perform other
beautifications on the cited original text, maintaining consistent and
informative citations throughout.  Supercite tries to be as configurable
as possible to allow for a wide range of personalized citation styles,
but it is also immediately useful with the default configuration, once
it has been properly connected to your MUA.  See <a href="#Getting-Connected">Getting Connected</a>,
for more details.

</p>
<div class="node"><a name="Citations"></a></div>

<h2 class="chapter">2 Citations</h2>

<p><a name="index-nested-citations-19"></a><a name="index-citation-20"></a>
A <dfn>citation</dfn> is the acknowledgment of the original author of a mail
message in the body of the reply.  There are two basic citation styles
which Supercite supports.  The first, called <dfn>nested citations</dfn> is
an anonymous form of citation; in other words, an indication is made
that the cited line was written by someone <em>other</em> that the current
message author (i.e., other than you, the person composing the reply),
but no reference is made as to the identity of the original author. 
This style should look familiar since its use on the net is widespread. 
Here's an example of what a message buffer would look like using nested
citations after multiple replies:

</p>
<pre class="example">     &gt;&gt; John originally wrote this
     &gt;&gt; and this as well
     &gt; Jane said that John didn't know
     &gt; what he was talking about
     And that's what I think too.
</pre>
   <ul class="menu">
<li>
<a accesskey="1" href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a accesskey="2" href="#Recognizing-Citations">Recognizing Citations</a>
</li>
</ul>

   <p>Note that multiple inclusions of the original messages result in a
nesting of the `<samp><code>&gt;</code></samp>' characters.  This can sometimes be quite
confusing when many levels of citations are included since it may be
difficult or impossible to figure out who actually participated in the
thread, and multiple nesting of `<samp><code>&gt;</code></samp>' characters can sometimes
make the message very difficult for the eye to scan.

   </p>
<p><a name="index-non_002dnested-citations-21"></a>In <dfn>non-nested citations</dfn>, each cited line begins with an
informative string attributing that line to the original author.  Only
the first level of attribution will be shown; subsequent citations
don't nest the citation strings.  The above dialog might look like
this when non-nested citations are used:

</p>
<pre class="example">     John&gt; John originally wrote this
     John&gt; and this as well
     Jane&gt; Jane said that John didn't know
     Jane&gt; what he was talking about
     And that's what I think too.
</pre>
   <p>Notice here that my inclusion of Jane's inclusion of John's original
message did not result in a line cited with `<samp><span class="samp">Jane&gt;John&gt;</span></samp>'.

   </p>
<p><a name="index-sc_002dnested_002dcitation_002dp-22"></a><a name="index-nested_002dcitation_002dp-_0028sc_002d_0029-23"></a>Supercite supports both styles of citation, and the variable
<code>sc-nested-citation-p</code> controls which style it will use when
citing previously uncited text.  When this variable is <code>nil</code> (the
default), non-nested citations are used.  When non-<code>nil</code>, nested
citations are used.

</p>
<div class="node"><a name="Citation-Elements"></a></div>

<h3 class="section">2.1 Citation Elements</h3>

<p><a name="index-citation-string-24"></a>
<dfn>Citation strings</dfn> are composed of one or more elements. 
Non-nested citations are composed of four elements, three of which are
directly user definable.  The elements are concatenated together, in
this order:

   </p>
<p><a name="index-citation-leader-25"></a><a name="index-citation_002dleader-_0028sc_002d_0029-26"></a><a name="index-sc_002dcitation_002dleader-27"></a>
     </p>
<ol type="1" start="1">
<li>The <dfn>citation leader</dfn>.  The citation leader is contained in the
variable <code>sc-citation-leader</code>, and has the default value of a
string containing four spaces.

     <p><a name="index-attribution-string-28"></a></p>
</li>
<li>The <dfn>attribution string</dfn>.  This element is supplied automatically by
Supercite, based on your preferences and the original message's mail
headers, though you may be asked to confirm Supercite's choice. 
See <a href="#Selecting-an-Attribution">Selecting an Attribution</a>, for more details.

     <p><a name="index-citation-delimiter-29"></a><a name="index-sc_002dcitation_002ddelimiter-30"></a><a name="index-citation_002ddelimiter-_0028sc_002d_0029-31"></a></p>
</li>
<li>The <dfn>citation delimiter</dfn>.  This string, contained in the variable
<code>sc-citation-delimiter</code> visually separates the citation from the
text of the line.  This variable has a default value of <code>"&gt;"</code> and
for best results, the string should consist of only a single character.

     <p><a name="index-citation-separator-32"></a><a name="index-citation_002dseparator-_0028sc_002d_0029-33"></a><a name="index-sc_002dcitation_002dseparator-34"></a></p>
</li>
<li>The <dfn>citation separator</dfn>.  The citation separator is contained in
the variable <code>sc-citation-separator</code>, and has the default value of
a string containing a single space.
        </li>
</ol>

   <p>For example, suppose you were using the default values for the above
variables, and Supercite provided the attribution string `<samp><span class="samp">Jane</span></samp>'. 
In this case, the composed, non-nested citation string used might be
something like
<code>"    Jane&gt; "</code>. 
This citation string will be inserted in front of
every line in the original message that is not already cited.

   </p>
<p>Nested citations, being simpler than non-nested citations, are composed
of the same elements, sans the attribution string.  Supercite is smart
enough to not put additional spaces between citation delimiters for
multi-level nested citations.

</p>
<div class="node"><a name="Recognizing-Citations"></a></div>

<h3 class="section">2.2 Recognizing Citations</h3>

<p>Supercite also recognizes citations in the original article, and can
transform these already cited lines in a number of ways.  This is how
Supercite suppresses the multiple citing of non-nested citations. 
Recognition of cited lines is controlled by variables analogous to
those that make up the citation string as mentioned previously.

   </p>
<p><a name="index-sc_002dcitation_002dleader_002dregexp-35"></a><a name="index-citation_002dleader_002dregexp-_0028sc_002d_0029-36"></a><a name="index-sc_002dcitation_002ddelimiter_002dregexp-37"></a><a name="index-citation_002ddelimiter_002dregexp-_0028sc_002d_0029-38"></a><a name="index-sc_002dcitation_002dseparator_002dregexp-39"></a><a name="index-citation_002dseparator_002dregexp-_0028sc_002d_0029-40"></a><a name="index-sc_002dcitation_002droot_002dregexp-41"></a><a name="index-citation_002droot_002dregexp-_0028sc_002d_0029-42"></a><a name="index-sc_002dcitation_002dnonnested_002droot_002dregexp-43"></a><a name="index-citation_002dnonnested_002droot_002dregexp-_0028sc_002d_0029-44"></a>
The variable <code>sc-citation-leader-regexp</code> describes how citation
leaders can look, by default it matches any number of spaces or tabs. 
Note that since the lisp function <code>looking-at</code> is used to do the
matching, if you change this variable it need not start with a leading
<code>"^"</code>.

   </p>
<p>Similarly, the variables <code>sc-citation-delimiter-regexp</code> and
<code>sc-citation-separator-regexp</code> respectively describe how citation
delimiters and separators can look.  They follow the same rule as
<code>sc-citation-leader-regexp</code> above.

   </p>
<p>When Supercite composes a citation string, it provides the attribution
automatically.  The analogous variable which handles recognition of the
attribution part of citation strings is <code>sc-citation-root-regexp</code>. 
This variable describes the attribution root for both nested and
non-nested citations.  By default it can match zero-to-many alphanumeric
characters (also “.”, “-”, and “_”).  But in some situations,
Supercite has to determine whether it is looking at a nested or
non-nested citation.  Thus the variable
<code>sc-citation-nonnested-root-regexp</code> is used to describe only
non-nested citation roots.  It is important to remember that if you
change <code>sc-citation-root-regexp</code> you should always also change
<code>sc-citation-nonnested-root-regexp</code>.

</p>
<div class="node"><a name="Information-Keys-and-the-Info-Alist"></a></div>

<h2 class="chapter">3 Information Keys and the Info Alist</h2>

<p><a name="index-information-keys-45"></a><a name="index-Info-Alist-46"></a><a name="index-information-extracted-from-mail-fields-47"></a><a name="index-sc_002dmail_002dfield-48"></a><a name="index-mail_002dfield-_0028sc_002d_0029-49"></a>
<dfn>Mail header information keys</dfn> are nuggets of information that
Supercite extracts from the various mail headers of the original
message, placed in the reply buffer by the MUA.  Information is kept
in the <dfn>Info Alist</dfn> as key-value pairs, and can be retrieved for
use in various places within Supercite, such as in header rewrite
functions and attribution selection.  Other bits of data, composed and
created by Supercite, are also kept as key-value pairs in this alist. 
In the case of mail fields, the key is the name of the field, omitting
the trailing colon.  Info keys are always case insensitive (as are
mail headers), and the value for a corresponding key can be retrieved
from the alist with the <code>sc-mail-field</code> function.  Thus, if the
following fields were present in the original article:

</p>
<pre class="example">     Date: 08 April 1991, 17:32:09 EST
     Subject: Better get out your asbestos suit
</pre>
   <p><a name="index-sc_002dmumble-50"></a><a name="index-mumble-_0028sc_002d_0029-51"></a>then, the following lisp constructs return:

</p>
<pre class="example">     (sc-mail-field "date")
     ==&gt; "08 April 1991, 17:32:09 EST"
     
     (sc-mail-field "subject")
     ==&gt; "Better get out your asbestos suit"
</pre>
   <p>Since the argument to <code>sc-mail-field</code> can be any string, it is
possible that the mail field will not be present on the info alist
(possibly because the mail header was not present in the original
message).  In this case, <code>sc-mail-field</code> will return the value of
the variable <code>sc-mumble</code>.

   </p>
<p>Supercite always places all mail fields found in the yanked original
article into the info alist.  If possible, Supercite will also places
the following keys into the info alist:

     
<a name="index-sc_002dattribution-info-field-52"></a>
<a name="index-attribution-info-field-_0028sc_002d_0029-53"></a>
</p>
<dl>
<dt><code>"sc-attribution"</code></dt>
<dd>the selected attribution string.

     <p><a name="index-sc_002dcitation-info-field-54"></a><a name="index-citation-info-field-_0028sc_002d_0029-55"></a><br></p>
</dd>
<dt><code>"sc-citation"</code></dt>
<dd>the non-nested citation string.

     <p><a name="index-sc_002dfrom_002daddress-info-field-56"></a><a name="index-from_002daddress-info-field-_0028sc_002d_0029-57"></a><br></p>
</dd>
<dt><code>"sc-from-address"</code></dt>
<dd>email address extracted from the `<samp><span class="samp">From:</span></samp>' field.

     <p><a name="index-sc_002dreply_002daddress-info-field-58"></a><a name="index-reply_002daddress-info-field-_0028sc_002d_0029-59"></a><br></p>
</dd>
<dt><code>"sc-reply-address"</code></dt>
<dd>email address extracted from the `<samp><span class="samp">Reply-To:</span></samp>' field.

     <p><a name="index-sc_002dsender_002daddress-info-field-60"></a><a name="index-sender_002daddress-info-field-_0028sc_002d_0029-61"></a><br></p>
</dd>
<dt><code>"sc-sender-address"</code></dt>
<dd>email address extracted from the `<samp><span class="samp">Sender:</span></samp>' field.

     <p><a name="index-sc_002demailname-info-field-62"></a><a name="index-emailname-info-field-_0028sc_002d_0029-63"></a><br></p>
</dd>
<dt><code>"sc-emailname"</code></dt>
<dd>email terminus extracted from the `<samp><span class="samp">From:</span></samp>' field.

     <p><a name="index-sc_002dinitials-info-field-64"></a><a name="index-initials-info-field-_0028sc_002d_0029-65"></a><br></p>
</dd>
<dt><code>"sc-initials"</code></dt>
<dd>the author's initials.

     <p><a name="index-sc_002dauthor-info-field-66"></a><a name="index-author-info-field-_0028sc_002d_0029-67"></a><br></p>
</dd>
<dt><code>"sc-author"</code></dt>
<dd>the author's full name.

     <p><a name="index-sc_002dfirstname-info-field-68"></a><a name="index-firstname-info-field-_0028sc_002d_0029-69"></a><br></p>
</dd>
<dt><code>"sc-firstname"</code></dt>
<dd>the author's first name.

     <p><a name="index-sc_002dlastname-info-field-70"></a><a name="index-lastname-info-field-_0028sc_002d_0029-71"></a><br></p>
</dd>
<dt><code>"sc-lastname"</code></dt>
<dd>the author's last name.

     <p><a name="index-sc_002dmiddlename_002d1-info-field-72"></a><a name="index-middlename_002d1-info-field-_0028sc_002d_0029-73"></a><br></p>
</dd>
<dt><code>"sc-middlename-1"</code></dt>
<dd>the author's first middle name. 
</dd>
</dl>

   <p>If the author's name has more than one middle name, they will appear as
info keys with the appropriate index (e.g., <code>"sc-middlename-2"</code>,
<small class="dots">...</small>).  See <a href="#Selecting-an-Attribution">Selecting an Attribution</a>.

</p>
<div class="node"><a name="Reference-Headers"></a></div>

<h2 class="chapter">4 Reference Headers</h2>

<p><a name="index-reference-headers-74"></a>
Supercite will insert an informative <dfn>reference header</dfn> at the
beginning of the cited body of text, which display more detail about the
original article and provides the mapping between the attribution and
the original author in non-nested citations.  Whereas the citation
string usually only contains a portion of the original author's name,
the reference header can contain such information as the author's full
name, email address, the original article's subject, etc.  In fact any
information contained in the info alist can be inserted into a reference
header.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a accesskey="2" href="#Electric-References">Electric References</a>
</li>
</ul>

   <p><a name="index-header-rewrite-functions-75"></a><a name="index-sc_002drewrite_002dheader_002dlist-76"></a><a name="index-rewrite_002dheader_002dlist-_0028sc_002d_0029-77"></a>There are a number of built-in <dfn>header rewrite functions</dfn> supplied
by Supercite, but you can write your own custom header rewrite
functions (perhaps using the built-in ones as examples).  The variable
<code>sc-rewrite-header-list</code> contains the list of such header rewrite
functions.  This list is consulted both when inserting the initial
reference header, and when displaying <dfn>electric references</dfn>. 
See <a href="#Electric-References">Electric References</a>.

   </p>
<p><a name="index-sc_002dpreferred_002dheader_002dstyle-78"></a><a name="index-preferred_002dheader_002dstyle-_0028sc_002d_0029-79"></a>When Supercite is initially run on a reply buffer (via
<code>sc-cite-original</code>), it will automatically call one of these
functions.  The one it uses is defined in the variable
<code>sc-preferred-header-style</code>.  The value of this variable is an
integer which is an index into the <code>sc-rewrite-header-list</code>,
beginning at zero.

</p>
<div class="node">
<a name="The-Built-in-Header-Rewrite-Functions"></a><a name="The-Built_002din-Header-Rewrite-Functions"></a>
</div>

<h3 class="section">4.1 The Built-in Header Rewrite Functions</h3>

<p><a name="index-header-rewrite-functions_002c-built_002din-80"></a>
Below are examples of the various built-in header rewrite functions. 
Please note the following: first, the text which appears in the
examples below as <var>infokey</var> indicates that the corresponding value
of the info key from the info alist will be inserted there. 
(see <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>).  For example, in <code>sc-header-on-said</code>
below, <var>date</var> and <var>from</var> correspond to the values of the
`<samp><span class="samp">Date:</span></samp>' and `<samp><span class="samp">From:</span></samp>' mail headers respectively.

   </p>
<p><a name="index-sc_002dreference_002dtag_002dstring-81"></a><a name="index-reference_002dtag_002dstring-_0028sc_002d_0029-82"></a>Also, the string <code>"&gt;&gt;&gt;&gt;&gt;"</code> below is really the value of the
variable <code>sc-reference-tag-string</code>.  This variable is used in all
built-in header rewrite functions, and you can customize its value to
change the tag string globally.

   </p>
<p>Finally, the references headers actually written may omit certain parts
of the header if the info key associated with <var>infokey</var> is not
present in the info alist.  In fact, for all built-in headers, if the
`<samp><span class="samp">From:</span></samp>' field is not present in the mail headers, the entire
reference header will be omitted (but this usually signals a serious
problem either in your MUA or in Supercite's installation).

     
<a name="index-sc_002dno_002dheader-83"></a>
<a name="index-no_002dheader-_0028sc_002d_0029-84"></a>
</p>
<dl>
<dt><code>sc-no-header</code></dt>
<dd>This function produces no header.  It should be used instead of
<code>nil</code> to produce a blank header.  This header can possibly
contain a blank line after the <code>mail-header-separator</code> line.

     <br>
</dd>
<dt><code>sc-no-blank-line-or-header</code></dt>
<dd>
<a name="index-sc_002dno_002dblank_002dline_002dor_002dheader-85"></a><a name="index-no_002dblank_002dline_002dor_002dheader-_0028sc_002d_0029-86"></a>This function is similar to <code>sc-no-header</code> except that any blank
line after the <code>mail-header-separator</code> line will be removed.

     <br>
</dd>
<dt><code>sc-header-on-said</code></dt>
<dd>
<a name="index-sc_002dheader_002don_002dsaid-87"></a><a name="index-header_002don_002dsaid-_0028sc_002d_0029-88"></a><code>&gt;&gt;&gt;&gt;&gt; On </code><var>date</var><code>, </code><var>from</var><code> said:</code>

     <br>
</dd>
<dt><code>sc-header-inarticle-writes</code></dt>
<dd>
<a name="index-sc_002dheader_002dinarticle_002dwrites-89"></a><a name="index-header_002dinarticle_002dwrites-_0028sc_002d_0029-90"></a><code>&gt;&gt;&gt;&gt;&gt; In article </code><var>message-id</var><code>, </code><var>from</var><code> writes:</code>

     <br>
</dd>
<dt><code>sc-header-regarding-adds</code></dt>
<dd>
<a name="index-sc_002dheader_002dregarding_002dadds-91"></a><a name="index-header_002dregarding_002dadds-_0028sc_002d_0029-92"></a><code>&gt;&gt;&gt;&gt;&gt; Regarding </code><var>subject</var><code>; </code><var>from</var><code> adds:</code>

     <br>
</dd>
<dt><code>sc-header-attributed-writes</code></dt>
<dd>
<a name="index-sc_002dheader_002dattributed_002dwrites-93"></a><a name="index-header_002dattributed_002dwrites-_0028sc_002d_0029-94"></a><code>&gt;&gt;&gt;&gt;&gt; "</code><var>sc-attribution</var><code>" == </code><var>sc-author</var><code> &lt;</code><var>sc-reply-address</var><code>&gt; writes:</code>

     <br>
</dd>
<dt><code>sc-header-author-writes</code></dt>
<dd>
<a name="index-sc_002dheader_002dauthor_002dwrites-95"></a><a name="index-header_002dauthor_002dwrites-_0028sc_002d_0029-96"></a><code>&gt;&gt;&gt;&gt;&gt; </code><var>sc-author</var><code> writes:</code>

     <br>
</dd>
<dt><code>sc-header-verbose</code></dt>
<dd>
<a name="index-sc_002dheader_002dverbose-97"></a><a name="index-header_002dverbose-_0028sc_002d_0029-98"></a><code>&gt;&gt;&gt;&gt;&gt; On </code><var>date</var><code>,</code><br>
<code>&gt;&gt;&gt;&gt;&gt; </code><var>sc-author</var><br>
<code>&gt;&gt;&gt;&gt;&gt; from the organization of </code><var>organization</var><br>
<code>&gt;&gt;&gt;&gt;&gt; who can be reached at: </code><var>sc-reply-address</var><br>
<code>&gt;&gt;&gt;&gt;&gt; (whose comments are cited below with: "</code><var>sc-cite</var><code>")</code><br>
<code>&gt;&gt;&gt;&gt;&gt; had this to say in article </code><var>message-id</var><br>
<code>&gt;&gt;&gt;&gt;&gt; in newsgroups </code><var>newsgroups</var><br>
<code>&gt;&gt;&gt;&gt;&gt; concerning the subject of </code><var>subject</var><br>
<code>&gt;&gt;&gt;&gt;&gt; see </code><var>references</var><code> for more details</code>
</dd>
</dl>

<div class="node"><a name="Electric-References"></a></div>

<h3 class="section">4.2 Electric References</h3>

<p><a name="index-electric-references-99"></a>
By default, when Supercite cites the original message for the first
time, it just goes ahead and inserts the reference header indexed by
<code>sc-preferred-header-style</code>.  However, you may want to select
different reference headers based on the type of reply or forwarding
you are doing.  You may also want to preview the reference header
before deciding whether to insert it into the reply buffer or
not. Supercite provides an optional <dfn>electric reference</dfn> mode
which you can drop into to give you this functionality.

   </p>
<p><a name="index-sc_002delectric_002dreferences_002dp-100"></a><a name="index-electric_002dreferences_002dp-_0028sc_002d_0029-101"></a>If the variable <code>sc-electric-references-p</code> is non-<code>nil</code>,
Supercite will bring up an electric reference mode buffer and place you
into a recursive edit.  The electric reference buffer is read-only, so
you cannot directly modify the reference text until you exit electric
references and insert the text into the reply buffer.  But you can cycle
through all the reference header rewrite functions in your
<code>sc-rewrite-header-list</code>.

   </p>
<p>You can also set a new preferred header style, jump to any header, or
jump to the preferred header.  The header will be shown in the electric
reference buffer and the header index and function name will appear in
the echo area.

   </p>
<p>The following commands are available while in electric reference mode
(shown here with their default key bindings):

     </p>
<dl>
<dt>
<code>sc-eref-next</code> (<kbd>n</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002dnext-102"></a><a name="index-eref_002dnext-_0028sc_002d_0029-103"></a><a name="index-n-104"></a><a name="index-sc_002delectric_002dcircular_002dp-105"></a><a name="index-electric_002dcircular_002dp-_0028sc_002d_0029-106"></a>Displays the next reference header in the electric reference buffer.  If
the variable <code>sc-electric-circular-p</code> is non-<code>nil</code>, invoking
<code>sc-eref-next</code> while viewing the last reference header in the list
will wrap around to the first header.

     <br>
</dd>
<dt>
<code>sc-eref-prev</code> (<kbd>p</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002dprev-107"></a><a name="index-eref_002dprev-_0028sc_002d_0029-108"></a><a name="index-p-109"></a>Displays the previous reference header in the electric reference buffer. 
If the variable <code>sc-electric-circular-p</code> is non-<code>nil</code>,
invoking <code>sc-eref-prev</code> will wrap around to the last header.

     <br>
</dd>
<dt>
<code>sc-eref-goto</code> (<kbd>g</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002dgoto-110"></a><a name="index-eref_002dgoto-_0028sc_002d_0029-111"></a><a name="index-g-112"></a>Goes to a specified reference header.  The index (into the
<code>sc-rewrite-header-list</code>) can be specified as a numeric argument to
the command.  Otherwise, Supercite will query you for the index in the
minibuffer.

     <br>
</dd>
<dt>
<code>sc-eref-jump</code> (<kbd>j</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002djump-113"></a><a name="index-eref_002djump-_0028sc_002d_0029-114"></a><a name="index-j-115"></a>Display the preferred reference header, i.e., the one indexed by the current
value of <code>sc-preferred-header-style</code>.

     <br>
</dd>
<dt>
<code>sc-eref-setn</code> (<kbd>s</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002dsetn-116"></a><a name="index-eref_002dsetn-_0028sc_002d_0029-117"></a><a name="index-s-118"></a>Set the preferred reference header (i.e.,
<code>sc-preferred-header-style</code>) to the currently displayed header.

     <br>
</dd>
<dt>
<code>sc-eref-exit</code> (<kbd>C-j</kbd>, &lt;RET&gt;, and &lt;ESC C-c&gt;)</dt>
<dd>
<a name="index-RET-119"></a><a name="index-C_002dj-120"></a><a name="index-q-121"></a><a name="index-sc_002deref_002dexit-122"></a><a name="index-eref_002dexit-_0028sc_002d_0029-123"></a>Exit from electric reference mode and insert the current header into the
reply buffer.

     <br>
</dd>
<dt>
<code>sc-eref-abort</code> (<kbd>q</kbd>, <kbd>x</kbd>)</dt>
<dd>
<a name="index-sc_002deref_002dabort-124"></a><a name="index-eref_002dabort-_0028sc_002d_0029-125"></a><a name="index-x-126"></a>Exit from electric reference mode without inserting the current header. 
</dd>
</dl>

   <p><a name="index-sc_002delectric_002dmode_002dhook-127"></a><a name="index-electric_002dmode_002dhook-_0028sc_002d_0029-128"></a>Supercite will execute the hook <code>sc-electric-mode-hook</code> before
entering electric reference mode.

</p>
<div class="node"><a name="Getting-Connected"></a></div>

<h2 class="chapter">5 Getting Connected</h2>

<p><a name="index-citation-interface-specification-129"></a>
<a name="index-mail_002dcitation_002dhook-130"></a><a name="index-g_t_002eemacs-file-131"></a>In most cases, all that is necessary to begin using Supercite is to add
the following to <samp><span class="file">~.emacs</span></samp>:

</p>
<pre class="example">     (add-hook 'mail-citation-hook 'sc-cite-original)
</pre>
   <p class="noindent">For more details of the process, read on<small class="dots">...</small>

   </p>
<p>Hitting <kbd>C-c C-y</kbd> in your MUA's reply buffer yanks and cites the
original message into the reply buffer.  In reality, the citation of the
original message is performed via a call through a configurable hook
variable.  The name of this variable has been agreed to in advance as
part of the <dfn>citation interface specification</dfn>.  By default this
hook variable has a <code>nil</code> value, which the MUA recognizes to mean,
“use your default citation function.”  When you add Supercite's
citation function to the hook, thereby giving the variable a
non-<code>nil</code> value, it tells the MUA to run the hook via
<code>run-hooks</code> instead of using the default citation.

   </p>
<p>Early in Supercite's development, the Supercite author, a few MUA
authors, and some early Supercite users got together and agreed upon a
standard interface between MUAs and citation packages (of which
Supercite is currently the only known add-on <tt>:-)</tt>.  Supercite can
probably be used with most Emacs MUAs, with a greater or lesser degree
of effort.

   </p>
<p>To learn exactly how to connect Supercite to the software systems you
are using, read the appropriate following sections.  For details on the
interface specifications, or if you are writing or maintaining an MUA,
see <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>.

   </p>
<p><a name="index-autoload-132"></a><a name="index-g_t_002eemacs-file-133"></a><a name="index-sc_002dcite_002doriginal-134"></a><a name="index-cite_002doriginal-_0028sc_002d_0029-135"></a>The first thing that everyone should do, regardless of the MUA you are
using is to set up Emacs so it will load Supercite at the appropriate
time.  This happens automatically if Supercite is distributed with your
Emacs version.  If not, you can set up an <dfn>autoload</dfn> for Supercite.

   </p>
<p>To do the latter, put the following in your <samp><span class="file">.emacs</span></samp> file:

</p>
<pre class="example">     (autoload 'sc-cite-original "supercite" nil t)
</pre>
   <p><a name="index-point-136"></a><a name="index-mark-137"></a>The function <code>sc-cite-original</code> is the top-level Supercite function
designed to be run from the citation hook.  It expects
`<samp><span class="samp">point</span></samp>' and `<samp><span class="samp">mark</span></samp>' to be set around the region to cite, and it
expects the original article's mail headers to be present within this
region.  Note that Supercite <em>never</em> touches any text outside this
region.  Note further that the region need not be active
for <code>sc-cite-original</code> to do its job. 
See <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>.

   </p>
<p>The other step in the getting connected process is to make sure your
MUA calls <code>sc-cite-original</code> at the right time.  As mentioned
above, some MUAs handle this differently.  Read the sections that follow
pertaining to the MUAs you are using.

   </p>
<p><a name="index-sc_002dload_002dhook-138"></a><a name="index-load_002dhook-_0028sc_002d_0029-139"></a><a name="index-sc_002dpre_002dhook-140"></a><a name="index-pre_002dhook-_0028sc_002d_0029-141"></a>One final note.  After Supercite is loaded into your Emacs session, it
runs the hook <code>sc-load-hook</code>.  You can put any customizations into
this hook since it is only run once.  This will not work, however, if
your Emacs maintainer has put Supercite into your dumped Emacs image. 
In that case, you can use the <code>sc-pre-hook</code> variable, but this will
get executed every time <code>sc-cite-original</code> is called.  See <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>.

</p>
<div class="node"><a name="Replying-and-Yanking"></a></div>

<h2 class="chapter">6 Replying and Yanking</h2>

<p>This chapter explains what happens when you reply and yank an original
message from an MUA.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a accesskey="2" href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
</ul>

<div class="node"><a name="Reply-Buffer-Initialization"></a></div>

<h3 class="section">6.1 Reply Buffer Initialization</h3>

<p><a name="index-sc_002dcite_002doriginal-142"></a><a name="index-cite_002doriginal-_0028sc_002d_0029-143"></a>
Executing <code>sc-cite-original</code> performs the following steps as it
initializes the reply buffer:

     </p>
<ol type="1" start="1">
<li>
<a name="index-sc_002dpre_002dhook-144"></a><a name="index-pre_002dhook-_0028sc_002d_0029-145"></a><em>Runs </em><code>sc-pre-hook</code><em>.</em>
This hook variable is run before <code>sc-cite-original</code> does any other
work.  You could conceivably use this hook to set certain Supercite
variables based on the reply buffer's mode or name (i.e., to do
something different based on whether you are replying or following up to
an article).

     </li>
<li>
<em>Inserts Supercite's keymap.</em>
<a name="index-sc_002dmode_002dmap_002dprefix-146"></a><a name="index-mode_002dmap_002dprefix-_0028sc_002d_0029-147"></a><a name="index-C_002dc-C_002dp-148"></a><a name="index-keymap-prefix-149"></a>Supercite provides a number of commands for performing post-yank
modifications to the reply buffer.  These commands are installed on
Supercite's top-level keymap.  Since Supercite has to interface with a
wide variety of MUAs, it does not install all of its commands directly
into the reply buffer's keymap.  Instead, it puts its commands on a
keymap prefix, then installs this prefix onto the buffer's keymap.  What
this means is that you typically have to type more characters to invoke
a Supercite command, but Supercite's key bindings can be made much more
consistent across MUAs.

     <p>You can control what key Supercite uses as its keymap prefix by changing
the variable <code>sc-mode-map-prefix</code>.  By default, this variable is
set to <code>C-c C-p</code>; a finger twister perhaps, but unfortunately the
best default due to the scarcity of available key bindings in many MUAs.

     </p>
</li>
<li>
<em>Turns on Supercite minor mode.</em>
<a name="index-modeline-150"></a>The modeline of the reply buffer should indicate that Supercite is
active in that buffer by displaying the string `<samp><span class="samp">SC</span></samp>'.

     </li>
<li>
<em>Sets the “Undo Boundary.”</em>
<a name="index-undo-boundary-151"></a>Supercite sets an undo boundary before it begins to modify the original
yanked text.  This allows you to easily undo Supercite's changes to
affect alternative citing styles.

     </li>
<li>
<em>Processes the mail headers.</em>
<a name="index-sc_002dconfirm_002dalways_002dp-152"></a><a name="index-confirm_002dalways_002dp-_0028sc_002d_0029-153"></a><a name="index-sc_002dmail_002dwarn_002dif_002dnon_002drfc822_002dp-154"></a><a name="index-mail_002dwarn_002dif_002dnon_002drfc822_002dp-_0028sc_002d_0029-155"></a>All previously retrieved info key-value pairs are deleted from the info
alist, then the mail headers in the body of the yanked message are
scanned.  Info key-value pairs are created for each header found.  Also,
such useful information as the author's name and email address are
extracted.  If the variable <code>sc-mail-warn-if-non-rfc822-p</code> is
non-<code>nil</code>, then Supercite will warn you if it finds a mail header
that does not conform to RFC822.  This is rare and indicates a problem
either with your MUA or the original author's MUA, or some MTA (mail
transport agent) along the way.

     <p><a name="index-sc_002dnuke_002dmail_002dheaders-156"></a><a name="index-sc_002dnuke_002dmail_002dheader_002dlist-157"></a><a name="index-nuke_002dmail_002dheaders-_0028sc_002d_0029-158"></a><a name="index-nuke_002dmail_002dheader_002dlist-_0028sc_002d_0029-159"></a>Once the info keys have been extracted from the mail headers, the
headers are nuked from the reply buffer.  You can control exactly which
headers are removed or kept, but by default, all headers are removed.

     </p>
<p>There are two variables which control mail header nuking.  The variable
<code>sc-nuke-mail-headers</code> controls the overall behavior of the header
nuking routines.  By setting this variable to <code>'all</code>, you
automatically nuke all mail headers.  Likewise, setting this variable to
<code>'none</code> inhibits nuking of any mail headers.  In between these
extremes, you can tell Supercite to nuke only a specified list of mail
headers by setting this variable to <code>'specified</code>, or to keep only a
specified list of headers by setting it to <code>'keep</code>.

     </p>
<p>If <code>sc-nuke-mail-headers</code> is set to <code>'specified</code> or
<code>'keep</code>, then the variable <code>sc-nuke-mail-header-list</code> is
consulted for the list of headers to nuke or keep.  This variable
contains a list of regular expressions.  If the mail header line matches
a regular expression in this list, the header will be nuked or kept. 
The line is matched against the regexp using <code>looking-at</code> rooted at
the beginning of the line.

     </p>
<p><a name="index-sc_002dblank_002dlines_002dafter_002dheaders-160"></a><a name="index-blank_002dlines_002dafter_002dheaders-_0028sc_002d_0029-161"></a>If the variable <code>sc-blank-lines-after-headers</code> is non-<code>nil</code>,
it contains the number of blank lines remaining in the buffer after mail
headers are nuked.  By default, only one blank line is left in the buffer.

     </p>
</li>
<li>
<em>Selects the attribution and citation strings.</em>
Once the mail headers have been processed, Supercite selects a
attribution string and a citation string which it will use to cite the
original message.  See <a href="#Selecting-an-Attribution">Selecting an Attribution</a>, for details.

     </li>
<li>
<em>Cites the message body.</em>
<a name="index-sc_002dcite_002dregion_002dlimit-162"></a><a name="index-cite_002dregion_002dlimit-_0028sc_002d_0029b-163"></a>After the selection of the attribution and citation strings, Supercite
cites the original message by inserting the citation string prefix in
front of every uncited line.  You may not want Supercite to
automatically cite very long messages however.  For example, some email
could contain a smaller header section followed by a huge uuencoded
message.  It wouldn't make sense to cite the uuencoded message part when
responding to the original author's short preface.  For this reason,
Supercite provides a variable which limits the automatic citation of
long messages to a certain maximum number of lines.  The variable is
called <code>sc-cite-region-limit</code>.  If this variable contains an
integer, messages with more lines that this will not be cited at all,
and a warning message will be displayed.  Supercite has performed
everything necessary, though, for you to manually cite only the small
portion of the original message that you want to use.

     <p>If <code>sc-cite-region-limit</code> contains a non-<code>nil</code> value, the
original message will always be cited, regardless of its size.  If the
variable contains the value <code>nil</code>, the region will never be cited
automatically.  Use this if you always want to be able to edit and cite
the message manually.

     </p>
<p><a name="index-sc_002dcite_002dblank_002dlines_002dp-164"></a><a name="index-cite_002dblank_002dlines_002dp-_0028sc_002d_0029-165"></a>The variable <code>sc-cite-blank-lines-p</code> controls whether blank lines
in the original message should be cited or not.  If this variable is
non-<code>nil</code>, blank lines will be cited just like non-blank lines. 
Otherwise, blank lines will be treated as paragraph separators.

     </p>
<p>Citing of the original message is highly configurable.  Supercite's
default setup does a pretty good job of citing many common forms of
previously cited messages.  But there are as many citation styles out
there as people on the net, or just about!  It would be impossible for
Supercite to anticipate every style in existence, and you probably
wouldn't encounter them all anyway.  But you can configure Supercite to
recognize those styles you see often. 
See <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>, for details.

     </p>
</li>
<li>
<em>Runs </em><code>sc-post-hook</code><em>.</em>
<a name="index-sc_002dpost_002dhook-166"></a><a name="index-post_002dhook-_0028sc_002d_0029-167"></a>This variable is very similar to <code>sc-pre-hook</code>, except that it runs
after <code>sc-cite-original</code> is finished.  This hook is provided mostly
for completeness and backward compatibility.  Perhaps it could be used to
reset certain variables set in <code>sc-pre-hook</code>.
        </li>
</ol>

<div class="node"><a name="Filling-Cited-Text"></a></div>

<h3 class="section">6.2 Filling Cited Text</h3>

<p><a name="index-filling-paragraphs-168"></a><a name="index-sc_002dauto_002dfill_002dregion_002dp-169"></a><a name="index-auto_002dfill_002dregion_002dp-_0028sc_002d_0029-170"></a><a name="index-filladapt-171"></a><a name="index-gin_002dmode-172"></a><a name="index-sc_002dsetup_002dfilladapt-173"></a><a name="index-setup_002dfilladapt-_0028sc_002d_0029-174"></a><a name="index-sc_002dload_002dhook-175"></a><a name="index-load_002dhook-_0028sc_002d_0029-176"></a>
Supercite will automatically fill newly cited text from the original
message unless the variable <code>sc-auto-fill-region-p</code> has a
<code>nil</code> value.  Supercite will also re-fill paragraphs when you
manually cite or re-cite text.

   </p>
<p>However, during normal editing, Supercite itself cannot be used to fill
paragraphs.  This is a change from version 2.  There are other add-on
lisp packages which do filling much better than Supercite ever did.  The
two best known are <dfn>filladapt</dfn> and <dfn>gin-mode</dfn>.  Both work well
with Supercite and both are available at the normal Emacs Lisp archive
sites.  <dfn>gin-mode</dfn> works pretty well out of the box, but if you use
<dfn>filladapt</dfn>, you may want to run the function
<code>sc-setup-filladapt</code> from your <code>sc-load-hook</code>.  This simply
makes <dfn>filladapt</dfn> a little more Supercite savvy than its default
setup.

   </p>
<p><a name="index-sc_002dfixup_002dwhitespace_002dp-177"></a><a name="index-fixup_002dwhitespace_002dp-_0028sc_002d_0029-178"></a>Also, Supercite will collapse leading whitespace between the citation
string and the text on a line when the variable
<code>sc-fixup-whitespace-p</code> is non-<code>nil</code>.  The default value for
this variable is <code>nil</code>.

   </p>
<p><a name="index-fill_002dprefix-179"></a>Its important to understand that Supercite's automatic filling (during
the initial citation of the reply) is very fragile.  That is because
figuring out the <code>fill-prefix</code> for a particular paragraph is a
really hard thing to do automatically.  This is especially the case when
the original message contains code or some other text where leading
whitespace is important to preserve.  For this reason, many Supercite
users typically run with <code>sc-auto-fill-region-p</code> (and possibly also
<code>sc-fixup-whitespace-p</code>) set to <code>nil</code>.  They then manually
fill each cited paragraph in the reply buffer.

   </p>
<p>I usually run with both these variables containing their default values. 
When Supercite's automatic filling breaks on a particular message, I
will use Emacs's undo feature to undo back before the citation was
applied to the original message.  Then I'll toggle the variables and
manually cite those paragraphs that I don't want to fill or collapse
whitespace on.  See <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>.

   </p>
<p><a name="index-C_002dc-C_002dp-C_002dp-180"></a>If you find that Supercite's automatic filling is just too fragile for
your tastes, you might consider one of these alternate approaches. 
Also, to make life easier, a shortcut function to toggle the state of
both of these variables is provided on the key binding
<kbd>C-c C-p C-p</kbd> (with the default value of <code>sc-mode-map-prefix</code>;
see <a href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>).

   </p>
<p>You will noticed that the minor mode string will
show the state of these variables as qualifier characters.  When both
variables are <code>nil</code>, the Supercite minor mode string will display
`<samp><span class="samp">SC</span></samp>'.  When just <code>sc-auto-fill-region-p</code> is non-<code>nil</code>, the
string will display `<samp><span class="samp">SC:f</span></samp>', and when just
<code>sc-fixup-whitespace-p</code> is non-<code>nil</code>, the string will display
`<samp><span class="samp">SC:w</span></samp>'.  When both variables are non-<code>nil</code>, the string will
display `<samp><span class="samp">SC:fw</span></samp>'.  Note that the qualifiers chosen are mnemonics for
the default bindings of the toggling function for each respective
variable. 
See <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>.

   </p>
<p>Why are these variables not set to <code>nil</code> by default?  It is because
many users won't manually fill paragraphs that are Supercited, and there
have been widespread complaints on the net about mail and news messages
containing lines greater than about 72 characters.  So the default is to
fill cited text.

</p>
<div class="node"><a name="Selecting-an-Attribution"></a></div>

<h2 class="chapter">7 Selecting an Attribution</h2>

<p><a name="index-attribution-list-181"></a><a name="index-sc_002dpreferred_002dattribution_002dlist-182"></a><a name="index-preferred_002dattribution_002dlist-_0028sc_002d_0029-183"></a>
As you know, the attribution string is the part of the author's name
that will be used to composed a non-nested citation string.  Supercite
scans the various mail headers present in the original article and uses
a number of heuristics to extract strings which it puts into the
<dfn>attribution association list</dfn> or <dfn>attribution alist</dfn>.  This is
analogous, but different than, the info alist previously mentioned.  Each
element in the attribution alist is a key-value pair containing such
information as the author's first name, middle names, and last name, the
author's initials, and the author's email terminus.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Attribution-Preferences">Attribution Preferences</a>
</li>
<li>
<a accesskey="2" href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a accesskey="3" href="#Author-Names">Author Names</a>
</li>
</ul>

<div class="node"><a name="Attribution-Preferences"></a></div>

<h3 class="section">7.1 Attribution Preferences</h3>

<p>When you cite an original message, you can tell Supercite which part of
the author's name you would prefer it to use as the attribution.  The
variable <code>sc-preferred-attribution-list</code> controls this; it contains
keys which are matched against the attribution alist in the given order. 
The first value of a key that produces a non-<code>nil</code>, non-empty
string match is used as the attribution string, and if no keys match, a
secondary mechanism is used to generate the attribution. 
See <a href="#Anonymous-Attributions">Anonymous Attributions</a>.

   </p>
<p>The following preferences are always available in the attribution alist
(barring error):

     </p>
<dl>
<dt><code>"emailname"</code></dt>
<dd>the author's email terminus.

     <br>
</dd>
<dt><code>"initials"</code></dt>
<dd>the author's initials.

     <br>
</dd>
<dt><code>"firstname"</code></dt>
<dd>the author's first name.

     <br>
</dd>
<dt><code>"lastname"</code></dt>
<dd>the author's last name.

     <br>
</dd>
<dt><code>"middlename-1"</code></dt>
<dd>the author's first middle name.

     <br>
</dd>
<dt><code>"sc-lastchoice"</code></dt>
<dd>the last attribution string you have selected.  This is useful when you
recite paragraphs in the reply.

     <br>
</dd>
<dt><code>"sc-consult"</code></dt>
<dd>
<a name="index-sc_002dattrib_002dselection_002dlist-184"></a><a name="index-attrib_002dselection_002dlist-_0028sc_002d_0029-185"></a>consults the customizable list <code>sc-attrib-selection-list</code> which can
be used to select special attributions based on the value of any info
key.  See below for details.

     <br>
</dd>
<dt><code>"x-attribution"</code></dt>
<dd>the original author's suggestion for attribution string choice.  See below
for details. 
</dd>
</dl>

   <p>Middle name indexes can be any positive integer greater than zero,
though it is unlikely that many authors will have more than one middle
name, if that many.

   </p>
<p>At this point, let me digress into a discussion of etiquette.  It is my
belief that while the style of the citations is a reflection of the
personal tastes of the replier (i.e., you), the attribution selection is
ultimately the personal choice of the original author.  In a sense it is
his or her “net nickname”, and therefore the author should have some
say in the selection of attribution string.  Imagine how you would feel
if someone gave you a nickname that you didn't like?

   </p>
<p>For this reason, Supercite recognizes a special mail header,
`<samp><span class="samp">X-Attribution:</span></samp>', which if present, tells Supercite the attribution
string preferred by the original author.  It is the value of this header
that is associated with the <code>"x-attribution"</code> key in the
attribution alist.  Currently, you can override the preference of this
key by changing <code>sc-preferred-attribution-list</code>, but that isn't
polite, and in the future Supercite may hard-code this.  For now, it is
suggested that if you change the order of the keys in this list, that
<code>"x-attribution"</code> always be first, or possible second behind only
<code>"sc-lastchoice"</code>.  This latter is the default.

   </p>
<p><a name="index-sc_002dattrib_002dselection_002dlist-186"></a><a name="index-attrib_002dselection_002dlist-_0028sc_002d_0029-187"></a>The value <code>"sc-consult"</code> in <code>sc-preferred-attribution-list</code>
has a special meaning during attribution selection.  When Supercite
encounters this preference, it begins processing a customizable list of
attributions, contained in the variable <code>sc-attrib-selection-list</code>. 
Each element in this list contains lists of the following form:

</p>
<pre class="example">     (<var>infokey</var> ((<var>regexp</var> . <var>attribution</var>)
              (<var>regexp</var> . <var>attribution</var>)
              (...)))
</pre>
   <p class="noindent"><a name="index-sc_002dmail_002dfield-188"></a><a name="index-mail_002dfield-_0028sc_002d_0029-189"></a>where <var>infokey</var> is a key for <code>sc-mail-field</code> and <var>regexp</var>
is a regular expression to match against the <var>infokey</var>'s value.  If
<var>regexp</var> matches the <var>infokey</var>'s value, the <var>attribution</var> is
used as the attribution string.  Actually, <var>attribution</var> can be a
string or a list; if it is a list, it is <code>eval</code>uated and the return
value (which must be a string), is used as the attribution.

   </p>
<p>This can be very useful for when you are replying to net acquaintances
who do not use the `<samp><span class="samp">X-Attribution:</span></samp>' mail header.  You may know
what nickname they would prefer to use, and you can set up this list to
match against a specific mail field, e.g., `<samp><span class="samp">From:</span></samp>', allowing you
to cite your friend's message with the appropriate attribution.

</p>
<div class="node"><a name="Anonymous-Attributions"></a></div>

<h3 class="section">7.2 Anonymous Attributions</h3>

<p><a name="index-sc_002ddefault_002dauthor_002dname-190"></a><a name="index-default_002dauthor_002dname-_0028sc_002d_0029-191"></a><a name="index-sc_002ddefault_002dattribution-192"></a><a name="index-default_002dattribution-_0028sc_002d_0029-193"></a>
When the author's name cannot be found in the `<samp><span class="samp">From:</span></samp>' mail
header, a fallback author name and attribution string must be supplied. 
The fallback author name is contained in the variable
<code>sc-default-author-name</code> and the fallback attribution string is
contained in the variable <code>sc-default-attribution</code>.  Default values
for these variables are <code>"Anonymous"</code> and <code>"Anon"</code>,
respectively.  Note that in most circumstances, getting the default
author name or attribution is a sign that something is set up
incorrectly.

   </p>
<p><a name="index-sc_002duse_002donly_002dpreference_002dp-194"></a><a name="index-use_002donly_002dpreference_002dp-_0028sc_002d_0029-195"></a>Also, if the preferred attribution, which you specified in your
<code>sc-preferred-attribution-list</code> variable cannot be found, a
secondary method can be employed to find a valid attribution string.  The
variable <code>sc-use-only-preference-p</code> controls what happens in this
case.  If the variable's value is non-<code>nil</code>, then
<code>sc-default-author-name</code> and <code>sc-default-attribution</code> are
used, otherwise, the following steps are taken to find a valid
attribution string, and the first step to return a non-<code>nil</code>,
non-empty string becomes the attribution:

     </p>
<ol type="1" start="1">
<li>Use the last selected attribution, if there is one.

     </li>
<li>Use the value of the <code>"x-attribution"</code> key.

     </li>
<li>Use the author's first name.

     </li>
<li>Use the author's last name.

     </li>
<li>Use the author's initials.

     </li>
<li>Find the first non-<code>nil</code>, non-empty attribution string in the
attribution alist.

     </li>
<li>
<code>sc-default-attribution</code> is used.
        </li>
</ol>

   <p><a name="index-sc_002dconfirm_002dalways_002dp-196"></a><a name="index-confirm_002dalways_002dp-_0028sc_002d_0029-197"></a>Once the attribution string has been automatically selected, a number of
things can happen.  If the variable <code>sc-confirm-always-p</code> is
non-<code>nil</code>, you are queried for confirmation of the chosen
attribution string.  The possible values for completion are those strings
in the attribution alist, however you are not limited to these choices. 
You can type any arbitrary string at the confirmation prompt.  The string
you enter becomes the value associated with the <code>"sc-lastchoice"</code>
key in the attribution alist.

   </p>
<p><a name="index-sc_002ddowncase_002dp-198"></a><a name="index-downcase_002dp-_0028sc_002d_0029-199"></a>Once an attribution string has been selected, Supercite will force the
string to lower case if the variable <code>sc-downcase-p</code> is
non-<code>nil</code>.

   </p>
<p><a name="index-sc_002dattribs_002dpreselect_002dhook-200"></a><a name="index-attribs_002dpreselect_002dhook-_0028sc_002d_0029-201"></a><a name="index-sc_002dattribs_002dpostselect_002dhook-202"></a><a name="index-attribs_002dpostselect_002dhook-_0028sc_002d_0029-203"></a>
Two hook variables provide even greater control of the attribution
selection process.  The hook <code>sc-attribs-preselect-hook</code> is run
before any attribution is selected.  Likewise, the hook
<code>sc-attribs-postselect-hook</code> is run after the attribution is
selected (and the corresponding citation string is built), but before
these values are committed for use by Supercite.  During the
post-selection hook, the local variables <code>attribution</code> and
<code>citation</code> are bound to the appropriate strings.  By changing these
variables in your hook functions, you change the attribution and
citation strings used by Supercite.  One possible use of this would be
to override any automatically derived attribution string when it is only
one character long; e.g., you prefer to use <code>"initials"</code> but the
author only has one name.

</p>
<div class="node"><a name="Author-Names"></a></div>

<h3 class="section">7.3 Author Names</h3>

<p><a name="index-author-names-204"></a>
Supercite employs a number of heuristics to decipher the author's name
based on value of the `<samp><span class="samp">From:</span></samp>' mail field of the original message. 
Supercite can recognize almost all of the common `<samp><span class="samp">From:</span></samp>' field
formats in use.  If you encounter a `<samp><span class="samp">From:</span></samp>' field that Supercite
cannot parse, please report this bug using <kbd>M-x report-emacs-bug</kbd>.

   </p>
<p><a name="index-sc_002dtitlecue_002dregexp-205"></a><a name="index-titlecue_002dregexp-_0028sc_002d_0029-206"></a>There are a number of Supercite variables that control how author names
are extracted from the `<samp><span class="samp">From:</span></samp>' header.  Some headers may contain a
descriptive title as in:

</p>
<pre class="example">     From: computer!speedy!doe (John Xavier-Doe -- Decent Hacker)
</pre>
   <p>Supercite knows which part of the `<samp><span class="samp">From:</span></samp>' header is email address
and which part is author name, but in this case the string <code>"Decent
Hacker"</code> is not part of the author's name.  You can tell Supercite to
ignore the title, while still recognizing hyphenated names through the
use of a regular expression in the variable <code>sc-titlecue-regexp</code>. 
This variable has the default value of <code>"\\\\s +-+\\\\s +"</code>.  Any
text after this regexp is encountered is ignored as noise.

   </p>
<p><a name="index-sc_002dname_002dfilter_002dalist-207"></a><a name="index-name_002dfilter_002dalist-_0028sc_002d_0029-208"></a>Some `<samp><span class="samp">From:</span></samp>' headers may contain extra titles in the name fields
not separated by a title cue, but which are nonetheless not part of the
author's name proper.  Examples include the titles “Dr.”, “Mr.”,
“Ms.”, “Jr.”, “Sr.”, and “III” (e.g., Thurston Howe, the Third). 
Also, some companies prepend or append the name of the division,
organization, or project on the author's name.  All of these titles are
noise which should be ignored.  The variable <code>sc-name-filter-alist</code>
is used for this purpose.  As implied by its name, this variable is an
association list, where each element is a cons cell of the form:

</p>
<pre class="example">     (<var>regexp</var> . <var>position</var>)
</pre>
   <p class="noindent">where <var>regexp</var> is a regular expression that is matched (using
<code>string-match</code>) against each element of the `<samp><span class="samp">From:</span></samp>' field's
author name.  <var>position</var> is a position indicator, starting at zero. 
Thus to strip out all titles of “Dr.”, “Mr.”, etc.  from the name,
<code>sc-name-filter-alist</code> would have an entry such as:

</p>
<pre class="example">     ("^\\(Mr\\|Mrs\\|Ms\\|Dr\\)[.]?$" . 0)
</pre>
   <p class="noindent">which only removes them if they appear as the first word in the name. 
The position indicator is an integer, or one of the two special symbols
<code>last</code> or <code>any</code>.  <code>last</code> always matches against the last
word in the name field, while <code>any</code> matches against every word in
the name field.

</p>
<div class="node"><a name="Configuring-the-Citation-Engine"></a></div>

<h2 class="chapter">8 Configuring the Citation Engine</h2>

<p><a name="index-Regi-209"></a><a name="index-frames-_0028Regi_0029-210"></a><a name="index-entries-_0028Regi_0029-211"></a>
At the heart of Supercite is a regular expression interpreting engine
called <dfn>Regi</dfn>.  Regi operates by interpreting a data structure
called a Regi-frame (or just <dfn>frame</dfn>), which is a list of
Regi-entries (or just <dfn>entry</dfn>).  Each entry contains a predicate,
typically a regular expression, which is matched against a line of text
in the current buffer.  If the predicate matches true, an associated
expression is <code>eval</code>uated.  In this way, an entire region of text
can be transformed in an <em>awk</em>-like manner.  Regi is used
throughout Supercite, from mail header information extraction, to header
nuking, to citing text.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Using-Regi">Using Regi</a>
</li>
<li>
<a accesskey="2" href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
</ul>

   <p>While the details of Regi are discussed below (see <a href="#Using-Regi">Using Regi</a>), only
those who wish to customize certain aspects of Supercite need concern
themselves with it.  It is important to understand though, that any
conceivable citation style that can be described by a regular expression
can be recognized by Supercite.  This leads to some interesting
applications.  For example, if you regularly receive email from a
co-worker that uses an uncommon citation style (say one that employs a
`<samp><span class="samp">|</span></samp>' or `<samp><span class="samp">}</span></samp>' character at the front of the line), it is
possible for Supercite to recognize this and <em>coerce</em> the citation
to your preferred style, for consistency.  In theory, it is possible for
Supercite to recognize such things as uuencoded messages or C code and
cite or fill those differently than normal text.  None of this is
currently part of Supercite, but contributions are welcome!

</p>
<div class="node"><a name="Using-Regi"></a></div>

<h3 class="section">8.1 Using Regi</h3>

<p><a name="index-regi_002dinterpret-212"></a><a name="index-eval-213"></a><a name="index-looking_002dat-214"></a>
Regi works by interpreting frames with the function
<code>regi-interpret</code>.  A frame is a list of arbitrary size where each
element is a entry of the following form:

</p>
<pre class="example">     (<var>pred</var> <var>func</var> [<var>negate-p</var> [<var>case-fold-search</var>]])
</pre>
   <p>Regi starts with the first entry in a frame, evaluating the <var>pred</var>
of that entry against the beginning of the line that `<samp><span class="samp">point</span></samp>' is on. 
If the <var>pred</var> evaluates to true (or false if the optional
<var>negate-p</var> is non-<code>nil</code>), then the <var>func</var> for that entry is
<code>eval</code>uated.  How processing continues is determined by the return
value for <var>func</var>, and is described below.  If <var>pred</var> was false
the next entry in the frame is checked until all entries have been
matched against the current line.  If no entry matches, `<samp><span class="samp">point</span></samp>' is
moved forward one line and the frame is reset to the first entry.

   </p>
<p><var>pred</var> can be a string, a variable, a list or one of the following
symbols: <code>t</code>, <code>begin</code>, <code>end</code>, or <code>every</code>.  If
<var>pred</var> is a string, or a variable or list that <code>eval</code>uates to a
string, it is interpreted as a regular expression.  This regexp is
matched against the current line, from the beginning, using
<code>looking-at</code>.  This match folds case if the optional
<var>case-fold-search</var> is non-<code>nil</code>.  If <var>pred</var> is not a
string, or does not <code>eval</code>uate to a string, it is interpreted as a
binary value (<code>nil</code> or non-<code>nil</code>).

   </p>
<p>The four special symbol values for <var>pred</var> are recognized:

     </p>
<dl>
<dt><code>t</code></dt>
<dd>Always produces a true outcome. 
<br>
</dd>
<dt><code>begin</code></dt>
<dd>Always executed before the frame is interpreted.  This can be used to
initialize some global variables for example. 
<br>
</dd>
<dt><code>end</code></dt>
<dd>Always executed after frame interpreting is completed.  This can be used
to perform any necessary post-processing. 
<br>
</dd>
<dt><code>every</code></dt>
<dd>Executes whenever the frame is reset, usually after the entire frame has
been matched against the current line. 
</dd>
</dl>

   <p>Note that <var>negate-p</var> and <var>case-fold-search</var> are ignored if
<var>pred</var> is one of these special symbols.  Only the first occurrence of
each symbol in a frame is used; any duplicates are ignored.  Also
note that for performance reasons, the entries associated with these
symbols are removed from the frame during the main interpreting loop.

   </p>
<p>Your <var>func</var> can return certain values which control continued Regi
processing.  By default, if your <var>func</var> returns <code>nil</code> (as it
should be careful to do explicitly), Regi will reset the frame to the
first entry, and advance `<samp><span class="samp">point</span></samp>' to the beginning of the next line. 
If a list is returned from your function, it can contain any combination
of the following elements:

     </p>
<dl>
<dt>the symbol <code>continue</code>
</dt>
<dd>This tells Regi to continue processing entries after a match, instead of
resetting the frame and moving `<samp><span class="samp">point</span></samp>'.  In this way, lines of text
can have multiple matches, but you have to be careful to avoid entering
infinite loops.

     <br>
</dd>
<dt>the symbol <code>abort</code>
</dt>
<dd>This tells Regi to terminate frame processing.  However, any <code>end</code>
entry is still processed.

     <br>
</dd>
<dt>the list <code>(frame . </code><var>newframe</var><code>)</code>
</dt>
<dd>This tells Regi to substitute <var>newframe</var> as the frame it is
interpreting.  In other words, your <var>func</var> can modify the Regi frame
on the fly.  <var>newframe</var> can be a variable containing a frame, or it
can be the frame in-lined.

     <br>
</dd>
<dt>the list <code>(step . </code><var>step</var><code>)</code>
</dt>
<dd>Tells Regi to move <var>step</var> number of lines forward as it continues
processing.  By default, Regi moves forward one line.  <var>step</var> can be
zero or negative of course, but watch out for infinite loops. 
</dd>
</dl>

   <p>During execution of your <var>func</var>, the following variables will be
temporarily bound to some useful information:

     </p>
<dl>
<dt><code>curline</code></dt>
<dd>The current line in the buffer that Regi is <code>looking-at</code>, as a string. 
<br>
</dd>
<dt><code>curframe</code></dt>
<dd>The current frame being interpreted. 
<br>
</dd>
<dt><code>curentry</code></dt>
<dd>The current frame entry being interpreted. 
</dd>
</dl>

<div class="node"><a name="Frames-You-Can-Customize"></a></div>

<h3 class="section">8.2 Frames You Can Customize</h3>

<p><a name="index-sc_002dnuke_002dmail_002dheader-215"></a>
As mentioned earlier, Supercite uses various frames to perform
certain jobs such as mail header information extraction and mail header
nuking.  However, these frames are not available for you to customize,
except through abstract interfaces such as <code>sc-nuke-mail-header</code>,
et al.

   </p>
<p><a name="index-sc_002ddefault_002dcite_002dframe-216"></a>However, the citation frames Supercite uses provide a lot of customizing
power and are thus available to you to change to suit your needs.  The
workhorse of citation is the frame contained in the variable
<code>sc-default-cite-frame</code>.  This frame recognizes many situations,
such as blank lines, which it interprets as paragraph separators.  It
also recognizes previously cited nested and non-nested citations in the
original message.  By default it will coerce non-nested citations into
your preferred citation style, and it will add a level of citation to
nested citations.  It will also simply cite uncited lines in your
preferred style.

   </p>
<p><a name="index-unciting-217"></a><a name="index-reciting-218"></a><a name="index-sc_002ddefault_002duncite_002dframe-219"></a><a name="index-sc_002ddefault_002drecite_002dframe-220"></a>In a similar vein, there are default frames for <dfn>unciting</dfn> and
<dfn>reciting</dfn>, contained in the variables
<code>sc-default-uncite-frame</code> and <code>sc-default-recite-frame</code>
respectively.

   </p>
<p>As mentioned earlier (see <a href="#Recognizing-Citations">Recognizing Citations</a>), citations are
recognized through the values of the regular expressions
<code>sc-citation-root-regexp</code>, et al.  To recognize odd styles, you
could modify these variables, or you could modify the default citing
frame.  Alternatively, you could set up association lists of frames for
recognizing specific alternative forms.

   </p>
<p><a name="index-sc_002dcite_002dframe_002dalist-221"></a><a name="index-sc_002duncite_002dframe_002dalist-222"></a><a name="index-sc_002drecite_002dframe_002dalist-223"></a>For each of the actions—citing, unciting, and reciting—an alist is
consulted to find the frame to use (<code>sc-cite-frame-alist</code>,
<code>sc-uncite-frame-alist</code>, and <code>sc-recite-frame-alist</code>
respectively).  These frames can contain alists of the form:

</p>
<pre class="example">     ((<var>infokey</var> (<var>regexp</var> . <var>frame</var>) (<var>regexp</var> . <var>frame</var>) ...)
      (<var>infokey</var> (<var>regexp</var> . <var>frame</var>) (<var>regexp</var> . <var>frame</var>) ...)
      (...))
</pre>
   <p><a name="index-sc_002dmail_002dfield-224"></a><a name="index-string_002dmatch-225"></a>Where <var>infokey</var> is a key suitable for <code>sc-mail-field</code>,
<var>regexp</var> is a regular expression which is <code>string-match</code>'d
against the value of the <code>sc-mail-field</code> key, and <var>frame</var> is
the frame to use if a match occurred.  <var>frame</var> can be a variable
containing a frame or a frame in-lined.

   </p>
<p>When Supercite is about to cite, uncite, or recite a region, it consults
the appropriate alist and attempts to find a frame to use.  If one
is not found from the alist, then the appropriate default frame is used.

</p>
<div class="node">
<a name="Post-yank-Formatting-Commands"></a><a name="Post_002dyank-Formatting-Commands"></a>
</div>

<h2 class="chapter">9 Post-yank Formatting Commands</h2>

<p><a name="index-sc_002dmode_002dmap_002dprefix-226"></a><a name="index-mode_002dmap_002dprefix-_0028sc_002d_0029-227"></a><a name="index-C_002dc-C_002dp-228"></a>
Once the original message has been yanked into the reply buffer, and
<code>sc-cite-original</code> has had a chance to do its thing, a number of
useful Supercite commands will be available to you.  Since there is wide
variety in the keymaps that MUAs set up in their reply buffers, it is
next to impossible for Supercite to properly sprinkle its commands into
the existing keymap.  For this reason Supercite places its commands on a
separate keymap, putting this keymap onto a prefix key in the reply
buffer.  You can customize the prefix key Supercite uses by changing the
variable <code>sc-mode-map-prefix</code>.  By default, the
<code>sc-mode-map-prefix</code> is <kbd>C-c C-p</kbd>; granted, not a great choice,
but unfortunately the best general solution so far.  In the rest of this
chapter, we'll assume you've installed Supercite's keymap on the default
prefix.

</p>
<ul class="menu">
<li>
<a accesskey="1" href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a accesskey="2" href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a accesskey="3" href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>
</li>
<li>
<a accesskey="4" href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a accesskey="5" href="#Miscellaneous-Commands">Miscellaneous Commands</a>
</li>
</ul>

<div class="node"><a name="Citing-Commands"></a></div>

<h3 class="section">9.1 Commands to Manually Cite, Recite, and Uncite</h3>

<p><a name="index-sc_002dcite_002dregion_002dlimit-229"></a>
Probably the three most common post-yank formatting operations that you
will perform will be the manual citing, reciting, and unciting of
regions of text in the reply buffer.  Often you may want to recite a
paragraph to use a nickname, or manually cite a message when setting
<code>sc-cite-region-limit</code> to <code>nil</code>.  The following commands
perform these functions on the region of text between `<samp><span class="samp">point</span></samp>' and
`<samp><span class="samp">mark</span></samp>'.  Each of them sets the <dfn>undo boundary</dfn> before modifying
the region so that the command can be undone in the standard Emacs
way.

   </p>
<p>Here is the list of Supercite citing commands:

     
<a name="index-sc_002dcite_002dregion-230"></a>
<a name="index-cite_002dregion-_0028sc_002d_0029-231"></a>
<a name="index-C_002dc-C_002dp-c-232"></a>
<a name="index-sc_002dpre_002dcite_002dhook-233"></a>
<a name="index-pre_002dcite_002dhook-_0028sc_002d_0029-234"></a>
<a name="index-sc_002dconfirm_002dalways_002dp-235"></a>
<a name="index-confirm_002dalways_002dp-236"></a>
<a name="index-C_002du-237"></a>
</p>
<dl>
<dt>
<code>sc-cite-region</code> (<kbd>C-c C-p c</kbd>)</dt>
<dd>This command cites each line in the region of text by interpreting the
selected frame from <code>sc-cite-frame-alist</code>, or the default citing
frame <code>sc-default-cite-frame</code>.  It runs the hook
<code>sc-pre-cite-hook</code> before interpreting the frame.  With an optional
universal argument (<kbd>C-u</kbd>), it temporarily sets
<code>sc-confirm-always-p</code> to <code>t</code> so you can confirm the
attribution string for a single manual citing. 
See <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>.

     <p><a name="index-sc_002duncite_002dregion-238"></a><a name="index-uncite_002dregion-_0028sc_002d_0029-239"></a><a name="index-C_002dc-C_002dp-u-240"></a><br></p>
</dd>
<dt>
<code>sc-uncite-region</code> (<kbd>C-c C-p u</kbd>)</dt>
<dd>This command removes any citation strings from the beginning of each
cited line in the region by interpreting the selected frame from
<code>sc-uncite-frame-alist</code>, or the default unciting frame
<code>sc-default-uncite-frame</code>.  It runs the hook
<code>sc-pre-uncite-hook</code> before interpreting the frame. 
See <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>.

     <p><a name="index-sc_002drecite_002dregion-241"></a><a name="index-recite_002dregion-_0028sc_002d_0029-242"></a><a name="index-C_002dc-C_002dp-r-243"></a><br></p>
</dd>
<dt>
<code>sc-recite-region</code> (<kbd>C-c C-p r</kbd>)</dt>
<dd>This command recites each line the region by interpreting the selected
frame from <code>sc-recite-frame-alist</code>, or the default reciting frame
<code>sc-default-recite-frame</code>.  It runs the hook
<code>sc-pre-recite-hook</code> before interpreting the frame. 
See <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>.

     <p><a name="index-sc_002dconfirm_002dalways_002dp-244"></a><a name="index-confirm_002dalways_002dp-_0028sc_002d_0029-245"></a>Supercite will always ask you to confirm the attribution when reciting a
region, regardless of the value of <code>sc-confirm-always-p</code>. 
</p>
</dd>
</dl>

<div class="node"><a name="Insertion-Commands"></a></div>

<h3 class="section">9.2 Insertion Commands</h3>

<p>These two functions insert various strings into the reply buffer.

     
<a name="index-sc_002dinsert_002dreference-246"></a>
<a name="index-insert_002dreference-_0028sc_002d_0029-247"></a>
<a name="index-C_002dc-C_002dp-w-248"></a>
</p>
<dl>
<dt>
<code>sc-insert-reference</code> (<kbd>C-c C-p w</kbd>)</dt>
<dd>
<a name="index-sc_002dpreferred_002dheader_002dstyle-249"></a><a name="index-preferred_002dheader_002dstyle-_0028sc_002d_0029-250"></a>Inserts a reference header into the reply buffer at `<samp><span class="samp">point</span></samp>'.  With
no arguments, the header indexed by <code>sc-preferred-header-style</code> is
inserted.  An optional numeric argument is the index into
<code>sc-rewrite-header-list</code> indicating which reference header to
write.

     <p>With just the universal argument (<kbd>C-u</kbd>), electric reference mode is
entered, regardless of the value of <code>sc-electric-references-p</code>.

     </p>
<p><a name="index-sc_002dinsert_002dcitation-251"></a><a name="index-insert_002dcitation-_0028sc_002d_0029-252"></a><a name="index-C_002dc-C_002dp-i-253"></a><br></p>
</dd>
<dt>
<code>sc-insert-citation</code> (<kbd>C-c C-p i</kbd>)</dt>
<dd>Inserts the current citation string at the beginning of the line that
`<samp><span class="samp">point</span></samp>' is on.  If the line is already cited, Supercite will issue
an error and will not cite the line. 
</dd>
</dl>

<div class="node"><a name="Variable-Toggling-Shortcuts"></a></div>

<h3 class="section">9.3 Variable Toggling Shortcuts</h3>

<p><a name="index-toggling-variables-254"></a>
Supercite defines a number of commands that make it easier for you to
toggle and set various Supercite variables as you are editing the reply
buffer.  For example, you may want to turn off filling or whitespace
cleanup, but only temporarily.  These toggling shortcut commands make
this easy to do.

   </p>
<p><a name="index-C_002dc-C_002dp-C_002dt-255"></a>Like Supercite commands in general, the toggling commands are placed on
a keymap prefix within the greater Supercite keymap.  For the default
value of <code>sc-mode-map-prefix</code>, this will be
<kbd>C-c C-p C-t</kbd>.

   </p>
<p>The following commands toggle the value of certain Supercite variables
which take only a binary value:

     </p>
<dl>
<dt><kbd>C-c C-p C-t b</kbd></dt>
<dd>Toggles the variable <code>sc-mail-nuke-blank-lines-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t c</kbd></dt>
<dd>Toggles the variable <code>sc-confirm-always-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t d</kbd></dt>
<dd>Toggles the variable <code>sc-downcase-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t e</kbd></dt>
<dd>Toggles the variable <code>sc-electric-references-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t f</kbd></dt>
<dd>Toggles the variable <code>sc-auto-fill-region-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t o</kbd></dt>
<dd>Toggles the variable <code>sc-electric-circular-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t s</kbd></dt>
<dd>Toggles the variable <code>sc-nested-citation-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t u</kbd></dt>
<dd>Toggles the variable <code>sc-use-only-preferences-p</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t w</kbd></dt>
<dd>Toggles the variable <code>sc-fixup-whitespace-p</code>. 
</dd>
</dl>

   <p><a name="index-set_002dvariable-256"></a>The following commands let you set the value of multi-value variables,
in the same way that Emacs's <code>set-variable</code> does:

     </p>
<dl>
<dt><kbd>C-c C-p C-t a</kbd></dt>
<dd>Sets the value of the variable <code>sc-preferred-attribution-list</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t l</kbd></dt>
<dd>Sets the value of the variable <code>sc-cite-region-limit</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t n</kbd></dt>
<dd>Sets the value of the variable <code>sc-mail-nuke-mail-headers</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t N</kbd></dt>
<dd>Sets the value of the variable <code>sc-mail-header-nuke-list</code>.

     <br>
</dd>
<dt><kbd>C-c C-p C-t p</kbd></dt>
<dd>Sets the value of the variable <code>sc-preferred-header-style</code>. 
</dd>
</dl>

   <p><a name="index-C_002dc-C_002dp-C_002dp-257"></a>One special command is provided to toggle both
<code>sc-auto-fill-region-p</code> and <code>sc-fixup-whitespace-p</code> together. 
This is because you typically want to run Supercite with either variable
as <code>nil</code> or non-<code>nil</code>.  The command to toggle these variables
together is bound on <kbd>C-c C-p C-p</kbd>.

   </p>
<p>Finally, the command <kbd>C-c C-p C-t h</kbd> (also <kbd>C-c C-p C-t ?</kbd>)
brings up a Help message on the toggling keymap.

</p>
<div class="node"><a name="Mail-Field-Commands"></a></div>

<h3 class="section">9.4 Mail Field Commands</h3>

<p>These commands allow you to view, modify, add, and delete various bits
of information from the info alist. 
See <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>.

     
<a name="index-C_002dc-C_002dp-f-258"></a>
<a name="index-sc_002dmail_002dfield_002dquery-259"></a>
<a name="index-mail_002dfield_002dquery-_0028sc_002d_0029-260"></a>
<a name="index-C_002dc-C_002dp-f-261"></a>
</p>
<dl>
<dt>
<code>sc-mail-field-query</code> (<kbd>C-c C-p f</kbd>)</dt>
<dd>Allows you to interactively view, modify, add, and delete info alist
key-value pairs.  With no argument, you are prompted (with completion)
for a info key.  The value associated with that key is displayed in the
minibuffer.  With an argument, this command will first ask if you want
to view, modify, add, or delete an info key.  Viewing is identical to
running the command with no arguments.

     <p>If you want to modify the value of a key, Supercite will first prompt
you (with completion) for the key of the value you want to change.  It
will then put you in the minibuffer with the key's current value so you
can edit the value as you wish.  When you hit &lt;RET&gt;, the key's value
is changed.  Minibuffer history is kept for the values.

     </p>
<p>If you choose to delete a key-value pair, Supercite will prompt you (with
completion) for the key to delete.

     </p>
<p>If you choose to add a new key-value pair, Supercite firsts prompts you
for the key to add.  Note that completion is turned on for this prompt,
but you can type any key name here, even one that does not yet exist. 
After entering the key, Supercite prompts you for the key's value.  It
is not an error to enter a key that already exists, but the new value
will override any old value.  It will not replace it though; if you
subsequently delete the key-value pair, the old value will reappear.

     </p>
<p><a name="index-sc_002dmail_002dprocess_002dheaders-262"></a><a name="index-mail_002dprocess_002dheaders-_0028sc_002d_0029-263"></a><a name="index-C_002dc-C_002dp-g-264"></a><br></p>
</dd>
<dt>
<code>sc-mail-process-headers</code> (<kbd>C-c C-p g</kbd>)</dt>
<dd>This command lets you re-initialize Supercite's info alist from any set
of mail headers in the region between `<samp><span class="samp">point</span></samp>' and `<samp><span class="samp">mark</span></samp>'. 
This function is especially useful for replying to digest messages where
Supercite will initially set up its information for the digest
originator, but you want to cite each component article with the real
message author.  Note that unless an error during processing occurs, any
old information is lost. 
</dd>
</dl>

<div class="node"><a name="Miscellaneous-Commands"></a></div>

<h3 class="section">9.5 Miscellaneous Commands</h3>

     
<a name="index-sc_002dopen_002dline-265"></a>
<a name="index-open_002dline-_0028sc_002d_0029-266"></a>
<a name="index-open_002dline-267"></a>
<a name="index-C_002dc-C_002dp-o-268"></a>
<dl>
<dt>
<code>sc-open-line</code> (<kbd>C-c C-p o</kbd>)</dt>
<dd>Similar to Emacs's standard <code>open-line</code> commands, but inserts the
citation string in front of the new line.  As with <code>open-line</code>,
an optional numeric argument inserts that many new lines. 
</dd>
</dl>

<div class="node"><a name="Hints-to-MUA-Authors"></a></div>

<h2 class="chapter">10 Hints to MUA Authors</h2>

<p>In June of 1989, some discussion was held between the various MUA
authors, the Supercite author, and other Supercite users.  These
discussions centered around the need for a standard interface between
MUAs and Supercite (or any future Supercite-like packages).  This
interface was formally proposed by Martin Neitzel on Fri, 23 Jun 89, in
a mail message to the Supercite mailing list:

</p>
<pre class="example">             Martin&gt; Each news/mail-reader should provide a form of
             Martin&gt; mail-yank-original that
     
             Martin&gt; 1: inserts the original message incl. header into the
             Martin&gt;    reply buffer; no indentation/prefixing is done, the header
             Martin&gt;    tends to be a "full blown" version rather than to be
             Martin&gt;    stripped down.
     
             Martin&gt; 2: 'point' is at the start of the header, 'mark' at the
             Martin&gt;    end of the message body.
     
             Martin&gt; 3: (run-hooks 'mail-yank-hooks)
     
             Martin&gt; [Supercite] should be run as such a hook and merely
             Martin&gt; rewrite the message.  This way it isn't anymore
             Martin&gt; [Supercite]'s job to gather the original from obscure
             Martin&gt; sources. [...]
</pre>
   <p><a name="index-mail_002dcitation_002dhook-269"></a><a name="index-mail_002dyank_002dhooks-270"></a><a name="index-sendmail_002eel-271"></a><a name="index-mail_002dyank_002doriginal-272"></a><a name="index-defvar-273"></a>This specification was adopted, but underwent a slight modification with
the release of Emacs 19.  Instead of the variable
<code>mail-yank-hooks</code>, the hook variable that the MUA should provide is
<code>mail-citation-hook</code>.  Richard Stallman suggests that the MUAs
should <code>defvar</code> <code>mail-citation-hook</code> to <code>nil</code> and perform
some default citing when that is the case.

   </p>
<p>If you are writing a new MUA package, or maintaining an existing MUA
package, you should make it conform to this interface so that your users
will be able to link Supercite easily and seamlessly.  To do this, when
setting up a reply or forward buffer, your MUA should follow these
steps:

     </p>
<ol type="1" start="1">
<li>Insert the original message, including the mail headers into the reply
buffer.  At this point you should not modify the raw text in any way
(except for any necessary decoding, e.g., of quoted-printable text), and
you should place all the original headers into the body of the reply. 
This means that many of the mail headers will be duplicated, one copy
above the <code>mail-header-separator</code> line and one copy below, however
there will probably be more headers below this line.

     </li>
<li>Set `<samp><span class="samp">point</span></samp>' to the beginning of the line containing the first mail
header in the body of the reply.  Set `<samp><span class="samp">mark</span></samp>' at the end of the
message text.  It is very important that the region be set around the
text Supercite is to modify and that the mail headers are within this
region.  Supercite will not venture outside the region for any reason,
and anything within the region is fair game, so don't put anything that
<strong>must</strong> remain unchanged inside the region.

     </li>
<li>Run the hook <code>mail-citation-hook</code>.  You will probably want to
provide some kind of default citation functions in cases where the user
does not have Supercite installed.  By default, your MUA should
<code>defvar</code> <code>mail-citation-hook</code> to <code>nil</code>, and in your
yanking function, check its value.  If it finds
<code>mail-citation-hook</code> to be <code>nil</code>, it should perform some
default citing behavior.  User who want to connect to Supercite then
need only add <code>sc-cite-original</code> to this list of hooks using
<code>add-hook</code>.
        </li>
</ol>

   <p>If you do all this your MUA will join the ranks of those that conform to
this interface “out of the box.”

</p>
<div class="node"><a name="Thanks-and-History"></a></div>

<h2 class="chapter">11 Thanks and History</h2>

<p>The Supercite package was derived from its predecessor Superyank 1.11
which was inspired by various bits of code and ideas from Martin Neitzel
and Ashwin Ram.  They were the folks who came up with the idea of
non-nested citations and implemented some rough code to provide this
style.  Superyank and Supercite version 2 evolved to the point where much
of the attribution selection mechanism was automatic, and features have
been continuously added through the comments and suggestions of the
Supercite mailing list participants.

   </p>
<p>With version 3, Supercite underwent an almost complete rewrite,
benefiting in a number of ways, including vast improvements in the
speed of performance, a big reduction in size of the code and in the use
of Emacs resources, and a much cleaner and flexible internal
architecture.  Most of this work was internal and not of very great
importance to the casual user.  There were some changes at the
user-visible level, but for the most part, the Supercite configuration
variables from version 2 should still be relevant to version 3. 
Hopefully Supercite version 3 is faster, smaller, and much more flexible
than its predecessors.

   </p>
<p>In the version 2 manual I thanked some specific people for their help in
developing Supercite 2.  You folks know who you are and your continued
support is greatly appreciated.  I wish to thank everyone on the
Supercite mailing list, especially the brave alpha testers, who helped
considerably in testing out the concepts and implementation of Supercite
version 3.  Special thanks go out to the MUA and Emacs authors Kyle
Jones, Stephen Gildea, Richard Stallman, and Jamie Zawinski for coming
to a quick agreement on the new <code>mail-citation-hook</code> interface, and
for adding the magic lisp to their code to support this.

   </p>
<p>All who have helped and contributed have been greatly appreciated.

   </p>
<p>Supercite was written by Barry Warsaw.

</p>
<div class="node"><a name="GNU-Free-Documentation-License"></a></div>

<h2 class="appendix">Appendix A GNU Free Documentation License</h2>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright © 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type="1" start="0">
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     </p>
<p>This License is a kind of “copyleft”, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     </p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     </p>
</li>
<li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The “Document”, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as “you”.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     </p>
<p>A “Modified Version” of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     </p>
<p>A “Secondary Section” is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     </p>
<p>The “Invariant Sections” are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     </p>
<p>The “Cover Texts” are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     </p>
<p>A “Transparent” copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not “Transparent” is called “Opaque”.

     </p>
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.

     </p>
<p>The “Title Page” means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, “Title Page” means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     </p>
<p>The “publisher” means any person or entity that distributes copies
of the Document to the public.

     </p>
<p>A section “Entitled XYZ” means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as “Acknowledgements”,
“Dedications”, “Endorsements”, or “History”.)  To “Preserve the Title”
of such a section when you modify the Document means that it remains a
section “Entitled XYZ” according to this definition.

     </p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     </p>
</li>
<li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     </p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     </p>
</li>
<li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     </p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     </p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     </p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     </p>
</li>
<li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          </p>
<ol type="A" start="1">
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          </li>
<li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          </li>
<li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          </li>
<li>Preserve all the copyright notices of the Document.

          </li>
<li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          </li>
<li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          </li>
<li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          </li>
<li>Include an unaltered copy of this License.

          </li>
<li>Preserve the section Entitled “History”, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled “History” in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          </li>
<li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the “History” section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          </li>
<li>For any section Entitled “Acknowledgements” or “Dedications”, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          </li>
<li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          </li>
<li>Delete any section Entitled “Endorsements”.  Such a section
may not be included in the Modified Version.

          </li>
<li>Do not retitle any existing section to be Entitled “Endorsements” or
to conflict in title with any Invariant Section.

          </li>
<li>Preserve any Warranty Disclaimers.
          </li>
</ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     </p>
<p>You may add a section Entitled “Endorsements”, provided it contains
nothing but endorsements of your Modified Version by various
parties—for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     </p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     </p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     </p>
</li>
<li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     </p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     </p>
<p>In the combination, you must combine any sections Entitled “History”
in the various original documents, forming one section Entitled
“History”; likewise combine any sections Entitled “Acknowledgements”,
and any sections Entitled “Dedications”.  You must delete all
sections Entitled “Endorsements.”

     </p>
</li>
<li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     </p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     </p>
</li>
<li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an “aggregate” if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     </p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     </p>
</li>
<li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     </p>
<p>If a section in the Document is Entitled “Acknowledgements”,
“Dedications”, or “History”, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     </p>
</li>
<li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     </p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     </p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     </p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     </p>
</li>
<li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     </p>
<p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License “or any later version” applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     </p>
</li>
<li>RELICENSING

     <p>“Massive Multiauthor Collaboration Site” (or “MMC Site”) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
“Massive Multiauthor Collaboration” (or “MMC”) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     </p>
<p>“CC-BY-SA” means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     </p>
<p>“Incorporate” means to publish or republish a Document, in whole or
in part, as part of another Document.

     </p>
<p>An MMC is “eligible for relicensing” if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     </p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </p>
</li>
</ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

</p>
<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the “with<small class="dots">...</small>Texts.” line with this:

</p>
<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   </p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
</p>
<div class="node"><a name="Concept-Index"></a></div>

<h2 class="unnumbered">Concept Index</h2>

<ul class="index-cp" compact>
<li>
<a href="#index-g_t_002eemacs-file-133">.emacs file</a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-attribute_002c-attributing-8">attribute, attributing</a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a href="#index-attribution-info-field-_0028sc_002d_0029-53">attribution info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-attribution-list-181">attribution list</a>: <a href="#Selecting-an-Attribution">Selecting an Attribution</a>
</li>
<li>
<a href="#index-attribution-string-28">attribution string</a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-author-info-field-_0028sc_002d_0029-67">author info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-author-names-204">author names</a>: <a href="#Author-Names">Author Names</a>
</li>
<li>
<a href="#index-autoload-132">autoload</a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-citation-20">citation</a>: <a href="#Citations">Citations</a>
</li>
<li>
<a href="#index-citation-delimiter-29">citation delimiter</a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation-info-field-_0028sc_002d_0029-55">citation info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-citation-interface-specification-129">citation interface specification</a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-citation-leader-25">citation leader</a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation-separator-32">citation separator</a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation-string-24">citation string</a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-cite_002c-citing-7">cite, citing</a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a href="#index-electric-references-99">electric references</a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-emailname-info-field-_0028sc_002d_0029-63">emailname info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-entries-_0028Regi_0029-211">entries (Regi)</a>: <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>
</li>
<li>
<a href="#index-filladapt-15">filladapt</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-filladapt-171">filladapt</a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-filling-paragraphs-168">filling paragraphs</a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-firstname-info-field-_0028sc_002d_0029-69">firstname info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-frames-_0028Regi_0029-210">frames (Regi)</a>: <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>
</li>
<li>
<a href="#index-from_002daddress-info-field-_0028sc_002d_0029-57">from-address info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-gin_002dmode-172">gin-mode</a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-gin_002dmode-16">gin-mode</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-header-rewrite-functions-75">header rewrite functions</a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-header-rewrite-functions_002c-built_002din-80">header rewrite functions, built-in</a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-Info-Alist-46">Info Alist</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-info-alist-11">info alist</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-information-extracted-from-mail-fields-47">information extracted from mail fields</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-information-keys-45">information keys</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-initials-info-field-_0028sc_002d_0029-65">initials info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-keymap-prefix-149">keymap prefix</a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-lastname-info-field-_0028sc_002d_0029-71">lastname info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-mark-137">mark</a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-middlename_002d1-info-field-_0028sc_002d_0029-73">middlename-1 info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-modeline-150">modeline</a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-modeline-14">modeline</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-MUA-1">MUA</a>: <a href="#Introduction">Introduction</a>
</li>
<li>
<a href="#index-nested-citations-19">nested citations</a>: <a href="#Citations">Citations</a>
</li>
<li>
<a href="#index-non_002dnested-citations-21">non-nested citations</a>: <a href="#Citations">Citations</a>
</li>
<li>
<a href="#index-NUA-2">NUA</a>: <a href="#Introduction">Introduction</a>
</li>
<li>
<a href="#index-nuking-mail-headers-12">nuking mail headers</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-point-136">point</a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-reciting-218">reciting</a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-reference-header-13">reference header</a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-reference-headers-74">reference headers</a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-Regi-209">Regi</a>: <a href="#Configuring-the-Citation-Engine">Configuring the Citation Engine</a>
</li>
<li>
<a href="#index-reply_002daddress-info-field-_0028sc_002d_0029-59">reply-address info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dattribution-info-field-52">sc-attribution info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dauthor-info-field-66">sc-author info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dcitation-info-field-54">sc-citation info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002demailname-info-field-62">sc-emailname info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dfirstname-info-field-68">sc-firstname info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dfrom_002daddress-info-field-56">sc-from-address info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dinitials-info-field-64">sc-initials info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dlastname-info-field-70">sc-lastname info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dmiddlename_002d1-info-field-72">sc-middlename-1 info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dreply_002daddress-info-field-58">sc-reply-address info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dsender_002daddress-info-field-60">sc-sender-address info field</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sender_002daddress-info-field-_0028sc_002d_0029-61">sender-address info field (sc-)</a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sendmail_002eel-271">sendmail.el</a>: <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#index-toggling-variables-254">toggling variables</a>: <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>
</li>
<li>
<a href="#index-unciting-217">unciting</a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-undo-boundary-151">undo boundary</a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-yank-6">yank</a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
   </ul>
<div class="node"><a name="Command-Index"></a></div>

<h2 class="unnumbered">Command Index</h2>

<p>Since all supercite commands are prepended with the string
“<code>sc-</code>”, each appears under its <code>sc-</code><var>command</var> name and
its <var>command</var> name.



</p>
<ul class="index-fn" compact>
<li>
<a href="#index-cite_002doriginal-_0028sc_002d_0029-135"><code>cite-original (sc-)</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-cite_002doriginal-_0028sc_002d_0029-143"><code>cite-original (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-cite_002dregion-_0028sc_002d_0029-231"><code>cite-region (sc-)</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-defvar-273"><code>defvar</code></a>: <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#index-eref_002dabort-_0028sc_002d_0029-125"><code>eref-abort (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002dexit-_0028sc_002d_0029-123"><code>eref-exit (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002dgoto-_0028sc_002d_0029-111"><code>eref-goto (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002djump-_0028sc_002d_0029-114"><code>eref-jump (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002dnext-_0028sc_002d_0029-103"><code>eref-next (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002dprev-_0028sc_002d_0029-108"><code>eref-prev (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eref_002dsetn-_0028sc_002d_0029-117"><code>eref-setn (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-eval-213"><code>eval</code></a>: <a href="#Using-Regi">Using Regi</a>
</li>
<li>
<a href="#index-fill_002dparagraph-18"><code>fill-paragraph</code></a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-header_002dattributed_002dwrites-_0028sc_002d_0029-94"><code>header-attributed-writes (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-header_002dauthor_002dwrites-_0028sc_002d_0029-96"><code>header-author-writes (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-header_002dinarticle_002dwrites-_0028sc_002d_0029-90"><code>header-inarticle-writes (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-header_002don_002dsaid-_0028sc_002d_0029-88"><code>header-on-said (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-header_002dregarding_002dadds-_0028sc_002d_0029-92"><code>header-regarding-adds (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-header_002dverbose-_0028sc_002d_0029-98"><code>header-verbose (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-insert_002dcitation-_0028sc_002d_0029-252"><code>insert-citation (sc-)</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-insert_002dreference-_0028sc_002d_0029-247"><code>insert-reference (sc-)</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-looking_002dat-214"><code>looking-at</code></a>: <a href="#Using-Regi">Using Regi</a>
</li>
<li>
<a href="#index-mail_002dfield-_0028sc_002d_0029-189"><code>mail-field (sc-)</code></a>: <a href="#Attribution-Preferences">Attribution Preferences</a>
</li>
<li>
<a href="#index-mail_002dfield-_0028sc_002d_0029-49"><code>mail-field (sc-)</code></a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-mail_002dfield_002dquery-_0028sc_002d_0029-260"><code>mail-field-query (sc-)</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-mail_002dprocess_002dheaders-_0028sc_002d_0029-263"><code>mail-process-headers (sc-)</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-mail_002dyank_002doriginal-272"><code>mail-yank-original</code></a>: <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#index-no_002dblank_002dline_002dor_002dheader-_0028sc_002d_0029-86"><code>no-blank-line-or-header (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-no_002dheader-_0028sc_002d_0029-84"><code>no-header (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-open_002dline-267"><code>open-line</code></a>: <a href="#Miscellaneous-Commands">Miscellaneous Commands</a>
</li>
<li>
<a href="#index-open_002dline-_0028sc_002d_0029-266"><code>open-line (sc-)</code></a>: <a href="#Miscellaneous-Commands">Miscellaneous Commands</a>
</li>
<li>
<a href="#index-recite_002dregion-_0028sc_002d_0029-242"><code>recite-region (sc-)</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-regi_002dinterpret-212"><code>regi-interpret</code></a>: <a href="#Using-Regi">Using Regi</a>
</li>
<li>
<a href="#index-sc_002dcite_002doriginal-142"><code>sc-cite-original</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dcite_002doriginal-134"><code>sc-cite-original</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-sc_002dcite_002doriginal-10"><code>sc-cite-original</code></a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-sc_002dcite_002dregion-230"><code>sc-cite-region</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002deref_002dabort-124"><code>sc-eref-abort</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002dexit-122"><code>sc-eref-exit</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002dgoto-110"><code>sc-eref-goto</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002djump-113"><code>sc-eref-jump</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002dnext-102"><code>sc-eref-next</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002dprev-107"><code>sc-eref-prev</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002deref_002dsetn-116"><code>sc-eref-setn</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002dheader_002dattributed_002dwrites-93"><code>sc-header-attributed-writes</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dheader_002dauthor_002dwrites-95"><code>sc-header-author-writes</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dheader_002dinarticle_002dwrites-89"><code>sc-header-inarticle-writes</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dheader_002don_002dsaid-87"><code>sc-header-on-said</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dheader_002dregarding_002dadds-91"><code>sc-header-regarding-adds</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dheader_002dverbose-97"><code>sc-header-verbose</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dinsert_002dcitation-251"><code>sc-insert-citation</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-sc_002dinsert_002dreference-246"><code>sc-insert-reference</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-sc_002dmail_002dfield-48"><code>sc-mail-field</code></a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dmail_002dfield-188"><code>sc-mail-field</code></a>: <a href="#Attribution-Preferences">Attribution Preferences</a>
</li>
<li>
<a href="#index-sc_002dmail_002dfield_002dquery-259"><code>sc-mail-field-query</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-sc_002dmail_002dprocess_002dheaders-262"><code>sc-mail-process-headers</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-sc_002dno_002dblank_002dline_002dor_002dheader-85"><code>sc-no-blank-line-or-header</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dno_002dheader-83"><code>sc-no-header</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002dopen_002dline-265"><code>sc-open-line</code></a>: <a href="#Miscellaneous-Commands">Miscellaneous Commands</a>
</li>
<li>
<a href="#index-sc_002drecite_002dregion-241"><code>sc-recite-region</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002dsetup_002dfilladapt-173"><code>sc-setup-filladapt</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-sc_002duncite_002dregion-238"><code>sc-uncite-region</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-set_002dvariable-256"><code>set-variable</code></a>: <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>
</li>
<li>
<a href="#index-setup_002dfilladapt-_0028sc_002d_0029-174"><code>setup-filladapt (sc-)</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-string_002dmatch-225"><code>string-match</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-uncite_002dregion-_0028sc_002d_0029-239"><code>uncite-region (sc-)</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
   </ul>
<div class="node"><a name="Key-Index"></a></div>

<h2 class="unnumbered">Key Index</h2>



<ul class="index-ky" compact>
<li>
<a href="#index-C_002dc-C_002dp-148"><code>C-c C-p</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-228"><code>C-c C-p</code></a>: <a href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-c-232"><code>C-c C-p c</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-C_002dp-257"><code>C-c C-p C-p</code></a>: <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-C_002dp-180"><code>C-c C-p C-p</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-C_002dt-255"><code>C-c C-p C-t</code></a>: <a href="#Variable-Toggling-Shortcuts">Variable Toggling Shortcuts</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-f-261"><code>C-c C-p f</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-g-264"><code>C-c C-p g</code></a>: <a href="#Mail-Field-Commands">Mail Field Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-i-253"><code>C-c C-p i</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-o-268"><code>C-c C-p o</code></a>: <a href="#Miscellaneous-Commands">Miscellaneous Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-r-243"><code>C-c C-p r</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-u-240"><code>C-c C-p u</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dp-w-248"><code>C-c C-p w</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-C_002dc-C_002dy-5"><code>C-c C-y</code></a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a href="#index-C_002dj-120"><code>C-j</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-C_002du-237"><code>C-u</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-f-4"><code>f</code></a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a href="#index-g-112"><code>g</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-j-115"><code>j</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-n-104"><code>n</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-p-109"><code>p</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-q-121"><code>q</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-r-3"><code>r</code></a>: <a href="#Usage-Overview">Usage Overview</a>
</li>
<li>
<a href="#index-RET-119"><code>RET</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-s-118"><code>s</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-x-126"><code>x</code></a>: <a href="#Electric-References">Electric References</a>
</li>
   </ul>
<div class="node"><a name="Variable-Index"></a></div>

<h2 class="unnumbered">Variable Index</h2>

<p>Since all supercite variables are prepended with the string
“<code>sc-</code>”, each appears under its <code>sc-</code><var>variable</var> name and
its <var>variable</var> name.



</p>
<ul class="index-vr" compact>
<li>
<a href="#index-attrib_002dselection_002dlist-_0028sc_002d_0029-185"><code>attrib-selection-list (sc-)</code></a>: <a href="#Attribution-Preferences">Attribution Preferences</a>
</li>
<li>
<a href="#index-attribs_002dpostselect_002dhook-_0028sc_002d_0029-203"><code>attribs-postselect-hook (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-attribs_002dpreselect_002dhook-_0028sc_002d_0029-201"><code>attribs-preselect-hook (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-auto_002dfill_002dregion_002dp-_0028sc_002d_0029-170"><code>auto-fill-region-p (sc-)</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-blank_002dlines_002dafter_002dheaders-_0028sc_002d_0029-161"><code>blank-lines-after-headers (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-citation_002ddelimiter-_0028sc_002d_0029-31"><code>citation-delimiter (sc-)</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation_002ddelimiter_002dregexp-_0028sc_002d_0029-38"><code>citation-delimiter-regexp (sc-)</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-citation_002dleader-_0028sc_002d_0029-26"><code>citation-leader (sc-)</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation_002dleader_002dregexp-_0028sc_002d_0029-36"><code>citation-leader-regexp (sc-)</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-citation_002dnonnested_002droot_002dregexp-_0028sc_002d_0029-44"><code>citation-nonnested-root-regexp (sc-)</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-citation_002droot_002dregexp-_0028sc_002d_0029-42"><code>citation-root-regexp (sc-)</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-citation_002dseparator-_0028sc_002d_0029-33"><code>citation-separator (sc-)</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-citation_002dseparator_002dregexp-_0028sc_002d_0029-40"><code>citation-separator-regexp (sc-)</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-cite_002dblank_002dlines_002dp-_0028sc_002d_0029-165"><code>cite-blank-lines-p (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-cite_002dregion_002dlimit-_0028sc_002d_0029b-163"><code>cite-region-limit (sc-)b</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-confirm_002dalways_002dp-236"><code>confirm-always-p</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-confirm_002dalways_002dp-_0028sc_002d_0029-197"><code>confirm-always-p (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-confirm_002dalways_002dp-_0028sc_002d_0029-153"><code>confirm-always-p (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-confirm_002dalways_002dp-_0028sc_002d_0029-245"><code>confirm-always-p (sc-)</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-default_002dattribution-_0028sc_002d_0029-193"><code>default-attribution (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-default_002dauthor_002dname-_0028sc_002d_0029-191"><code>default-author-name (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-downcase_002dp-_0028sc_002d_0029-199"><code>downcase-p (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-electric_002dcircular_002dp-_0028sc_002d_0029-106"><code>electric-circular-p (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-electric_002dmode_002dhook-_0028sc_002d_0029-128"><code>electric-mode-hook (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-electric_002dreferences_002dp-_0028sc_002d_0029-101"><code>electric-references-p (sc-)</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-fill_002dprefix-179"><code>fill-prefix</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-fill_002dprefix-17"><code>fill-prefix</code></a>: <a href="#What-Supercite-Does">What Supercite Does</a>
</li>
<li>
<a href="#index-fixup_002dwhitespace_002dp-_0028sc_002d_0029-178"><code>fixup-whitespace-p (sc-)</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-load_002dhook-_0028sc_002d_0029-176"><code>load-hook (sc-)</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-load_002dhook-_0028sc_002d_0029-139"><code>load-hook (sc-)</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-mail_002dcitation_002dhook-269"><code>mail-citation-hook</code></a>: <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#index-mail_002dcitation_002dhook-130"><code>mail-citation-hook</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-mail_002dheader_002dseparator-9"><code>mail-header-separator</code></a>: <a href="#What-Supercite-Does-Not-Do">What Supercite Does Not Do</a>
</li>
<li>
<a href="#index-mail_002dwarn_002dif_002dnon_002drfc822_002dp-_0028sc_002d_0029-155"><code>mail-warn-if-non-rfc822-p (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-mail_002dyank_002dhooks-270"><code>mail-yank-hooks</code></a>: <a href="#Hints-to-MUA-Authors">Hints to MUA Authors</a>
</li>
<li>
<a href="#index-mode_002dmap_002dprefix-_0028sc_002d_0029-227"><code>mode-map-prefix (sc-)</code></a>: <a href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>
</li>
<li>
<a href="#index-mode_002dmap_002dprefix-_0028sc_002d_0029-147"><code>mode-map-prefix (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-mumble-_0028sc_002d_0029-51"><code>mumble (sc-)</code></a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-name_002dfilter_002dalist-_0028sc_002d_0029-208"><code>name-filter-alist (sc-)</code></a>: <a href="#Author-Names">Author Names</a>
</li>
<li>
<a href="#index-nested_002dcitation_002dp-_0028sc_002d_0029-23"><code>nested-citation-p (sc-)</code></a>: <a href="#Citations">Citations</a>
</li>
<li>
<a href="#index-nuke_002dmail_002dheader_002dlist-_0028sc_002d_0029-159"><code>nuke-mail-header-list (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-nuke_002dmail_002dheaders-_0028sc_002d_0029-158"><code>nuke-mail-headers (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-post_002dhook-_0028sc_002d_0029-167"><code>post-hook (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-pre_002dcite_002dhook-_0028sc_002d_0029-234"><code>pre-cite-hook (sc-)</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-pre_002dhook-_0028sc_002d_0029-145"><code>pre-hook (sc-)</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-pre_002dhook-_0028sc_002d_0029-141"><code>pre-hook (sc-)</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-preferred_002dattribution_002dlist-_0028sc_002d_0029-183"><code>preferred-attribution-list (sc-)</code></a>: <a href="#Selecting-an-Attribution">Selecting an Attribution</a>
</li>
<li>
<a href="#index-preferred_002dheader_002dstyle-_0028sc_002d_0029-250"><code>preferred-header-style (sc-)</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-preferred_002dheader_002dstyle-_0028sc_002d_0029-79"><code>preferred-header-style (sc-)</code></a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-reference_002dtag_002dstring-_0028sc_002d_0029-82"><code>reference-tag-string (sc-)</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-rewrite_002dheader_002dlist-_0028sc_002d_0029-77"><code>rewrite-header-list (sc-)</code></a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-sc_002dattrib_002dselection_002dlist-186"><code>sc-attrib-selection-list</code></a>: <a href="#Attribution-Preferences">Attribution Preferences</a>
</li>
<li>
<a href="#index-sc_002dattribs_002dpostselect_002dhook-202"><code>sc-attribs-postselect-hook</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002dattribs_002dpreselect_002dhook-200"><code>sc-attribs-preselect-hook</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002dauto_002dfill_002dregion_002dp-169"><code>sc-auto-fill-region-p</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-sc_002dblank_002dlines_002dafter_002dheaders-160"><code>sc-blank-lines-after-headers</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dcitation_002ddelimiter-30"><code>sc-citation-delimiter</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-sc_002dcitation_002ddelimiter_002dregexp-37"><code>sc-citation-delimiter-regexp</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-sc_002dcitation_002dleader-27"><code>sc-citation-leader</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-sc_002dcitation_002dleader_002dregexp-35"><code>sc-citation-leader-regexp</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-sc_002dcitation_002dnonnested_002droot_002dregexp-43"><code>sc-citation-nonnested-root-regexp</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-sc_002dcitation_002droot_002dregexp-41"><code>sc-citation-root-regexp</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-sc_002dcitation_002dseparator-34"><code>sc-citation-separator</code></a>: <a href="#Citation-Elements">Citation Elements</a>
</li>
<li>
<a href="#index-sc_002dcitation_002dseparator_002dregexp-39"><code>sc-citation-separator-regexp</code></a>: <a href="#Recognizing-Citations">Recognizing Citations</a>
</li>
<li>
<a href="#index-sc_002dcite_002dblank_002dlines_002dp-164"><code>sc-cite-blank-lines-p</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dcite_002dframe_002dalist-221"><code>sc-cite-frame-alist</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002dcite_002dregion_002dlimit-229"><code>sc-cite-region-limit</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002dcite_002dregion_002dlimit-162"><code>sc-cite-region-limit</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dconfirm_002dalways_002dp-235"><code>sc-confirm-always-p</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002dconfirm_002dalways_002dp-152"><code>sc-confirm-always-p</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dconfirm_002dalways_002dp-196"><code>sc-confirm-always-p</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002dconfirm_002dalways_002dp-244"><code>sc-confirm-always-p</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002ddefault_002dattribution-192"><code>sc-default-attribution</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002ddefault_002dauthor_002dname-190"><code>sc-default-author-name</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002ddefault_002dcite_002dframe-216"><code>sc-default-cite-frame</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002ddefault_002drecite_002dframe-220"><code>sc-default-recite-frame</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002ddefault_002duncite_002dframe-219"><code>sc-default-uncite-frame</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002ddowncase_002dp-198"><code>sc-downcase-p</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-sc_002delectric_002dcircular_002dp-105"><code>sc-electric-circular-p</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002delectric_002dmode_002dhook-127"><code>sc-electric-mode-hook</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002delectric_002dreferences_002dp-100"><code>sc-electric-references-p</code></a>: <a href="#Electric-References">Electric References</a>
</li>
<li>
<a href="#index-sc_002dfixup_002dwhitespace_002dp-177"><code>sc-fixup-whitespace-p</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-sc_002dload_002dhook-175"><code>sc-load-hook</code></a>: <a href="#Filling-Cited-Text">Filling Cited Text</a>
</li>
<li>
<a href="#index-sc_002dload_002dhook-138"><code>sc-load-hook</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-sc_002dmail_002dfield-224"><code>sc-mail-field</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002dmail_002dwarn_002dif_002dnon_002drfc822_002dp-154"><code>sc-mail-warn-if-non-rfc822-p</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dmode_002dmap_002dprefix-226"><code>sc-mode-map-prefix</code></a>: <a href="#Post_002dyank-Formatting-Commands">Post-yank Formatting Commands</a>
</li>
<li>
<a href="#index-sc_002dmode_002dmap_002dprefix-146"><code>sc-mode-map-prefix</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dmumble-50"><code>sc-mumble</code></a>: <a href="#Information-Keys-and-the-Info-Alist">Information Keys and the Info Alist</a>
</li>
<li>
<a href="#index-sc_002dname_002dfilter_002dalist-207"><code>sc-name-filter-alist</code></a>: <a href="#Author-Names">Author Names</a>
</li>
<li>
<a href="#index-sc_002dnested_002dcitation_002dp-22"><code>sc-nested-citation-p</code></a>: <a href="#Citations">Citations</a>
</li>
<li>
<a href="#index-sc_002dnuke_002dmail_002dheader-215"><code>sc-nuke-mail-header</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002dnuke_002dmail_002dheader_002dlist-157"><code>sc-nuke-mail-header-list</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dnuke_002dmail_002dheaders-156"><code>sc-nuke-mail-headers</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dpost_002dhook-166"><code>sc-post-hook</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dpre_002dcite_002dhook-233"><code>sc-pre-cite-hook</code></a>: <a href="#Citing-Commands">Citing Commands</a>
</li>
<li>
<a href="#index-sc_002dpre_002dhook-144"><code>sc-pre-hook</code></a>: <a href="#Reply-Buffer-Initialization">Reply Buffer Initialization</a>
</li>
<li>
<a href="#index-sc_002dpre_002dhook-140"><code>sc-pre-hook</code></a>: <a href="#Getting-Connected">Getting Connected</a>
</li>
<li>
<a href="#index-sc_002dpreferred_002dattribution_002dlist-182"><code>sc-preferred-attribution-list</code></a>: <a href="#Selecting-an-Attribution">Selecting an Attribution</a>
</li>
<li>
<a href="#index-sc_002dpreferred_002dheader_002dstyle-249"><code>sc-preferred-header-style</code></a>: <a href="#Insertion-Commands">Insertion Commands</a>
</li>
<li>
<a href="#index-sc_002dpreferred_002dheader_002dstyle-78"><code>sc-preferred-header-style</code></a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-sc_002drecite_002dframe_002dalist-223"><code>sc-recite-frame-alist</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002dreference_002dtag_002dstring-81"><code>sc-reference-tag-string</code></a>: <a href="#The-Built_002din-Header-Rewrite-Functions">The Built-in Header Rewrite Functions</a>
</li>
<li>
<a href="#index-sc_002drewrite_002dheader_002dlist-76"><code>sc-rewrite-header-list</code></a>: <a href="#Reference-Headers">Reference Headers</a>
</li>
<li>
<a href="#index-sc_002dtitlecue_002dregexp-205"><code>sc-titlecue-regexp</code></a>: <a href="#Author-Names">Author Names</a>
</li>
<li>
<a href="#index-sc_002duncite_002dframe_002dalist-222"><code>sc-uncite-frame-alist</code></a>: <a href="#Frames-You-Can-Customize">Frames You Can Customize</a>
</li>
<li>
<a href="#index-sc_002duse_002donly_002dpreference_002dp-194"><code>sc-use-only-preference-p</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
<li>
<a href="#index-titlecue_002dregexp-_0028sc_002d_0029-206"><code>titlecue-regexp (sc-)</code></a>: <a href="#Author-Names">Author Names</a>
</li>
<li>
<a href="#index-use_002donly_002dpreference_002dp-_0028sc_002d_0029-195"><code>use-only-preference-p (sc-)</code></a>: <a href="#Anonymous-Attributions">Anonymous Attributions</a>
</li>
   </ul>
</body>
</html>
