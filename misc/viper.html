<html lang="en">
<head>
<title>Untitled</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="Untitled">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1995-1997, 2001-2016 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being "A GNU Manual", and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     "GNU Free Documentation License".

     (a) The FSF's Back-Cover Text is: "You have the freedom to copy and
     modify this GNU manual."
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Viper</a>
<li><a name="toc_Overview" href="#Overview">1 Overview of Viper</a>
<ul>
<li><a href="#Emacs-Preliminaries">1.1 Emacs Preliminaries</a>
<li><a href="#Loading-Viper">1.2 Loading Viper</a>
<li><a href="#States-in-Viper">1.3 States in Viper</a>
<ul>
<li><a href="#Emacs-State">1.3.1 Emacs State</a>
<li><a href="#Vi-State">1.3.2 Vi State</a>
<li><a href="#Insert-State">1.3.3 Insert State</a>
<li><a href="#Replace-State">1.3.4 Replace State</a>
</li></ul>
<li><a href="#The-Minibuffer">1.4 The Minibuffer</a>
<li><a href="#Multiple-Files-in-Viper">1.5 Multiple Files in Viper</a>
<li><a href="#Unimplemented-Features">1.6 Unimplemented Features</a>
</li></ul>
<li><a name="toc_Improvements-over-Vi" href="#Improvements-over-Vi">2 Improvements over Vi</a>
<ul>
<li><a href="#Basics">2.1 Basics</a>
<li><a href="#Undo-and-Backups">2.2 Undo and Backups</a>
<li><a href="#History">2.3 History</a>
<li><a href="#Macros-and-Registers">2.4 Macros and Registers</a>
<li><a href="#Completion">2.5 Completion</a>
<li><a href="#Improved-Search">2.6 Improved Search</a>
<li><a href="#Abbreviation-Facilities">2.7 Abbreviation Facilities</a>
<li><a href="#Movement-and-Markers">2.8 Movement and Markers</a>
<li><a href="#New-Commands">2.9 New Commands</a>
<li><a href="#Useful-Packages">2.10 Useful Packages</a>
</li></ul>
<li><a name="toc_Customization" href="#Customization">3 Customization</a>
<ul>
<li><a href="#Rudimentary-Changes">3.1 Rudimentary Changes</a>
<li><a href="#Key-Bindings">3.2 Key Bindings</a>
<li><a href="#Packages-that-Change-Keymaps">3.3 Packages that Change Keymaps</a>
<li><a href="#Viper-Specials">3.4 Viper Specials</a>
<li><a href="#Vi-Macros">3.5 Vi Macros</a>
</li></ul>
<li><a name="toc_Commands" href="#Commands">4 Commands</a>
<ul>
<li><a href="#Groundwork">4.1 Groundwork</a>
<li><a href="#Text-Handling">4.2 Text Handling</a>
<ul>
<li><a href="#Move-Commands">4.2.1 Move Commands</a>
<li><a href="#Marking">4.2.2 Marking</a>
<li><a href="#Appending-Text">4.2.3 Appending Text</a>
<li><a href="#Editing-in-Insert-State">4.2.4 Editing in Insert State</a>
<li><a href="#Deleting-Text">4.2.5 Deleting Text</a>
<li><a href="#Changing-Text">4.2.6 Changing Text</a>
<li><a href="#Search-and-Replace">4.2.7 Search and Replace</a>
<li><a href="#Yanking">4.2.8 Yanking</a>
<li><a href="#Undoing">4.2.9 Undoing</a>
</li></ul>
<li><a href="#Display">4.3 Display</a>
<li><a href="#File-and-Buffer-Handling">4.4 File and Buffer Handling</a>
<li><a href="#Mapping">4.5 Mapping</a>
<li><a href="#Shell-Commands">4.6 Shell Commands</a>
<li><a href="#Options">4.7 Options</a>
<li><a href="#Emacs-Related-Commands">4.8 Emacs Related Commands</a>
<li><a href="#Mouse_002dbound-Commands">4.9 Mouse-bound Commands</a>
</li></ul>
<li><a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a>
<li><a name="toc_Acknowledgments" href="#Acknowledgments">Acknowledgments</a>
<li><a name="toc_Key-Index" href="#Key-Index">Key Index</a>
<li><a name="toc_Function-Index" href="#Function-Index">Function Index</a>
<li><a name="toc_Variable-Index" href="#Variable-Index">Variable Index</a>
<li><a name="toc_Package-Index" href="#Package-Index">Package Index</a>
<li><a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
</li></ul>
</div>



<div class="node">
<p><hr>
<a name="Top"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Viper</h2>

<p>We believe that one or more of the following statements are adequate
descriptions of Viper:

<pre class="example">     Viper Is a Package for Emacs Rebels;
     it is a VI Plan for Emacs Rescue
     and/or a venomous VI PERil.
</pre>
   <p>Technically speaking, Viper is a Vi emulation package for Emacs.  It
implements all Vi and Ex commands, occasionally improving on them and
adding many new features.  It gives the user the best of both worlds: Vi
keystrokes for editing combined with the power of the Emacs environment.

   <p>Viper emulates Vi at several levels, from the one that closely follows Vi
conventions to the one that departs from many of them.  It has many
customizable options, which can be used to tailor Viper to the work habits
of various users. 
This manual describes Viper, concentrating on the differences from Vi and
new features of Viper.

   <p>Viper, formerly known as VIP-19, was written by Michael Kifer.  It is based
on VIP version 3.5 by Masahiko Sato and VIP version 4.4 by Aamod Sane. 
About 15% of the code still comes from those older packages.

   <p>Viper is intended to be usable without reading this manual; the defaults
are set to make Viper as close to Vi as possible.  At startup, Viper will
try to set the most appropriate default environment for you, based on
your familiarity with Emacs.  It will also tell you the basic GNU Emacs window
management commands to help you start immediately.

   <p>Although this manual explains how to customize Viper, some basic
familiarity with Emacs Lisp is a plus.

   <p>It is recommended that you read the Overview node.  The other nodes may
be visited as needed.

   <p>Comments and bug reports are welcome. 
<code>kifer@cs.stonybrook.edu</code> is the current address for Viper bug reports. 
Please use the Ex command <kbd>:submitReport</kbd> for this purpose.

   <p>Copyright &copy; 1995&ndash;1997, 2001&ndash;2016 Free Software Foundation, Inc.

   <blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being &ldquo;A GNU Manual&rdquo;,
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled &ldquo;GNU Free Documentation License&rdquo;.

        <p>(a) The FSF's Back-Cover Text is: &ldquo;You have the freedom to copy and
modify this GNU manual.&rdquo;
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Overview">Overview</a>:                     Read for a smoother start
<li><a accesskey="2" href="#Improvements-over-Vi">Improvements over Vi</a>:         New features, Improvements
<li><a accesskey="3" href="#Customization">Customization</a>:                How to customize Viper
<li><a accesskey="4" href="#Commands">Commands</a>:                     Vi and Ex Commands
<li><a accesskey="5" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:  The license for this documentation. 
<li><a accesskey="6" href="#Acknowledgments">Acknowledgments</a>
<li><a accesskey="7" href="#Key-Index">Key Index</a>:                    Index of Vi and Ex Commands
<li><a accesskey="8" href="#Function-Index">Function Index</a>:               Index of Viper Functions
<li><a accesskey="9" href="#Variable-Index">Variable Index</a>:               Index of Viper Variables
<li><a href="#Package-Index">Package Index</a>:                Index of Packages Mentioned in this Document
<li><a href="#Concept-Index">Concept Index</a>:                Vi, Ex and Emacs concepts
</ul>

<div class="node">
<p><hr>
<a name="Overview"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Improvements-over-Vi">Improvements over Vi</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Overview of Viper</h2>

<p>Viper is a Vi emulation on top of Emacs.  At the same time, Viper provides a
virtually unrestricted access to Emacs facilities.  Perfect compatibility
with Vi is possible but not desirable.  This chapter tells you about the
Emacs ideas that you should know about, how to use Viper within Emacs and
some incompatibilities.

   <p>This manual is written with the assumption that you are an experienced Vi
user who wants to switch to Emacs while retaining the ability to edit files
Vi style. Incredible as it might seem, there are experienced Emacs users
who use Viper as a backdoor into the superior (as every Vi user already knows)
world of Vi! These users are well familiar with Emacs bindings and prefer them
in some cases, especially in the Vi Insert state. John Hawkins
&lt;jshawkin@eecs.umich.edu&gt; has provided a set of customizations, which
enables additional Emacs bindings under Viper.  These customizations can be
included in your <samp><span class="file">~/.emacs.d/viper</span></samp> file and are found at the
following URL: <samp><span class="file">http://traeki.freeshell.org/files/viper-sample</span></samp>.

<ul class="menu">
<li><a accesskey="1" href="#Emacs-Preliminaries">Emacs Preliminaries</a>:          Basic concepts in Emacs. 
<li><a accesskey="2" href="#Loading-Viper">Loading Viper</a>:                Loading and Preliminary Configuration. 
<li><a accesskey="3" href="#States-in-Viper">States in Viper</a>:              Viper has four states orthogonal to Emacs
                                modes. 
<li><a accesskey="4" href="#The-Minibuffer">The Minibuffer</a>:               Command line in Emacs. 
<li><a accesskey="5" href="#Multiple-Files-in-Viper">Multiple Files in Viper</a>:      True multiple file handling. 
<li><a accesskey="6" href="#Unimplemented-Features">Unimplemented Features</a>:       That are unlikely to be implemented. 
</ul>

<div class="node">
<p><hr>
<a name="Emacs-Preliminaries"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Loading-Viper">Loading Viper</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.1 Emacs Preliminaries</h3>

<p><a name="index-buffer-1"></a><a name="index-point-2"></a><a name="index-mark-3"></a><a name="index-text-4"></a><a name="index-looking-at-5"></a><a name="index-end-_0028of-buffer_0029-6"></a><a name="index-end-_0028of-line_0029-7"></a><a name="index-region-8"></a>
Emacs can edit several files at once.  A file in Emacs is placed in a
<dfn>buffer</dfn> that usually has the same name as the file.  Buffers are also used
for other purposes, such as shell interfaces, directory editing, etc. 
See <a href="emacs.html#Dired">Directory Editor</a>, for an example.

   <p>A buffer has a distinguished position called the <dfn>point</dfn>. 
A <dfn>point</dfn> is always between 2 characters, and is <dfn>looking at</dfn>
the right hand character.  The cursor is positioned on the right hand
character.  Thus, when the <dfn>point</dfn> is looking at the end-of-line,
the cursor is on the end-of-line character, i.e., beyond the last
character on the line.  This is the default Emacs behavior.

   <p>The default settings of Viper try to mimic the behavior of Vi, preventing
the cursor from going beyond the last character on the line.  By using
Emacs commands directly (such as those bound to arrow keys), it is possible
to get the cursor beyond the end-of-line.  However, this won't (or
shouldn't) happen if you restrict yourself to standard Vi keys, unless you
modify the default editing style.  See <a href="#Customization">Customization</a>.

   <p>In addition to the <dfn>point</dfn>, there is another distinguished buffer
position called the <dfn>mark</dfn>.  See <a href="emacs.html#Mark">Mark</a>, for more info on the mark.  The text between the <dfn>point</dfn> and
the <dfn>mark</dfn> is called the <dfn>region</dfn> of the buffer.  For the Viper
user, this simply means that in addition to the Vi textmarkers a&ndash;z, there
is another marker called <dfn>mark</dfn>.  This is similar to the unnamed Vi
marker used by the jump commands <kbd>``</kbd> and <kbd>''</kbd>, which move the
cursor to the position of the last absolute jump.  Viper provides access to
the region in most text manipulation commands as <kbd>r</kbd> and <kbd>R</kbd> suffix
to commands that operate on text regions, e.g., <kbd>dr</kbd> to delete region,
etc.

   <p>Furthermore, Viper lets Ex-style commands to work on the current region. 
This is done by typing a digit argument before <kbd>:</kbd>.  For instance,
typing <kbd>1:</kbd> will prompt you with something like <em>:123,135</em>,
assuming that the current region starts at line 123 and ends at line
135.  There is no need to type the line numbers, since Viper inserts them
automatically in front of the Ex command.

   <p>See <a href="#Basics">Basics</a>, for more info.

   <p><a name="index-window-9"></a><a name="index-mode-line-10"></a><a name="index-buffer-information-11"></a><a name="index-Minibuffer-12"></a><a name="index-command-line-13"></a><a name="index-buffer-_0028modified_0029-14"></a>
Emacs divides the screen into tiled <dfn>windows</dfn>.  You can see the
contents of a buffer through the window associated with the buffer.  The
cursor of the screen is positioned on the character after <dfn>point</dfn>. 
Every window has a <dfn>mode line</dfn> that displays information about the buffer. 
You can change the format of the mode
line, but normally if you see `<samp><span class="samp">**</span></samp>' at the beginning of a mode line it
means that the buffer is <dfn>modified</dfn>.  If you write out the contents of
a buffer to a file, then the buffer will become not modified.  Also if
you see `<samp><span class="samp">%%</span></samp>' at the beginning of the mode line, it means that the file
associated with the buffer is write protected.  The mode line will also
show the buffer name and current major and minor modes (see below). 
A special buffer called <dfn>Minibuffer</dfn> is displayed as the last line
in a minibuffer window.  The minibuffer window is used for command input
output.  Viper uses minibuffer window for <kbd>/</kbd> and <kbd>:</kbd>
commands.

   <p><a name="index-mode-15"></a><a name="index-keymap-16"></a><a name="index-local-keymap-17"></a><a name="index-global-keymap-18"></a><a name="index-major-mode-19"></a><a name="index-minor-mode-20"></a>
An Emacs buffer can have a <dfn>major mode</dfn> that customizes Emacs for
editing text of a particular sort by changing the functionality of the keys. 
Keys are defined using a <dfn>keymap</dfn> that records the bindings between
keystrokes and
functions.  The <dfn>global keymap</dfn> is common to all the
buffers.  Additionally, each buffer has its <dfn>local keymap</dfn> that determines the
<dfn>mode</dfn> of the buffer.  If a function is bound to some key in the local
keymap then that function will be executed when you type the key. 
If no function is bound to a key in the
local map, however, the function bound to the key in the global map
will be executed.  See <a href="emacs.html#Major-Modes">Major Modes</a>, for more information.

   <p>A buffer can also have a <dfn>minor mode</dfn>.  Minor modes are options that
you can use or not.  A buffer in <code>text-mode</code> can have
<code>auto-fill-mode</code> as minor mode, which can be turned off or on at
any time.  In Emacs, a minor mode may have it own keymap,
which overrides the local keymap when the minor mode is turned on.  For
more information, see <a href="emacs.html#Minor-Modes">Minor Modes</a>.

   <p><a name="index-Viper-as-minor-mode-21"></a><a name="index-Control-keys-22"></a><a name="index-Meta-key-23"></a>
Viper is implemented as a collection of minor modes.  Different minor modes
are involved when Viper emulates Vi command mode, Vi insert mode, etc. 
You can also turn Viper on and off at any time while in Vi command mode. 
See <a href="#States-in-Viper">States in Viper</a>, for
more information.

   <p>Emacs uses Control and Meta modifiers.  These are denoted as C and M,
e.g., <kbd>^Z</kbd> as <kbd>C-z</kbd> and <kbd>Meta-x</kbd> as <kbd>M-x</kbd>.  The Meta key is
usually located on each side of the Space bar; it is used in a manner
similar to the Control key, e.g., <kbd>M-x</kbd> means typing <kbd>x</kbd> while
holding the Meta key down.  For keyboards that do not have a Meta key,
&lt;ESC&gt; is used as Meta.  Thus <kbd>M-x</kbd> is typed as <kbd>&lt;ESC&gt;
x</kbd>.  Viper uses &lt;ESC&gt; to switch from Insert state to Vi state.  Therefore
Viper defines <kbd>C-\</kbd> as its Meta key in Vi state.  See <a href="#Vi-State">Vi State</a>, for
more info.

   <p>Emacs is structured as a Lisp interpreter around a C core.  Emacs keys
cause Lisp functions to be called.  It is possible to call these
functions directly, by typing <kbd>M-x function-name</kbd>.

<div class="node">
<p><hr>
<a name="Loading-Viper"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#States-in-Viper">States in Viper</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Emacs-Preliminaries">Emacs Preliminaries</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.2 Loading Viper</h3>

<p>The most common way to load it automatically is to include the following
lines (in the given order!):

<pre class="lisp">     (setq viper-mode t)
     (require 'viper)
</pre>
   <p class="noindent">in your <samp><span class="file">~/.emacs</span></samp> file.  The <samp><span class="file">.emacs</span></samp> file is placed in your
home directory and it is be executed every time you invoke Emacs.  This is
the place where all general Emacs customization takes place.  Beginning with
version 20.0, Emacsen have an interactive interface, which simplifies the
job of customization significantly.

   <p>Viper also uses the file <samp><span class="file">~/.emacs.d/viper</span></samp> for Viper-specific customization. 
The location of Viper customization file can be changed by setting the
variable <code>viper-custom-file-name</code> in <samp><span class="file">.emacs</span></samp> <em>prior</em> to loading
Viper.

   <p>The latest versions of Emacs have an interactive customization facility,
which allows you to (mostly) bypass the use of the <samp><span class="file">.emacs</span></samp> and
<code>viper-custom-file-name</code> files. You can reach this customization
facility from within Viper's VI state by executing the Ex command
<kbd>:customize</kbd>.

   <p>Once invoked, Viper will arrange to bring up Emacs buffers in Vi state
whenever this makes sense. 
See <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a>, to find out when forcing Vi command state
on a buffer may be counter-productive.

   <p>Even if your <samp><span class="file">.emacs</span></samp> file does not invoke Viper automatically,
you can still load Viper and enter the Vi command state by typing the
following from within Emacs:

<pre class="lisp">     M-x viper-mode
</pre>
   <p>When Emacs first comes up, if you have not specified a file on the
command line, it will show the <samp><span class="file">*scratch*</span></samp> buffer, in the
`<samp><span class="samp">Lisp Interaction</span></samp>' mode.  After you invoke Viper, you can start
editing files by using <kbd>:e</kbd>, <kbd>:vi</kbd>, or <kbd>v</kbd> commands. 
(See <a href="#File-and-Buffer-Handling">File and Buffer Handling</a>, for more information on <kbd>v</kbd> and other
new commands that, in many cases, are more convenient than <kbd>:e</kbd>,
<kbd>:vi</kbd>, and similar old-style Vi commands.)

   <p>Finally, if at some point you would want to de-Viperize your running
copy of Emacs after Viper has been loaded, the command <kbd>M-x
viper-go-away</kbd> will do it for you.  The function <code>toggle-viper-mode</code>
toggles Viperization of Emacs on and off.

<div class="node">
<p><hr>
<a name="States-in-Viper"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#The-Minibuffer">The Minibuffer</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Loading-Viper">Loading Viper</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.3 States in Viper</h3>

<p><a name="index-g_t_0040kbd_007bC_002dz_007d-24"></a><a name="index-g_t_0040key_007bESC_007d-25"></a><a name="index-g_t_0040kbd_007bi_007d-26"></a><a name="index-Emacs-state-27"></a><a name="index-Vi-state-28"></a><a name="index-Insert-state-29"></a><a name="index-Replace-state-30"></a><a name="index-Ex-commands-31"></a><a name="index-g_t_0040code_007bviper_002dgo_002daway_007d-32"></a><a name="index-g_t_0040code_007btoggle_002dviper_002dmode_007d-33"></a>
Viper has four states, Emacs, Vi, Insert, and Replace.

     <dl>
<dt>`<samp><span class="samp">Emacs state</span></samp>'<dd>This is the state plain vanilla Emacs is normally in.  After you have loaded
Viper, <kbd>C-z</kbd> will normally take you to Vi command state.  Another
<kbd>C-z</kbd> will take you back to Emacs state.  This toggle key can be
changed, see <a href="#Customization">Customization</a> You can also type <kbd>M-x viper-mode</kbd> to
change to Vi state.

     <p>For users who chose to set their user level to 1 at Viper setup time,
switching to Emacs state is deliberately made harder in order to not
confuse the novice user.  In this case, <kbd>C-z</kbd> will either iconify Emacs
(if Emacs runs as an application under X) or it will stop Emacs (if
Emacs runs on a dumb terminal or in an Xterm window).

     <br><dt>`<samp><span class="samp">Vi state</span></samp>'<dd>This is the Vi command mode.  Any of the Vi commands, such as <kbd>i, o, a</kbd>,
<small class="dots">...</small>, will take you to Insert state.  All Vi commands may
be used in this mode.  Most Ex commands can also be used. 
For a full list of Ex commands supported by Viper, type
<kbd>:</kbd> and then &lt;TAB&gt;.  To get help on any issue, including the Ex
commands, type <kbd>:help</kbd>.  This will invoke Viper Info
(if it is installed).  Then typing <kbd>i</kbd> will prompt you for a topic to
search in the index.  Note: to search for Ex commands in the index, you
should start them with a <kbd>:</kbd>, e.g., <kbd>:WW</kbd>.

     <p>In Viper, Ex commands can be made to work on the current Emacs region. 
This is done by typing a digit argument before <kbd>:</kbd>. 
For instance, typing <kbd>1:</kbd> will prompt you with something like
<em>:123,135</em>, assuming that the current region starts at line 123 and
ends at line 135.  There is no need to type the line numbers, since Viper
inserts them automatically in front of the Ex command.

     <br><dt>`<samp><span class="samp">Insert state</span></samp>'<dd>Insert state is the Vi insertion mode.  &lt;ESC&gt; will take you back to
Vi state.  Insert state editing can be done, including auto-indentation.  By
default, Viper disables Emacs key bindings in Insert state.

     <br><dt>`<samp><span class="samp">Replace state</span></samp>'<dd>Commands like <kbd>cw</kbd> invoke the Replace state.  When you cross the
boundary of a replacement region (usually designated via a `<samp><span class="samp">$</span></samp>' sign),
it will automatically change to Insert state.  You do not have to worry
about it.  The key bindings remain practically the same as in Insert
state.  If you type &lt;ESC&gt;, Viper will switch to Vi command mode, terminating the
replacement state. 
</dl>

   <p><a name="index-mode-line-34"></a>
The modes are indicated on the <dfn>mode line</dfn> as &lt;E&gt;, &lt;I&gt;, &lt;V&gt;, and &lt;R&gt;,
so that the multiple modes do not confuse you.  Most of your editing can be
done in Vi and Insert states.  Viper will try to make all new buffers be in Vi
state, but sometimes they may come up in Emacs state.  <kbd>C-z</kbd>
will take you to Vi state in such a case.  In some major modes, like Dired,
Info, Gnus, etc., you should not switch to Vi state (and Viper will not
attempt to do so) because these modes are not intended for text editing and
many of the Vi keys have special meaning there.  If you plan to read news,
browse directories, read mail, etc., from Emacs (which you should start
doing soon!), you should learn about the meaning of the various keys in
those special modes (typing <kbd>C-h m</kbd> in a buffer provides
help with key bindings for the major mode of that buffer).

   <p>If you switch to Vi in Dired or similar modes, no harm is done.  It is just
that the special key bindings provided by those modes will be temporarily
overshadowed by Viper's bindings.  Switching back to Viper's Emacs state
will revive the environment provided by the current major mode.

   <p>States in Viper are orthogonal to Emacs major modes, such as C mode or Dired
mode.  You can turn Viper on and off for any Emacs state.  When Viper is turned
on, Vi state can be used to move around.  In Insert state, the bindings for
these modes can be accessed.  For beginners (users at Viper levels 1 and 2),
these bindings are suppressed in Insert state, so that new users are not
confused by the Emacs states.  Note that unless you allow Emacs bindings in
Insert state, you cannot do many interesting things, like language
sensitive editing.  For the novice user (at Viper level 1), all major mode
bindings are turned off in Vi state as well.  This includes the bindings for
key sequences that start with <kbd>C-c</kbd>, which practically means that all
major mode bindings are unsupported.  See <a href="#Customization">Customization</a>, to find out how
to allow Emacs keys in Insert state.

<ul class="menu">
<li><a accesskey="1" href="#Emacs-State">Emacs State</a>:          This is the state you should learn more about when
                        you get up to speed with Viper. 
<li><a accesskey="2" href="#Vi-State">Vi State</a>:             Vi commands are executed in this state. 
<li><a accesskey="3" href="#Insert-State">Insert State</a>:         You can enter text, and also can do sophisticated
                        editing if you know enough Emacs commands. 
<li><a accesskey="4" href="#Replace-State">Replace State</a>:        Like Insert mode, but it is invoked via the
                        replacement commands, such as cw, C, R, etc. 
</ul>

<div class="node">
<p><hr>
<a name="Emacs-State"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Vi-State">Vi State</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#States-in-Viper">States in Viper</a>

</div>

<h4 class="subsection">1.3.1 Emacs State</h4>

<p><a name="index-g_t_0040kbd_007bC_002dz_007d-35"></a><a name="index-Emacs-state-36"></a>

   <p>You will be in this mode only by accident (hopefully).  This is the state
Emacs is normally in (imagine!!).  Now leave it as soon as possible by
typing <kbd>C-z</kbd>.  Then you will be in Vi state (sigh of relief) :-).

   <p>Emacs state is actually a Viperism to denote all the major and minor modes
(see <a href="#Emacs-Preliminaries">Emacs Preliminaries</a>) other than Viper that Emacs can be in.  Emacs
can have several modes, such as C mode for editing C programs, LaTeX mode
for editing LaTeX documents, Dired for directory editing, etc.  These are
major modes, each with a different set of key-bindings.  Viper states are
orthogonal to these Emacs major modes.  The presence of these language
sensitive and other modes is a major win over Vi.  See <a href="#Improvements-over-Vi">Improvements over Vi</a>, for more.

   <p>The bindings for these modes can be made available in the Viper Insert state
as well as in Emacs state.  Unless you specify your user level as 1 (a
novice), all major mode key sequences that start with <kbd>C-x</kbd> and
<kbd>C-c</kbd> are also available in Vi state.  This is important because major
modes designed for editing files, such as cc-mode or latex-mode, use key
sequences that begin with <kbd>C-x</kbd> and <kbd>C-c</kbd>.

   <p>There is also a key that lets you temporarily escape to Vi command state
from the Insert state: typing <kbd>C-z</kbd> will let you execute a
single Vi command while staying in Viper's Insert state.

<div class="node">
<p><hr>
<a name="Vi-State"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Insert-State">Insert State</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Emacs-State">Emacs State</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#States-in-Viper">States in Viper</a>

</div>

<h4 class="subsection">1.3.2 Vi State</h4>

<p><a name="index-Vi-state-37"></a>
This is the Vi command mode.  When Viper is in Vi state, you will see the sign
&lt;V&gt; in the mode line.  Most keys will work as in Vi.  The notable
exceptions are:

     <dl>
<dt><kbd>C-x</kbd><dd><a name="index-g_t_0040kbd_007bC_002dx_007d-38"></a><kbd>C-x</kbd> is used to invoke Emacs commands, mainly those that do window
management.  <kbd>C-x 2</kbd> will split a window, <kbd>C-x 0</kbd> will close a
window.  <kbd>C-x 1</kbd> will close all other windows.  <kbd>C-xb</kbd> is used to
switch buffers in a window, and <kbd>C-xo</kbd> to move through windows. 
These are about the only necessary keystrokes. 
For the rest, see the GNU Emacs Manual.

     <br><dt><kbd>C-c</kbd><dd><a name="index-g_t_0040kbd_007bC_002dc_007d-39"></a>For user levels 2 and higher, this key serves as a prefix key for the key
sequences used by various major modes.  For users at Viper level 1, <kbd>C-c</kbd>
simply beeps.

     <br><dt><kbd>C-g and C-]</kbd><dd><a name="index-g_t_0040kbd_007bC_002dg_007d-40"></a><a name="index-g_t_0040kbd_007bC_002d_005d_007d-41"></a>
These are the Emacs `<samp><span class="samp">quit</span></samp>' keys. 
There will be cases where you will have to
use <kbd>C-g</kbd> to quit.  Similarly, <kbd>C-]</kbd> is used to exit
`<samp><span class="samp">Recursive Edits</span></samp>' in Emacs for which there is no comparable Vi
functionality and no key-binding.  Recursive edits are indicated by
`<samp><span class="samp">[]</span></samp>' brackets framing the modes on the mode line. 
See <a href="emacs.html#Recursive-Edit">Recursive Edit</a>. 
At user level 1, <kbd>C-g</kbd> is bound to <code>viper-info-on-file</code>
function instead. 
<br><dt><kbd>C-\</kbd><dd><a name="index-g_t_0040kbd_007bC_002d_005c_007d-42"></a><a name="index-Meta-key-43"></a>
Viper uses &lt;ESC&gt; as a switch between Insert and Vi states.  Emacs uses
&lt;ESC&gt; for Meta.  The Meta key is very important in Emacs since many
functions are accessible only via that key as <kbd>M-x function-name</kbd>. 
Therefore, we need to simulate it somehow.  In Viper's Vi, Insert, and
Replace states, the meta key is set to be <kbd>C-\</kbd>.  Thus, to get
<kbd>M-x</kbd>, you should type <kbd>C-\ x</kbd> (if the keyboard has no Meta key,
which is rare these days). 
This works both in the Vi command state and in the Insert and Replace
states.  In Vi command state, you can also use <kbd>\ &lt;ESC&gt;</kbd> as the
meta key.

     <p>Note: Emacs binds <kbd>C-\</kbd> to a function that offers to change the
keyboard input method in the multilingual environment.  Viper overrides this
binding.  However, it is still possible to switch the input method by typing
<kbd>\ C-\</kbd> in the Vi command state and <kbd>C-z \ C-\</kbd> in the Insert state. 
Or you can use the MULE menu in the menubar. 
</dl>
   Other differences are mostly improvements.  The ones you should know
about are:

     <dl>
<dt>`<samp><span class="samp">Undo</span></samp>'<dd><a name="index-g_t_0040kbd_007bu_007d-44"></a><kbd>u</kbd> will undo.  Undo can be repeated by the <kbd>.</kbd> key.  Undo itself
can be undone.  Another <kbd>u</kbd> will change the direction.  The presence
of repeatable undo means that <kbd>U</kbd>, undoing lines, is not very
important.  Therefore, <kbd>U</kbd> also calls <code>viper-undo</code>. 
<a name="index-multiple-undo-45"></a><a name="index-undo-46"></a>

     <br><dt>`<samp><span class="samp">Counts</span></samp>'<dd>Most commands, <kbd>~</kbd>, <kbd>[[</kbd>, <kbd>p</kbd>, <kbd>/</kbd>, <small class="dots">...</small>, etc., take counts.

     <!-- ]] Just to balance parens -->
<br><dt>`<samp><span class="samp">Regexps</span></samp>'<dd>Viper uses Emacs Regular Expressions for searches.  These are a superset of
Vi regular
expressions, excepting the change-of-case escapes `<samp><span class="samp">\u</span></samp>', `<samp><span class="samp">\L</span></samp>',
<small class="dots">...</small>, etc.  See <a href="emacs.html#Regexps">Syntax of Regular Expressions</a>, for details. 
Files specified to <kbd>:e</kbd> use <code>csh</code> regular expressions
(globbing, wildcards, what have you). 
However, the function <code>viper-toggle-search-style</code>, bound to <kbd>C-c /</kbd>,
lets the user switch from search with regular expressions to plain vanilla
search and vice versa.  It also lets one switch from case-sensitive search
to case-insensitive and back. 
See <a href="#Viper-Specials">Viper Specials</a>, for more details. 
<a name="index-regular-expressions-47"></a><a name="index-vanilla-search-48"></a><a name="index-case_002dsensitive-search-49"></a><a name="index-case_002dinsensitive-search-50"></a><a name="index-g_t_0040kbd_007bC_002dc-_002f_007d-51"></a>
<br><dt>`<samp><span class="samp">Ex commands</span></samp>'<dd><a name="index-Ex-commands-52"></a>The current working directory of a buffer is automatically inserted in the
minibuffer if you type <kbd>:e</kbd> then space.  Absolute filenames are
required less often in Viper.  For file names, Emacs uses a convention that
is slightly different from other programs.  It is designed to minimize the
need for deleting file names that Emacs provides in its prompts.  (This is
usually convenient, but occasionally the prompt may suggest a wrong file
name for you.)  If you see a prompt <kbd>/usr/foo/</kbd> and you wish to edit the
file <kbd>~/.file</kbd>, you don't have to erase the prompt.  Instead, simply
continue typing what you need.  Emacs will interpret <kbd>/usr/foo/~/.file</kbd>
correctly.  Similarly, if the prompt is <kbd>~/foo/</kbd> and you need to get to
<kbd>/bar/file</kbd>, keep typing.  Emacs interprets <kbd>~/foo//bar/</kbd> as
<kbd>/bar/file</kbd>, since when it sees `<samp><span class="samp">//</span></samp>', it understands that
<kbd>~/foo/</kbd> is to be discarded.

     <p>The command <kbd>:cd</kbd> will change the default directory for the
current buffer.  The command <kbd>:e</kbd> will interpret the
filename argument in <code>csh</code>.  See <a href="#Customization">Customization</a>, if you
want to change the default shell. 
The command <kbd>:next</kbd> takes counts from
<kbd>:args</kbd>, so that <kbd>:rew</kbd> is obsolete.  Also, <kbd>:args</kbd> will show only
the invisible files (i.e., those that are not currently seen in Emacs
windows).

     <p>When applicable, Ex commands support file completion and history.  This
means that by typing a partial file name and then &lt;TAB&gt;, Emacs will try
to complete the name or it will offer a menu of possible completions. 
This works similarly to Tcsh and extends the behavior of Csh.  While Emacs
is waiting for a file name, you can type <kbd>M-p</kbd> to get the previous file
name you typed.  Repeatedly typing <kbd>M-p</kbd> and <kbd>M-n</kbd> will let you
browse through the file history.

     <p>Like file names, partially typed Ex commands can be completed by typing
&lt;TAB&gt;, and Viper keeps the history of Ex commands.  After typing
<kbd>:</kbd>, you can browse through the previously entered Ex commands by
typing <kbd>M-p</kbd> and <kbd>M-n</kbd>.  Viper tries to rationalize when it puts Ex
commands on the history list.  For instance, if you typed <kbd>:w! foo</kbd>,
only <kbd>:w!</kbd> will be placed on the history list.  This is because the
last history element is the default that can be invoked simply by typing
<kbd>: &lt;RET&gt;</kbd>.  If <kbd>:w! foo</kbd> were placed on the list, it would be all to
easy to override valuable data in another file.  Reconstructing the full
command, <kbd>:w! foo</kbd>, from the history is still not that hard, since Viper
has a separate history for file names.  By typing <kbd>: M-p</kbd>, you will get
<kbd>:w!</kbd> in the minibuffer.  Then, repeated <kbd>M-p</kbd> will get you through
the file history, inserting one file name after another.

     <p>In contrast to <kbd>:w! foo</kbd>, if the command were <kbd>:r foo</kbd>, the entire
command will appear in the history list.  This is because having <kbd>:r</kbd>
alone as a default is meaningless, since this command requires a file
argument. 
</dl>
   As in Vi, Viper's destructive commands can be re-executed by typing
a period (<kbd>.</kbd>). 
However, in addition, Viper keeps track of the history of such commands.  This
history can be perused by typing <kbd>C-c M-p</kbd> and <kbd>C-c M-n</kbd>. 
Having found the appropriate command, it can be then executed by typing
a period. 
See <a href="#Improvements-over-Vi">Improvements over Vi</a>, for more information.

<div class="node">
<p><hr>
<a name="Insert-State"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Replace-State">Replace State</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Vi-State">Vi State</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#States-in-Viper">States in Viper</a>

</div>

<h4 class="subsection">1.3.3 Insert State</h4>

<p><a name="index-Insert-state-53"></a>
To avoid confusing the beginner (at Viper level 1 and 2), Viper makes only the
standard Vi keys available in Insert state.  The implication is that
Emacs major modes cannot be used in Insert state. 
It is strongly recommended that as soon as you are comfortable, make the
Emacs state bindings visible (by changing your user level to 3 or higher). 
See <a href="#Customization">Customization</a>,
to see how to do this.

   <p>Once this is done, it is possible to do quite a bit of editing in
Insert state.  For instance, Emacs has a <dfn>yank</dfn> command, <kbd>C-y</kbd>,
which is similar to Vi's <kbd>p</kbd>.  However, unlike <kbd>p</kbd>, <kbd>C-y</kbd> can be
used in Insert state of Viper.  Emacs also has a kill ring where it keeps
pieces of text you deleted while editing buffers.  The command <kbd>M-y</kbd> is
used to delete the text previously put back by Emacs's <kbd>C-y</kbd> or by Vi's
<kbd>p</kbd> command and reinsert text that was placed on the kill-ring earlier.

   <p>This works both in Vi and Insert states. 
In Vi state, <kbd>M-y</kbd> is a much better alternative to the usual Vi's way
of recovering the 10 previously deleted chunks of text.  In Insert state,
you can
use this as follows.  Suppose you deleted a piece of text and now you need
to re-insert it while editing in Insert mode.  The key <kbd>C-y</kbd> will put
back the most recently deleted chunk.  If this is not what you want, type
<kbd>M-y</kbd> repeatedly and, hopefully, you will find the chunk you want.

   <p>Finally, in Insert and Replace states, Viper provides the history of
pieces of text inserted in previous insert or replace commands.  These
strings of text can be recovered by repeatedly typing <kbd>C-c M-p</kbd> or
<kbd>C-c M-n</kbd> while in Insert or Replace state.  (This feature is disabled
in the minibuffer: the above keys are usually bound to other histories,
which are more appropriate in the minibuffer.)

   <p><a name="index-Meta-key-54"></a>
You can call Meta functions from Insert state.  As in Vi state, the Meta key
is <kbd>C-\</kbd>.  Thus <kbd>M-x</kbd> is typed as <kbd>C-\ x</kbd>.

   <p>Other Emacs commands that are useful in Insert state are <kbd>C-e</kbd>
and <kbd>C-a</kbd>, which move the cursor to the end and the beginning of the
current line, respectively.  You can also use <kbd>M-f</kbd> and <kbd>M-b</kbd>,
which move the cursor forward (or backward) one word. 
If your display has a Meta key, these functions are invoked by holding the
Meta key and then typing <kbd>f</kbd> and <kbd>b</kbd>, respectively.  On displays
without the Meta key, these functions are invoked by typing
<kbd>C-\ f</kbd> and <kbd>C-\ b</kbd> (<kbd>C-\</kbd> simulates the Meta key in Insert
state, as explained above).

   <p>The key <kbd>C-z</kbd> is sometimes also useful in Insert state: it allows you
to execute a single command in Vi state without leaving the Insert state! 
For instance, <kbd>C-z d2w</kbd> will delete the next two words without leaving
the Insert state.

   <p>When Viper is in Insert state, you will see &lt;I&gt; in the mode line.

<div class="node">
<p><hr>
<a name="Replace-State"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Insert-State">Insert State</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#States-in-Viper">States in Viper</a>

</div>

<h4 class="subsection">1.3.4 Replace State</h4>

<p><a name="index-Replace-state-55"></a>
This state is entered through Vi replacement commands, such as <kbd>C</kbd>,
<kbd>cw</kbd>, etc., or by typing <kbd>R</kbd>.  In Replace state, Viper puts &lt;R&gt; in
the mode line to let you know which state is in effect.  If Replace state is
entered through <kbd>R</kbd>, Viper stays in that state until the user hits
&lt;ESC&gt;.  If this state is entered via the other replacement commands,
then Replace state is in effect until you hit &lt;ESC&gt; or until you cross
the rightmost boundary of the replacement region.  In the latter case, Viper
changes its state from Replace to Insert (which you will notice by the
change in the mode line).

   <p>Since Viper runs under Emacs, it is possible to switch between buffers
while in Replace state.  You can also move the cursor using the arrow keys
(even on dumb terminals!) and the mouse.  Because of this freedom (which is
unattainable in regular Vi), it is possible to take the cursor outside the
replacement region.  (This may be necessary for several reasons, including
the need to enable text selection and region-setting with the mouse.)

   <p>The issue then arises as to what to do when the user
hits the &lt;ESC&gt; key.  In Vi, this would cause the text between cursor and
the end of the replacement region to be deleted.  But what if, as is
possible in Viper, the cursor is not inside the replacement region?

   <p>To solve the problem, Viper keeps track of the last cursor position while it
was still inside the replacement region.  So, in the above situation, Viper
would delete text between this position and the end of the replacement
region.

<div class="node">
<p><hr>
<a name="The-Minibuffer"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Multiple-Files-in-Viper">Multiple Files in Viper</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#States-in-Viper">States in Viper</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.4 The Minibuffer</h3>

<p><a name="index-Minibuffer-56"></a>
The minibuffer is where commands are entered in.  Editing can be done
by commands from Insert state, namely:

     <dl>
<dt><kbd>C-h</kbd><dd>Backspace
<br><dt><kbd>C-w</kbd><dd>Delete Word
<br><dt><kbd>C-u</kbd><dd>Erase line
<br><dt><kbd>C-v</kbd><dd>Quote the following character
<br><dt><kbd>&lt;RET&gt;</kbd><dd>Execute command
<br><dt><kbd>C-g and C-]</kbd><dd>Emacs quit and abort keys.  These may be necessary.  See <a href="#Vi-State">Vi State</a>, for an
explanation. 
<br><dt><kbd>M-p and M-n</kbd><dd>These keys are bound to functions that peruse minibuffer history.  The
precise history to be perused depends on the context.  It may be the history
of search strings, Ex commands, file names, etc. 
<br><dt><kbd>C-s</kbd><dd>If the minibuffer is entered via the Viper search commands <kbd>/</kbd> or
<kbd>?</kbd>, then this key inserts the last search string used by the
Emacs incremental search command
(which is bound to <kbd>C-s</kbd> everywhere except in this case). 
</dl>

   <p>Most of the Emacs keys are functional in the minibuffer.  While in the
minibuffer, Viper tries to make editing resemble Vi's behavior when the
latter is waiting for the user to type an Ex command.  In particular, you
can use the regular Vi commands to edit the minibuffer.  You can switch
between the Vi state and Insert state at will, and even use the replace mode. 
Initially, the minibuffer comes up in Insert state.

   <p>Some users prefer plain Emacs bindings in the minibuffer.  To this end, set
<code>viper-vi-style-in-minibuffer</code> to <code>nil</code> in
your Viper customization file.  See <a href="#Customization">Customization</a>, to learn how to do this.

   <p>When the minibuffer changes Viper states, you will notice that the appearance
of the text there changes as well.  This is useful because the minibuffer
has no mode line to tell which Vi state it is in. 
The appearance of the text in the minibuffer can be changed. 
See <a href="#Viper-Specials">Viper Specials</a>, for more details.

<div class="node">
<p><hr>
<a name="Multiple-Files-in-Viper"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Unimplemented-Features">Unimplemented Features</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#The-Minibuffer">The Minibuffer</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.5 Multiple Files in Viper</h3>

<p><a name="index-multiple-files-57"></a><a name="index-managing-multiple-files-58"></a>
Viper can edit multiple files.  This means, for example that you never need
to suffer through <code>No write since last change</code> errors. 
Some Viper elements are common over all the files.

     <dl>
<dt>`<samp><span class="samp">Textmarkers</span></samp>'<dd><a name="index-markers-59"></a><a name="index-textmarkers-60"></a>Textmarkers remember <em>files and positions</em>. 
If you set marker `<samp><span class="samp">a</span></samp>' in
file <samp><span class="file">foo</span></samp>, start editing file <samp><span class="file">bar</span></samp> and type <kbd>'a</kbd>, then
<em>YOU WILL SWITCH TO FILE <samp></em><span class="file">foo</span><em></samp></em>.  You can see the contents of a
textmarker using the Viper command <kbd>[&lt;a-z&gt;</kbd> where &lt;a-z&gt; are the
textmarkers, e.g., <kbd>[a</kbd> to view marker `<samp><span class="samp">a</span></samp>' . 
<br><dt>`<samp><span class="samp">Repeated Commands</span></samp>'<dd>Command repetitions are common over files.  Typing <kbd>!!</kbd> will repeat the
last <kbd>!</kbd> command whichever file it was issued from. 
Typing <kbd>.</kbd> will repeat the last command from any file, and
searches will repeat the last search.  Ex commands can be repeated by typing
<kbd>: &lt;RET&gt;</kbd>. 
Note: in some rare cases, that <kbd>: &lt;RET&gt;</kbd> may do something dangerous. 
However, usually its effect can be undone by typing <kbd>u</kbd>. 
<br><dt>`<samp><span class="samp">Registers</span></samp>'<dd><a name="index-registers-61"></a>Registers are common to files.  Also, text yanked with <kbd>y</kbd> can be
put back (<kbd>p</kbd>) into any file.  The Viper command <kbd>]&lt;a-z&gt;</kbd>, where &lt;a-z&gt; are
the registers, can be used to look at the contents of a register, e.g.,
type <kbd>]a</kbd> to view register `<samp><span class="samp">a</span></samp>'.

     <p>There is one difference in text deletion that you should be
aware of.  This difference comes from Emacs and was adopted in Viper
because we find it very useful.  In Vi, if you delete a line, say, and then
another line, these two deletions are separated and are put back
separately if you use the `<samp><span class="samp">p</span></samp>' command.  In Emacs (and Viper), successive
series of deletions that are <em>not interrupted</em> by other commands are
lumped together, so the deleted text gets accumulated and can be put back
as one chunk.  If you want to break a sequence of deletions so that the
newly deleted text could be put back separately from the previously deleted
text, you should perform a non-deleting action, e.g., move the cursor one
character in any direction. 
<br><dt>`<samp><span class="samp">Absolute Filenames</span></samp>'<dd><a name="index-absolute-file-names-62"></a>The current directory name for a file is automatically prepended to the
file name in any
<kbd>:e</kbd>, <kbd>:r</kbd>, <kbd>:w</kbd>, etc., command (in Emacs, each buffer has a
current directory). 
This directory is inserted in the minibuffer once you type space after
<kbd>:e, r</kbd>, etc.  Viper also supports completion of file names and Ex
commands (&lt;TAB&gt;), and it keeps track of
command and file history (<kbd>M-p</kbd>, <kbd>M-n</kbd>). 
Absolute filenames are required less
often in Viper.

     <p>You should be aware that Emacs interprets <kbd>/foo/bar//bla</kbd> as
<kbd>/bla</kbd> and <kbd>/foo/~/bar</kbd> as <kbd>~/bar</kbd>.  This is designed to
minimize the need for erasing file names that Emacs suggests in its
prompts, if a suggested file name is not what you wanted.

     <p>The command <kbd>:cd</kbd> will change the default directory for the
current Emacs buffer.  The Ex command <kbd>:e</kbd> will interpret the
filename argument in `<samp><span class="samp">csh</span></samp>', by default.  See <a href="#Customization">Customization</a>, if you
want to change this. 
</dl>

<p class="noindent">Currently undisplayed files can be listed using the <kbd>:ar</kbd> command.  The
command <kbd>:n</kbd> can be given counts from the <kbd>:ar</kbd> list to switch to
other files.  For example, use `<samp><span class="samp">:n3</span></samp>' to move to the third file in
that list.

<div class="node">
<p><hr>
<a name="Unimplemented-Features"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Multiple-Files-in-Viper">Multiple Files in Viper</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.6 Unimplemented Features</h3>

<p>Unimplemented features include:

     <ul>
<li><kbd>:ab</kbd> and <kbd>:una</kbd> are not implemented, since
<kbd>:ab</kbd> is considered obsolete, since Emacs has much
more powerful facilities for defining abbreviations. 
<li><kbd>:set option?</kbd> is not implemented.  The current
<kbd>:set</kbd> can also be used to set Emacs variables. 
<li><kbd>:se list</kbd> requires modification of the display code for Emacs, so
it is not implemented. 
A useful alternative is <code>cat -t -e file</code>.  Unfortunately, it cannot
be used directly inside Emacs, since Emacs will obdurately change `<samp><span class="samp">^I</span></samp>'
back to normal tabs. 
</ul>

<div class="node">
<p><hr>
<a name="Improvements-over-Vi"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Customization">Customization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Improvements over Vi</h2>

<p>Some common problems with Vi and Ex have been solved in Viper.  This
includes better implementation of existing commands, new commands, and
the facilities provided by Emacs.

<ul class="menu">
<li><a accesskey="1" href="#Basics">Basics</a>:                   Basic Viper differences, Multi-file effects. 
<li><a accesskey="2" href="#Undo-and-Backups">Undo and Backups</a>:         Multiple undo, auto-save, backups and changes
<li><a accesskey="3" href="#History">History</a>:                  History for Ex and Vi commands. 
<li><a accesskey="4" href="#Macros-and-Registers">Macros and Registers</a>:     Keyboard Macros (extended ".") @reg execution. 
<li><a accesskey="5" href="#Completion">Completion</a>:               Filename and Command Completion for Ex. 
<li><a accesskey="6" href="#Improved-Search">Improved Search</a>:          Incremental Search and Buffer Content Search. 
<li><a accesskey="7" href="#Abbreviation-Facilities">Abbreviation Facilities</a>:  Normal Abbrevs, Templates, and Dynamic Abbrevs. 
<li><a accesskey="8" href="#Movement-and-Markers">Movement and Markers</a>:     Screen Editor movements, viewing textmarkers. 
<li><a accesskey="9" href="#New-Commands">New Commands</a>:             Commands that do not exist in Vi. 
<li><a href="#Useful-Packages">Useful Packages</a>:          A Sampling of some Emacs packages, and things
                            you should know about. 
</ul>

<div class="node">
<p><hr>
<a name="Basics"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Undo-and-Backups">Undo and Backups</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.1 Basics</h3>

<p>The Vi command set is based on the idea of combining motion commands
with other commands.  The motion command is used as a text region
specifier for other commands. 
We classify motion commands into <dfn>point commands</dfn> and
<dfn>line commands</dfn>.

   <p><a name="index-point-commands-63"></a>
The point commands are:

   <blockquote>
<kbd>h</kbd>, <kbd>l</kbd>, <kbd>0</kbd>,  <kbd>$</kbd>, <kbd>w</kbd>, <kbd>W</kbd>, <kbd>b</kbd>, <kbd>B</kbd>,
<kbd>e</kbd>, <kbd>E</kbd>, <kbd>(</kbd>, <kbd>)</kbd>, <kbd>/</kbd>, <kbd>?</kbd>, <kbd>`</kbd>, <kbd>f</kbd>,
<kbd>F</kbd>, <kbd>t</kbd>, <kbd>T</kbd>, <kbd>%</kbd>, <kbd>;</kbd>, <kbd>,</kbd>, <kbd>^</kbd>
</blockquote>

   <p><a name="index-line-commands-64"></a>
The line commands are:

   <blockquote>
<kbd>j</kbd>, <kbd>k</kbd>, <kbd>+</kbd>, <kbd>-</kbd>, <kbd>H</kbd>, <kbd>M</kbd>, <kbd>L</kbd>, <kbd>{</kbd>,
<kbd>}</kbd>, <kbd>G</kbd>, <kbd>'</kbd>,  <kbd>[[</kbd>, <kbd>]]</kbd>, <kbd>[]</kbd>
</blockquote>

   <p><a name="index-region-65"></a><a name="index-region-specification-66"></a><a name="index-expanding-_0028region_0029-67"></a><a name="index-describing-regions-68"></a><a name="index-movement-commands-69"></a>
If a point command is given as an argument to a modifying command, the
region determined by the point command will be affected by the modifying
command.  On the other hand, if a line command is given as an argument to a
modifying command, the region determined by the line command will be
enlarged so that it will become the smallest region properly containing the
region and consisting of whole lines (we call this process <dfn>expanding
the region</dfn>), and then the enlarged region will be affected by the modifying
command. 
Text Deletion Commands (see <a href="#Deleting-Text">Deleting Text</a>), Change commands
(see <a href="#Changing-Text">Changing Text</a>), even Shell Commands (see <a href="#Shell-Commands">Shell Commands</a>)
use these commands to describe a region of text to operate on. 
Thus, type <kbd>dw</kbd> to delete a word, <kbd>&gt;}</kbd> to shift a paragraph, or
<kbd>!'afmt</kbd> to format a region from `<samp><span class="samp">point</span></samp>' to textmarker
`<samp><span class="samp">a</span></samp>'.

   <p><a name="index-r-and-R-region-specifiers-70"></a>
Viper adds the region specifiers `<samp><span class="samp">r</span></samp>' and `<samp><span class="samp">R</span></samp>'.  Emacs has a
special marker called <dfn>mark</dfn>.  The text-area between the current cursor
position <dfn>point</dfn> and the <dfn>mark</dfn> is called the <dfn>region</dfn>. 
`<samp><span class="samp">r</span></samp>' specifies the raw region and `<samp><span class="samp">R</span></samp>' is the expanded region
(i.e., the minimal contiguous chunk of full lines that contains the raw
region). 
<kbd>dr</kbd> will now delete the region, <kbd>&gt;r</kbd> will shift it, etc. 
<kbd>r,R</kbd> are not motion commands, however.  The special mark is set by
<kbd>m.</kbd> and other commands.  See <a href="#Marking">Marking</a>, for more info.

   <p>Viper also adds counts to most commands for which it would make sense.

   <p>In the Overview chapter, some Multiple File issues were discussed
(see <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a>).  In addition to the files, Emacs has
buffers.  These can be seen in the <kbd>:args</kbd> list and switched using
<kbd>:next</kbd> if you type <kbd>:set ex-cycle-through-non-files t</kbd>, or
specify <code>(setq ex-cycle-through-non-files t)</code> in your
Viper customization file.  See <a href="#Customization">Customization</a>, for details.

<div class="node">
<p><hr>
<a name="Undo-and-Backups"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#History">History</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basics">Basics</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.2 Undo and Backups</h3>

<p><a name="index-undo-71"></a>
Viper provides multiple undo.  The number of undo's and the size is limited
by the machine.  The Viper command <kbd>u</kbd> does an undo.  Undo can be
repeated by typing <kbd>.</kbd> (a period).  Another <kbd>u</kbd> will undo the undo,
and further
<kbd>.</kbd> will repeat it.  Typing <kbd>u</kbd> does the first undo, and changes the
direction.

   <p><a name="index-backup-files-72"></a><a name="index-auto-save-73"></a>
Since the undo size is limited, Viper can create backup files and
auto-save files.  It will normally do this automatically.  It is possible
to have numbered backups, etc.  For details, see <a href="emacs.html#Backup">Backup and Auto-Save</a>.

<!-- [ balance parens -->
<p><a name="index-viewing-registers-and-markers-74"></a><a name="index-registers-75"></a><a name="index-markers-76"></a><a name="index-textmarkers-77"></a>
The results of the 9 previous changes are available in the 9 numeric
registers, as in Vi.  The extra goody is the ability to <em>view</em> these
registers, in addition to being able to access them through <kbd>p</kbd> and
<kbd>M-y</kbd> (See <a href="#Insert-State">Insert State</a>, for details.) 
The Viper command <kbd>] register</kbd> will display the contents of any
register, numeric or alphabetical.  The related command <kbd>[ textmarker</kbd>
will show the text around the textmarker.  `<samp><span class="samp">register</span></samp>' and `<samp><span class="samp">textmarker</span></samp>'
can be any letters from a through z. 
<!-- ] balance parens -->

<div class="node">
<p><hr>
<a name="History"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Macros-and-Registers">Macros and Registers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Undo-and-Backups">Undo and Backups</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.3 History</h3>

<p><a name="index-history-78"></a><a name="index-Minibuffer-79"></a>
History is provided for Ex commands, Vi searches, file names, pieces of
text inserted in earlier commands that use Insert or Replace state, and for
destructive commands in Vi state.  These are
useful for fixing those small typos that screw up searches and <kbd>:s</kbd>,
and for eliminating routine associated with repeated typing of file names
or pieces of text that need to be inserted frequently. 
At the <kbd>:</kbd> or <kbd>/</kbd> prompts in the minibuffer, you can do the following:

     <dl>
<dt><kbd>M-p and M-n</kbd><dd>To move to previous and next history items.  This causes the history
items to appear on the command line, where you can edit them, or
simply type Return to execute. 
<br><dt><kbd>M-r and M-s</kbd><dd>To search backward and forward through the history. 
<br><dt><kbd>&lt;RET&gt;</kbd><dd>Type &lt;RET&gt; to accept a default (which is displayed in the prompt). 
</dl>

   <p>The history of insertions  can be perused by
typing <kbd>C-c M-p</kbd> and <kbd>C-c M-n</kbd> while in Insert or Replace state. 
The history of destructive Vi commands can be perused via the same keys
when Viper is in Vi state.  See <a href="#Viper-Specials">Viper Specials</a>, for details.

   <p>All Ex commands have a file history.  For instance, typing <kbd>:e</kbd>, space
and then <kbd>M-p</kbd> will bring up the name of the previously typed file
name.  Repeatedly typing <kbd>M-p</kbd>, <kbd>M-n</kbd>, etc., will let you browse
through the file history.

   <p>Similarly, commands that have to do with switching buffers
have a buffer history, and commands that expect strings or regular
expressions keep a history on those items.

<div class="node">
<p><hr>
<a name="Macros-and-Registers"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Completion">Completion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#History">History</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.4 Macros and Registers</h3>

<p><a name="index-keyboard-macros-80"></a><a name="index-macros-81"></a><a name="index-registers-82"></a><a name="index-register-execution-83"></a>
Viper facilitates the use of Emacs-style keyboard macros.  <kbd>@#</kbd> will
start a macro definition.  As you type, the commands will be executed, and
remembered (This is called &ldquo;learn mode&rdquo; in some editors.) 
<kbd>@register</kbd> will complete the macro, putting it into `<samp><span class="samp">register</span></samp>',
where `<samp><span class="samp">register</span></samp>' is any character from `<samp><span class="samp">a</span></samp>' through `<samp><span class="samp">z</span></samp>'.  Then
you can execute this macro using <kbd>@register</kbd>.  It is, of course,
possible to yank some text into a register and execute it using
<kbd>@register</kbd>.  Typing <kbd>@@</kbd>, <kbd>@RET</kbd>, or <kbd>@C-j</kbd> will
execute the last macro that was executed using <kbd>@register</kbd>.

   <p>Viper will automatically lowercase the register, so that pressing the
<kbd>SHIFT</kbd> key for <kbd>@</kbd> will not create problems.  This is for
<kbd>@</kbd> macros and <kbd>"p</kbd> <em>only</em>.  In the case of <kbd>y</kbd>,
<kbd>"Ayy</kbd> will append to <em>register a</em>.  For <kbd>[,],',`</kbd>, it
is an error to use a Uppercase register name.

<!-- [ balance parens -->
<p><a name="index-viewing-registers-and-markers-84"></a>
The contents of a register can be seen by <kbd>]register</kbd>.  (<kbd>[textmarker</kbd>
will show the contents of a textmarker). 
<!-- ] balance parens -->

   <p><a name="index-last-keyboard-macro-85"></a>
The last keyboard macro can also be executed using
<kbd>*</kbd>, and it can be yanked into a register using <kbd>@!register</kbd>. 
This is useful for Emacs style keyboard macros defined using <kbd>C-x(</kbd>
and <kbd>C-x)</kbd>.  Emacs keyboard macros have more capabilities. 
See <a href="emacs.html#Keyboard-Macros">Keyboard Macros</a>, for
details.

   <p>Keyboard Macros allow an interesting form of Query-Replace:
<kbd>/pattern</kbd> or <kbd>n</kbd> to go to the next pattern (the query), followed by a
Keyboard Macro execution <kbd>@@</kbd> (the replace).

   <p>Viper also provides Vi-style macros.  See <a href="#Vi-Macros">Vi Macros</a>, for details.

<div class="node">
<p><hr>
<a name="Completion"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Improved-Search">Improved Search</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Macros-and-Registers">Macros and Registers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.5 Completion</h3>

<p><a name="index-completion-86"></a>
Completion is done when you type &lt;TAB&gt;.  The Emacs completer does not
grok wildcards in file names.  Once you type a wildcard, the completer will
no longer work for that file name.  Remember that Emacs interprets a file name
of the form <kbd>/foo//bar</kbd> as <kbd>/bar</kbd> and <kbd>/foo/~/bar</kbd> as
<kbd>~/bar</kbd>.

<div class="node">
<p><hr>
<a name="Improved-Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Abbreviation-Facilities">Abbreviation Facilities</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Completion">Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.6 Improved Search</h3>

<p><a name="index-buffer-search-87"></a><a name="index-word-search-88"></a>
Viper provides buffer search, the ability to search the buffer for a region
under the cursor.  You have to turn this on in your Viper customization file
either by calling

<pre class="example">     (viper-buffer-search-enable)
</pre>
   <p class="noindent">or by setting <code>viper-buffer-search-char</code> to, say, <kbd>f3</kbd>:
<pre class="example">     (setq viper-buffer-search-char ?g)
</pre>
   <p class="noindent">If the user calls <code>viper-buffer-search-enable</code> explicitly (the first
method), then <code>viper-buffer-search-char</code> will be set to <kbd>g</kbd>. 
Regardless of how this feature is enabled, the key
<code>viper-buffer-search-char</code> will take movement commands, like
<kbd>w,/,e</kbd>, to find a region and then search for the contents of that
region.  This command is very useful for searching for variable names, etc.,
in a program.  The search can be repeated by <kbd>n</kbd> or reversed by <kbd>N</kbd>.

   <p><a name="index-incremental-search-89"></a>
Emacs provides incremental search.  As you type the string in, the
cursor will move to the next match.  You can snarf words from the buffer
as you go along.  Incremental Search is normally bound to <kbd>C-s</kbd> and
<kbd>C-r</kbd>.  See <a href="#Customization">Customization</a>, to find out how to change the bindings
of <kbd>C-r or C-s</kbd>. 
For details, see <a href="emacs.html#Incremental-Search">Incremental Search</a>.

   <p><a name="index-query-replace-90"></a>
Viper also provides a query replace function that prompts through the
minibuffer.  It is invoked by the <kbd>Q</kbd> key in Vi state.

   <p><a name="index-mouse-search-91"></a>
On a window display, Viper supports mouse search, i.e., you can search for a
word by clicking on it.  See <a href="#Viper-Specials">Viper Specials</a>, for details.

   <p>Finally, on a window display, Viper highlights search patterns as it finds
them.  This is done through what is known as <em>faces</em> in Emacs.  The
variable that controls how search patterns are highlighted is
<code>viper-search-face</code>.  If you don't want any highlighting at all, put
<pre class="example">     (copy-face 'default 'viper-search-face)
</pre>
   <p><a name="index-g_t_0040code_007bviper_002dsearch_002dface_007d-92"></a>in your Viper customization file.  If you want to change how patterns are
highlighted, you will have to change <code>viper-search-face</code> to your liking. 
The easiest way to do this is to use Emacs customization widget, which is
accessible from the menubar.  Viper customization group is located under the
<em>Emulations</em> customization group, which in turn is under the
<em>Editing</em> group (or simply by typing <kbd>:customize</kbd>).  All Viper
faces are grouped together under Viper's
<em>Highlighting</em> group.

   <p>Try it: it is really simple!

<div class="node">
<p><hr>
<a name="Abbreviation-Facilities"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Movement-and-Markers">Movement and Markers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Improved-Search">Improved Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.7 Abbreviation Facilities</h3>

<p><a name="index-abbrevs-93"></a>
It is possible in Emacs to define abbrevs based on the contents of the
buffer. 
Sophisticated templates can be defined using the Emacs abbreviation
facilities.  See <a href="emacs.html#Abbrevs">Abbreviations</a>, for
details.

   <p><a name="index-dynamic-abbrevs-94"></a>
Emacs also provides Dynamic Abbreviations.  Given a partial word, Emacs
will search the buffer to find an extension for this word.  For instance,
one can type `<samp><span class="samp">Abbreviations</span></samp>' by typing `<samp><span class="samp">A</span></samp>', followed by a keystroke
that completed the `<samp><span class="samp">A</span></samp>' to `<samp><span class="samp">Abbreviations</span></samp>'.  Repeated typing
will search further back in the buffer, so that one could get
`<samp><span class="samp">Abbrevs</span></samp>' by repeating the
keystroke, which appears earlier in the text.  Emacs binds this to
<kbd>&lt;ESC&gt; /</kbd>, so you will have to find a key and bind the function
<code>dabbrev-expand</code> to that key. 
Facilities like this make Vi's <kbd>:ab</kbd> command obsolete.

<div class="node">
<p><hr>
<a name="Movement-and-Markers"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#New-Commands">New Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Abbreviation-Facilities">Abbreviation Facilities</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.8 Movement and Markers</h3>

<p><a name="index-Ex-style-motion-95"></a><a name="index-line-editor-motion-96"></a>
Viper can be set free from the line-limited movements in Vi, such as <kbd>l</kbd>
refusing to move beyond the line, &lt;ESC&gt; moving one character back,
etc.  These derive from Ex, which is a line editor.  If your
Viper customization file contains

<pre class="example">     <code>(setq viper-ex-style-motion nil)</code>
</pre>
   <p class="noindent">the motion will be a true screen editor motion.  One thing you must then
watch out for is that it is possible to be on the end-of-line character. 
The keys <kbd>x</kbd> and <kbd>%</kbd> will still work correctly, i.e., as if they
were on the last character.

   <p><a name="index-g_t_0040code_007bviper_002dsyntax_002dpreference_007d-97"></a><a name="index-syntax-table-98"></a>
The word-movement commands <kbd>w</kbd>, <kbd>e</kbd>, etc., and the associated
deletion/yanking commands, <kbd>dw</kbd>, <kbd>yw</kbd>, etc., can be made to
understand Emacs syntax tables.  If the variable
<code>viper-syntax-preference</code> is set to <code>strict-vi</code> then
the meaning of <em>word</em> is the same as in
Vi.  However, if the value is <code>reformed-vi</code> (the default) then the
alphanumeric symbols will be those specified by the current Emacs syntax
table (which may be different for different major modes) plus the
underscore symbol <kbd>_</kbd>, minus some non-word symbols, like '.;,|, etc. 
Both <code>strict-vi</code> and <code>reformed-vi</code> work close to Vi in
traditional cases, but <code>reformed-vi</code> does a better job when editing
text in non-Latin alphabets.

   <p>The user can also specify the value <code>emacs</code>, which would
make Viper use exactly the Emacs notion of word.  In particular, the
underscore may not be part of a word.  Finally, if
<code>viper-syntax-preference</code> is set to <code>extended</code>, Viper words would
consist of characters that are classified as alphanumeric <em>or</em> as
parts of symbols.  This is convenient for writing programs and in many other
situations.

   <p><code>viper-syntax-preference</code> is a local variable, so it can have different
values for different major modes.  For instance, in programming modes it can
have the value <code>extended</code>.  In text modes where words contain special
characters, such as European (non-English) letters, Cyrillic letters, etc.,
the value can be <code>reformed-vi</code> or <code>emacs</code>.

   <p>Changes to <code>viper-syntax-preference</code> should be done in the hooks to
various major modes by executing <code>viper-set-syntax-preference</code> as in
the following example:

<pre class="example">     (viper-set-syntax-preference nil "emacs")
</pre>
   <p><a name="index-g_t_0040code_007bviper_002dset_002dsyntax_002dpreference_007d-99"></a>
The above discussion of the meaning of Viper's words concerns only Viper's
movement commands.  In regular expressions, words remain the same as in
Emacs.  That is, the expressions <code>\w</code>, <code>\&gt;</code>, <code>\&lt;</code>, etc., use
Emacs's idea of what is a word, and they don't look into the value of
variable <code>viper-syntax-preference</code>.  This is because Viper doesn't change
syntax tables in fear of upsetting the various major modes that set these
tables.

   <p><a name="index-textmarkers-100"></a>
Textmarkers in Viper remember the file and the position, so that you can
switch files by simply doing <kbd>'a</kbd>.  If you set up a regimen for using
Textmarkers, this is very useful.  Contents of textmarkers can be viewed
by <kbd>[marker</kbd>.  (Contents of registers can be viewed by <kbd>]register</kbd>).

<div class="node">
<p><hr>
<a name="New-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Useful-Packages">Useful Packages</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Movement-and-Markers">Movement and Markers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.9 New Commands</h3>

<p>These commands have no Vi analogs.

     <dl>
<dt><kbd>C-x, C-c</kbd><dd><a name="index-g_t_0040kbd_007bC_002dx_007d-101"></a><a name="index-g_t_0040kbd_007bC_002dc_007d-102"></a>These two keys invoke many important Emacs functions.  For example, if you
hit <kbd>C-x</kbd> followed by <kbd>2</kbd>, then the current window will be split
into 2.  Except for novice users, <kbd>C-c</kbd> is also set to execute an Emacs
command from the current major mode.  &lt;ESC&gt; will do the same, if you
configure &lt;ESC&gt; as Meta by setting <code>viper-no-multiple-ESC</code> to
<code>nil</code> in your Viper customization file.  See <a href="#Customization">Customization</a>. 
<kbd>C-\</kbd> in Insert, Replace, or Vi states will make Emacs think
<kbd>Meta</kbd> has been hit. 
<br><dt><kbd>\</kbd><dd><a name="index-g_t_0040kbd_007b_005c_007d-103"></a>Escape to Emacs to execute a single Emacs command.  For instance,
<kbd>\ &lt;ESC&gt;</kbd> will act like a Meta key. 
<br><dt><kbd>Q</kbd><dd><a name="index-g_t_0040kbd_007bQ_007d-104"></a><a name="index-query-replace-105"></a><kbd>Q</kbd> is for query replace.  By default,
each string to be replaced is treated as a regular expression.  You can use
<code>(setq viper-re-query-replace nil)</code> in your <samp><span class="file">.emacs</span></samp> file to
turn this off.  (For normal searches, <kbd>:se nomagic</kbd> will work.  Note
that <kbd>:se nomagic</kbd> turns Regexps off completely, unlike Vi). 
<br><dt><kbd>v</kbd><dt><kbd>V</kbd><dt><kbd>C-v</kbd><dd><a name="index-g_t_0040kbd_007bv_007d-106"></a><a name="index-g_t_0040kbd_007bV_007d-107"></a><a name="index-g_t_0040kbd_007bC_002dv_007d-108"></a>These keys are used to visit files.  <kbd>v</kbd> will switch to a buffer
visiting file whose name can be entered in the minibuffer.  <kbd>V</kbd> is
similar, but will use a window different from the current window. 
<kbd>C-v</kbd> is like <kbd>V</kbd>, except that a new frame (X window) will be used
instead of a new Emacs window. 
<br><dt><kbd>#</kbd><dd><a name="index-g_t_0040kbd_007b_0023_007d-109"></a>If followed by a certain character <var>ch</var>, it becomes an operator whose
argument is the region determined by the motion command that follows
(indicated as &lt;move&gt;). 
Currently, <var>ch</var> can be one of <kbd>c</kbd>, <kbd>C</kbd>, <kbd>g</kbd>, <kbd>q</kbd>, and
<kbd>s</kbd>.  For instance, <kbd>#qr</kbd> will prompt you for a string and then
prepend this string to each line in the buffer. 
<br><dt><kbd># c</kbd><dd><a name="index-g_t_0040kbd_007b_0023c_003cmove_003e_007d-110"></a><a name="index-changing-case-111"></a>Change upper-case characters in the region to lower-case
(<code>downcase-region</code>). 
Emacs command <kbd>M-l</kbd> does the same for words. 
<br><dt><kbd># C</kbd><dd><a name="index-g_t_0040kbd_007b_0023C_003cmove_003e_007d-112"></a>Change lower-case characters in the region to upper-case.  For instance,
<kbd># C 3 w</kbd> will capitalize 3 words from the current point
(<code>upcase-region</code>). 
Emacs command <kbd>M-u</kbd> does the same for words. 
<br><dt><kbd># g</kbd><dd><a name="index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-113"></a>Execute last keyboard macro for each line in the region
(<code>viper-global-execute</code>). 
<br><dt><kbd># q</kbd><dd><a name="index-g_t_0040kbd_007b_0023q_003cmove_003e_007d-114"></a>Insert specified string at the beginning of each line in the region
(<code>viper-quote-region</code>).  The default string is composed of the comment
character(s) appropriate for the current major mode. 
<br><dt><kbd># s</kbd><dd><a name="index-g_t_0040kbd_007b_0023s_003cmove_003e_007d-115"></a>Check spelling of words in the region (<code>spell-region</code>). 
The function used for spelling is determined from the variable
<code>viper-spell-function</code>. 
<a name="index-g_t_0040code_007bviper_002dspell_002dfunction_007d-116"></a><br><dt><kbd>*</kbd><dd><a name="index-g_t_0040kbd_007b_002a_007d-117"></a>Call last keyboard macro. 
<br><dt><kbd>m .</kbd><dd>Set mark at point and push old mark off the ring
<br><dt><kbd>m&lt;</kbd><br><dt><kbd>m&gt;</kbd><dd>Set mark at beginning and end of buffer, respectively. 
<br><dt><kbd>m,</kbd><dd>Jump to mark and pop mark off the ring.  See <a href="emacs.html#Mark">Mark</a>, for more info. 
<br><dt><kbd>] register</kbd><dd><a name="index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-118"></a>View contents of register
<br><dt><kbd>[ textmarker</kbd><dd><a name="index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-119"></a>View filename and position of textmarker
<br><dt><kbd>@#</kbd><br><dt><kbd>@register</kbd><br><dt><kbd>@!</kbd><dd><a name="index-g_t_0040kbd_007b_0040_0040_0023_007d-120"></a><a name="index-g_t_0040kbd_007b_0040_0040_003ca_002dz_003e_007d-121"></a><a name="index-g_t_0040kbd_007b_0040_0040_0021_007d-122"></a><a name="index-keyboard-macros-123"></a><a name="index-register-execution-124"></a>
Begin/end keyboard macro.  @register has a different meaning when used after
a <kbd>@#</kbd>.  See <a href="#Macros-and-Registers">Macros and Registers</a>, for details
<br><dt><kbd>[]</kbd><dd><a name="index-g_t_0040kbd_007b_005b_005d_007d-125"></a>Go to end of heading. 
<br><dt><kbd>g &lt;</kbd><em>movement command</em><kbd>&gt;</kbd><dd>Search buffer for text delimited by movement command.  The canonical
example is <kbd>gw</kbd> to search for the word under the cursor. 
See <a href="#Improved-Search">Improved Search</a>, for details. 
<br><dt><kbd>C-g and C-]</kbd><dd><a name="index-g_t_0040kbd_007bC_002dg_007d-126"></a><a name="index-g_t_0040kbd_007bC_002d_005d_007d-127"></a>Quit and Abort Recursive edit.  These may be necessary on occasion. 
See <a href="#Vi-State">Vi State</a>, for a reason. 
<br><dt><kbd>C-c C-g</kbd><dd><a name="index-g_t_0040kbd_007bC_002dc-C_002dg_007d-128"></a>Hitting <kbd>C-c</kbd> followed by <kbd>C-g</kbd> will display the information on the
current buffer.  This is the same as hitting <kbd>C-g</kbd> in Vi, but, as
explained above, <kbd>C-g</kbd> is needed for other purposes in Emacs. 
<br><dt><kbd>C-c /</kbd><dd><a name="index-g_t_0040kbd_007bC_002dc-_002f_007d-129"></a>Without a prefix argument, this command toggles
case-sensitive/case-insensitive search modes and plain vanilla/regular
expression search.  With the prefix argument 1, i.e.,
<kbd>1 C-c /</kbd>, this toggles case-sensitivity; with the prefix argument 2,
toggles plain vanilla search and search using
regular expressions.  See <a href="#Viper-Specials">Viper Specials</a>, for alternative ways to invoke
this function. 
<a name="index-vanilla-search-130"></a><a name="index-case_002dsensitive-search-131"></a><a name="index-case_002dinsensitive-search-132"></a>
<br><dt><kbd>M-p and M-n</kbd><dd><a name="index-g_t_0040kbd_007bM_002dp_007d-133"></a><a name="index-g_t_0040kbd_007bM_002dn_007d-134"></a>In the minibuffer, these commands navigate through the minibuffer
histories, such as the history of search strings, Ex commands, etc.

     <br><dt><kbd>C-s</kbd><dd><a name="index-g_t_0040kbd_007bC_002ds_007d-135"></a>If the minibuffer is entered via a Viper search commands <kbd>/</kbd> or <kbd>?</kbd>,
then typing this key inserts the last search string used by the
Emacs incremental search command (that is bound to <kbd>C-s</kbd> everywhere
except in this case).

     <br><dt><kbd>C-c M-p and C-c M-n</kbd><dd><a name="index-g_t_0040kbd_007bC_002dc-M_002dp_007d-136"></a><a name="index-g_t_0040kbd_007bC_002dc-M_002dn_007d-137"></a><a name="index-Insertion-history-138"></a><a name="index-Insertion-ring-139"></a><a name="index-Command-history-140"></a><a name="index-Command-ring-141"></a>
In Insert or Replace state, these commands let  the user
peruse the history of insertion strings used in previous insert or replace
commands.  Try to hit <kbd>C-c M-p</kbd> or <kbd>C-c M-n</kbd> repeatedly and see what
happens.  See <a href="#Viper-Specials">Viper Specials</a>, for more.

     <p>In Vi state, these commands let the user peruse the history of Vi-style
destructive commands, such as <kbd>dw</kbd>, <kbd>J</kbd>, <kbd>a</kbd>, etc. 
By repeatedly typing <kbd>C-c M-p</kbd> or <kbd>C-c M-n</kbd> you will cycle Viper
through the recent history of Vi commands, displaying the commands one by
one.  Once an appropriate command is found, it can be executed by
typing a period.

     <p>Since typing <kbd>C-c M-p</kbd> is tedious, it is more convenient to bind an
appropriate function to a function key on the keyboard and use that key. 
See <a href="#Viper-Specials">Viper Specials</a>, for details.

     <br><dt><kbd>Ex commands</kbd><dd><a name="index-g_t_0040kbd_007bEx-args_007d-142"></a><a name="index-g_t_0040kbd_007bEx-n_007d-143"></a><a name="index-g_t_0040kbd_007bEx-pwd_007d-144"></a><a name="index-g_t_0040kbd_007bEx-pre_007d-145"></a>The commands <kbd>:args</kbd>, <kbd>:next</kbd>, <kbd>:pre</kbd> behave
differently.  <kbd>:pwd</kbd> exists to get current directory. 
The commands <kbd>:b</kbd> and <kbd>:B</kbd> switch buffers around.  See <a href="#File-and-Buffer-Handling">File and Buffer Handling</a>, for details. 
There are also the new commands <kbd>:RelatedFile</kbd> and
<kbd>PreviousRelatedFile</kbd> (which abbreviate to <kbd>R</kbd> and <kbd>P</kbd>,
respectively.  See <a href="#Viper-Specials">Viper Specials</a>, for details. 
<a name="index-g_t_0040kbd_007bEx-RelatedFile_007d-146"></a><a name="index-g_t_0040kbd_007bEx-PreviousRelatedFile_007d-147"></a></dl>

   <p>Apart from the new commands, many old commands have been enhanced.  Most
notably, Vi style macros are much more powerful in Viper than in Vi.  See <a href="#Vi-Macros">Vi Macros</a>, for details.

<div class="node">
<p><hr>
<a name="Useful-Packages"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#New-Commands">New Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Improvements-over-Vi">Improvements over Vi</a>

</div>

<h3 class="section">2.10 Useful Packages</h3>

<p>Some Emacs packages are mentioned here as an aid to the new Viper user, to
indicate what Viper is capable of. 
A vast number comes with the standard Emacs distribution, and many more exist
on the net and on the archives.

   <p>This manual also mentions some Emacs features a new user
should know about.  The details of these are found in the GNU Emacs
Manual.

   <p>The features first.  For details, look up the Emacs Manual.

     <dl>
<dt>`<samp><span class="samp">Make</span></samp>'<dd><a name="index-make-148"></a><a name="index-compiling-149"></a>
Makes and Compiles can be done from the editor.  Error messages will be
parsed and you can move to the error lines. 
<br><dt>`<samp><span class="samp">Shell</span></samp>'<dd><a name="index-shell-150"></a><a name="index-interactive-shell-151"></a>You can talk to Shells from inside the editor.  Your entire shell session
can be treated as a file. 
<br><dt>`<samp><span class="samp">Mail</span></samp>'<dd><a name="index-email-152"></a><a name="index-mail-153"></a>Mail can be read from and sent within the editor.  Several sophisticated
packages exist. 
<br><dt>`<samp><span class="samp">Language Sensitive Editing</span></samp>'<dd>Editing modes are written for most computer languages in existence.  By
controlling indentation, they catch punctuation errors. 
</dl>

   <p>The packages, below, represents a drop in the sea of special-purpose
packages that come with standard distribution of Emacs.

     <dl>
<dt>`<samp><span class="samp">Transparent FTP</span></samp>'<dd><a name="index-transparent-ftp-154"></a><a name="index-ange_002dftp_002eel-155"></a><code>ange-ftp.el</code> can ftp from the editor to files on other machines
transparent to the user. 
<br><dt>`<samp><span class="samp">RCS Interfaces</span></samp>'<dd><a name="index-version-maintenance-156"></a><a name="index-RCS-157"></a><a name="index-vc_002eel-158"></a><code>vc.el</code> for doing RCS commands from inside the editor
<br><dt>`<samp><span class="samp">Directory Editor</span></samp>'<dd><a name="index-dired-159"></a><a name="index-dired_002eel-160"></a><code>dired.el</code> for editing contents of directories and for navigating in
the file system. 
<br><dt>`<samp><span class="samp">Syntactic Highlighting</span></samp>'<dd><a name="index-font_002dlock-161"></a><a name="index-font_002dlock_002eel-162"></a><code>font-lock.el</code> for automatic highlighting various parts of a buffer
using different fonts and colors. 
<br><dt>`<samp><span class="samp">Saving Emacs Configuration</span></samp>'<dd><a name="index-desktop-163"></a><a name="index-desktop_002eel-164"></a><code>desktop.el</code> for saving/restoring configuration on Emacs exit/startup. 
<br><dt>`<samp><span class="samp">Spell Checker</span></samp>'<dd><a name="index-ispell-165"></a><a name="index-ispell_002eel-166"></a><code>ispell.el</code> for spell checking the buffer, words, regions, etc. 
<br><dt>`<samp><span class="samp">File and Buffer Comparison</span></samp>'<dd><a name="index-ediff-167"></a><a name="index-ediff_002eel-168"></a><code>ediff.el</code> for finding differences between files and for applying
patches. 
</dl>

<p class="noindent">Emacs Lisp archives exist on
`<samp><span class="samp">archive.cis.ohio-state.edu</span></samp>'
and `<samp><span class="samp">wuarchive.wustl.edu</span></samp>'

<div class="node">
<p><hr>
<a name="Customization"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commands">Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Improvements-over-Vi">Improvements over Vi</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Customization</h2>

<p><a name="index-customization-169"></a>
Customization can be done in 2 ways.

     <ul>
<li><a name="index-initialization-170"></a><a name="index-g_t_002eviper-171"></a>Elisp code in a <samp><span class="file">~/.emacs.d/viper</span></samp> (or <samp><span class="file">~/.viper</span></samp>) file. 
Viper loads this file just before it does the binding for mode hooks. 
This is recommended for experts only. 
<li><a name="index-g_t_002eemacs-172"></a>Elisp code in your <samp><span class="file">.emacs</span></samp> file before and after the <code>(require
'viper)</code> line.  This method is <em>not</em> recommended, unless you know what
you are doing.  Only two variables, <code>viper-mode</code> and
<code>viper-custom-file-name</code>, are supposed to be customized in <samp><span class="file">.emacs</span></samp>,
prior to loading Viper (i.e., prior to <code>(require 'viper)</code> command. 
<li><a name="index-Ex-customize-173"></a>By executing the <kbd>:customize</kbd> Ex command. This takes you to the Emacs
customization widget, which lets you change the values of Viper
customizable variables easily. This method is good for novice and
experts alike. The customization code in the form of Lisp commands will be
placed in <samp><span class="file">~/.emacs</span></samp> or some other customization file depending on the
version of Emacs that you use.  Still, it is recommended to separate
Viper-related customization produced by the Emacs customization widget
and keep it in your Viper customization file.

     <p>Some advanced customization cannot be accomplished this way, however, and
has to be done in Emacs Lisp in your Viper customization file.  For the common
cases, examples are provided that you can use directly. 
</ul>

<ul class="menu">
<li><a accesskey="1" href="#Rudimentary-Changes">Rudimentary Changes</a>:           Simple constant definitions. 
<li><a accesskey="2" href="#Key-Bindings">Key Bindings</a>:                  Enabling Emacs Keys, Rebinding keys, etc. 
<li><a accesskey="3" href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a>:  How to deal with such beasts. 
<li><a accesskey="4" href="#Viper-Specials">Viper Specials</a>:                Special Viper commands. 
<li><a accesskey="5" href="#Vi-Macros">Vi Macros</a>:                     How to do Vi style macros. 
</ul>

<div class="node">
<p><hr>
<a name="Rudimentary-Changes"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Key-Bindings">Key Bindings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">3.1 Rudimentary Changes</h3>

<p><a name="index-setting-variables-174"></a><a name="index-variables-for-customization-175"></a><a name="index-g_t_0040kbd_007bEx-set_007d-176"></a>
An easy way to customize Viper is to change the values of constants used in
Viper.  Here is the list of the constants used in Viper and their default
values.  The corresponding :se command is also indicated.  (The symbols
<code>t</code> and <code>nil</code> represent &ldquo;true&rdquo; and &ldquo;false&rdquo; in Lisp).

   <p>Viper supports both the abbreviated Vi variable names and their full
names.  Variable completion is done on full names only.  &lt;TAB&gt; and
&lt;SPC&gt; complete
variable names.  Typing <kbd>=</kbd> will complete the name and then will prompt for
a value, if applicable.  For instance, <kbd>:se au &lt;SPC&gt;</kbd> will complete the
command to <kbd>:set autoindent</kbd>; <kbd>:se ta &lt;SPC&gt;</kbd> will complete the command
and prompt further like this: <kbd>:set tabstop = </kbd>. 
However, typing <kbd>:se ts &lt;SPC&gt;</kbd> will produce a &ldquo;No match&rdquo; message
because <kbd>ts</kbd> is an abbreviation for <kbd>tabstop</kbd> and Viper supports
completion on full names only.  However, you can still hit &lt;RET&gt;
or <kbd>=</kbd>, which will complete the command like this: <kbd>:set ts = </kbd> and
Viper will be waiting for you to type a value for the tabstop variable. 
To get the full list of Vi variables, type <kbd>:se &lt;SPC&gt; &lt;TAB&gt;</kbd>.

     <dl>
<dt><code>viper-auto-indent nil</code><dt><code>:se ai (:se autoindent)</code><dt><code>:se ai-g (:se autoindent-global)</code><dd>If <code>t</code>, enable auto indentation. 
by &lt;RET&gt;, <kbd>o</kbd> or <kbd>O</kbd> command.

     <p><code>viper-auto-indent</code> is a local variable.  To change the value globally, use
<code>setq-default</code>.  It may be useful for certain major modes to have their
own values of <code>viper-auto-indent</code>.  This can be achieved by using
<code>setq</code> to change the local value of this variable in the hooks to the
appropriate major modes.

     <p><kbd>:se ai</kbd> changes the value of <code>viper-auto-indent</code> in the current
buffer only; <kbd>:se ai-g</kbd> does the same globally. 
<br><dt><code>viper-electric-mode t</code><dd>If not <code>nil</code>, auto-indentation becomes electric, which means that
&lt;RET&gt;, <kbd>O</kbd>, and <kbd>o</kbd> indent cursor according to the current
major mode.  In the future, this variable may control additional electric
features.

     <p>This is a local variable: <code>setq</code> changes the value of this variable
in the current buffer only.  Use <code>setq-default</code> to change the value in
all buffers. 
<br><dt><code>viper-case-fold-search nil</code><dt><code>:se ic (:se ignorecase)</code><dd>If not <code>nil</code>, search ignores cases. 
This can also be toggled by quickly hitting <kbd>/</kbd> twice. 
<br><dt><code>viper-re-search nil</code><dt><code>:se magic</code><dd>If not <code>nil</code>, search will use regular expressions; if <code>nil</code> then
use vanilla search. 
This behavior can also be toggled by quickly hitting <kbd>/</kbd> trice. 
<br><dt><code>buffer-read-only</code><dt><code>:se ro (:se readonly)</code><dd>Set current buffer to read only.  To change globally put
<code>(setq-default buffer-read-only t)</code> in your <samp><span class="file">.emacs</span></samp> file. 
<br><dt><code>blink-matching-paren t</code><dt><code>:se sm (:se showmatch)</code><dd>Show matching parens by blinking cursor. 
<br><dt><code>tab-width t (default setting via setq-default)</code><dt><code>:se ts=value (:se tabstop=value)</code><dt><code>:se ts-g=value (:se tabstop-global=value)</code><dd><code>tab-width</code> is a local variable that controls the width of the tab stops. 
To change the value globally, use <code>setq-default</code>; for local settings,
use <code>setq</code>.

     <p>The command <kbd>:se ts</kbd>
sets the tab width in the current
buffer only; it has no effect on other buffers.

     <p>The command <kbd>:se ts-g</kbd> sets tab width globally,
for all buffers where the tab is not yet set locally,
including the new buffers.

     <p>Note that typing &lt;TAB&gt; normally
doesn't insert the tab, since this key is usually bound to
a text-formatting function, <code>indent-for-tab-command</code> (which facilitates
programming and document writing).  Instead, the tab is inserted via the
command <code>viper-insert-tab</code>, which is bound to <kbd>S-tab</kbd> (shift + tab).

     <p>On some non-windowing terminals, Shift doesn't modify the &lt;TAB&gt; key, so
<kbd>S-tab</kbd> behaves as if it were &lt;TAB&gt;.  In such a case, you will have
to bind <code>viper-insert-tab</code> to some other convenient key.

     <br><dt><code>viper-shift-width 8</code><dt><code>:se sw=value  (:se shiftwidth=value)</code><dd>The number of columns shifted by <kbd>&gt;</kbd> and <kbd>&lt;</kbd> commands. 
<br><dt><code>viper-search-wrap-around t</code><dt><code>:se ws (:se wrapscan)</code><dd>If not <code>nil</code>, search wraps around the end/beginning of buffer. 
<br><dt><code>viper-search-scroll-threshold 2</code><dd>If search lands within this many lines of the window top or bottom, the
window will be scrolled up or down by about 1/7-th of its size, to reveal
the context.  If the value is negative, don't scroll. 
<br><dt><code>viper-tags-file-name "TAGS"</code><dd>The name of the file used as the tag table. 
<br><dt><code>viper-re-query-replace nil</code><dd>If not <code>nil</code>, use reg-exp replace in query replace. 
<br><dt><code>viper-want-ctl-h-help nil</code><dd>If not <code>nil</code>, <kbd>C-h</kbd> is bound to <code>help-command</code>;
otherwise, <kbd>C-h</kbd> is bound as usual in Vi. 
<br><dt><code>viper-vi-style-in-minibuffer t</code><dd>If not <code>nil</code>, Viper provides a high degree of compatibility with Vi
insert mode when you type text in the minibuffer; if <code>nil</code>, typing in
the minibuffer feels like plain Emacs. 
<br><dt><code>viper-no-multiple-ESC t</code><dd>If you set this to <code>nil</code>, you can use &lt;ESC&gt; as Meta in Vi state. 
Normally, this is not necessary, since graphical displays have separate
Meta keys (usually on each side of the space bar).  On a dumb terminal, Viper
sets this variable to <code>twice</code>, which is almost like <code>nil</code>, except
that double &lt;ESC&gt; beeps.  This, too, lets &lt;ESC&gt; to be used as a Meta. 
<br><dt><code>viper-fast-keyseq-timeout 200</code><dd>Key sequences separated by this many milliseconds are treated as Vi-style
keyboard macros.  If the key sequence is defined as such a macro, it will be
executed.  Otherwise, it is processed as an ordinary sequence of typed keys.

     <p>Setting this variable too high may slow down your typing.  Setting it too
low may make it hard to type macros quickly enough. 
<br><dt><code>viper-ex-style-motion t</code><dd>Set this to <code>nil</code>, if you want <kbd>l,h</kbd> to cross
lines, etc.  See <a href="#Movement-and-Markers">Movement and Markers</a>, for more info. 
<br><dt><code>viper-ex-style-editing t</code><dd>Set this to <code>nil</code>, if you want
<kbd>C-h</kbd> and &lt;DEL&gt; to not stop
at the beginning of a line in Insert state, &lt;X&gt; and &lt;x&gt; to delete
characters across lines in Vi command state, etc. 
<br><dt><code>viper-ESC-moves-cursor-back t</code><dd>It <code>t</code>, cursor moves back 1 character when switching from insert state to vi
state.  If <code>nil</code>, the cursor stays where it was before the switch. 
<br><dt><code>viper-always t</code><dd><code>t</code> means: leave it to Viper to decide when a buffer must be brought
up in Vi state,
Insert state, or Emacs state.  This heuristics works well in virtually all
cases.  <code>nil</code> means you either has to invoke <code>viper-mode</code> manually
for each buffer (or you can add <code>viper-mode</code> to the appropriate major mode
hooks using <code>viper-load-hook</code>).

     <p>This option must be set in your Viper customization file. 
<br><dt><code>viper-custom-file-name "~/.emacs.d/viper"</code><dd>File used for Viper-specific customization. 
Change this setting, if you want.  Must be set in <samp><span class="file">.emacs</span></samp>
before Viper is loaded.  Note that you
have to set it as a string inside double quotes. 
<br><dt><code>viper-spell-function 'ispell-region</code><dd>Function used by the command <kbd>#c&lt;move&gt;</kbd> to spell. 
<br><dt><code>viper-glob-function</code><dd>The value of this variable is the function symbol used to expand wildcard
symbols. This is platform-dependent. The default tries to set this variable
to work with most shells, MS Windows, OS/2, etc. However, if it
doesn't work the way you expect, you should write your own. 
Use <code>viper-glob-unix-files</code> and <code>viper-glob-mswindows-files</code> in
<samp><span class="file">viper-util.el</span></samp> as examples.

     <p>This feature is used to expand wildcards in the Ex command <kbd>:e</kbd>. 
Note that Viper doesn't support wildcards in the <kbd>:r</kbd> and <kbd>:w</kbd>
commands, because file completion is a better mechanism. 
<a name="index-g_t_0040code_007bviper_002dglob_002dfunction_007d-177"></a>
<br><dt><code>ex-cycle-other-window t</code><dd>If not <code>nil</code>, <kbd>:n</kbd> and <kbd>:b</kbd> will cycle through files in another
window, if one exists. 
<br><dt><code>ex-cycle-through-non-files nil</code><dd><kbd>:n</kbd> does not normally cycle through buffers.  Set this to get
buffers also. 
<br><dt><code>viper-want-emacs-keys-in-insert</code><dd>This is set to <code>nil</code> for user levels 1 and 2 and to <code>t</code> for user
levels 3 and 4.  Users who specify level 5 are allowed to set this variable
as they please (the default for this level is <code>t</code>).  If set to
<code>nil</code>, complete Vi compatibility is provided in Insert state.  This is
really not recommended, as this precludes you from using language-specific
features provided by the major modes. 
<br><dt><code>viper-want-emacs-keys-in-vi</code><dd>This is set to <code>nil</code> for user
level 1 and to <code>t</code> for user levels 2&ndash;4. 
At level 5, users are allowed to set this variable as they please (the
default for this level is <code>t</code>). 
If set to <code>nil</code>, complete Vi compatibility is provided
in Vi command state.  Setting this to <code>nil</code> is really a bad idea,
unless you are a novice, as this precludes the use
of language-specific features provided by the major modes. 
<br><dt><code>viper-keep-point-on-repeat t</code><dd>If not <code>nil</code>, point is not moved when the user repeats the previous
command by typing a period.  This is very useful for doing repeated
changes with the <kbd>.</kbd> key. 
<br><dt><code>viper-repeat-from-history-key 'f12</code><dd>Prefix key used to invoke the macros <kbd>f12 1</kbd> and <kbd>f12 2</kbd> that repeat
the second-last and the third-last destructive command. 
Both these macros are bound (as Viper macros) to
<code>viper-repeat-from-history</code>,
which checks the second key by which it is invoked to see which of the
previous commands to invoke.  Viper binds <kbd>f12 1</kbd> and <kbd>f12 2</kbd> only,
but the user can bind more in his/her Viper customization file. 
See <a href="#Vi-Macros">Vi Macros</a>, for how to do this. 
<br><dt><code>viper-keep-point-on-undo nil</code><dd>If not <code>nil</code>, Viper tries to not move point when undoing commands. 
Instead, it will briefly move the cursor to the place where change has
taken place.  However, if the undone piece of text is not seen in window,
then point will be moved to the place where the change took place. 
Set it to <code>t</code> and see if you like it better. 
<br><dt><code>viper-delete-backwards-in-replace nil</code><dd>If not <code>nil</code>, &lt;DEL&gt; key will delete characters while moving the cursor
backwards.  If <code>nil</code>, the cursor will move backwards without deleting
anything. 
<br><dt><code>viper-replace-overlay-face 'viper-replace-overlay-face</code><dd>On a graphical display, Viper highlights replacement regions instead of
putting a `<samp><span class="samp">$</span></samp>' at the end.  This variable controls the so called
<dfn>face</dfn> used to highlight the region.

     <p>By default, <code>viper-replace-overlay-face</code> underlines the replacement on
monochrome displays and also lays a stipple over them.  On color displays,
replacement regions are highlighted with color.

     <p>If you know something about Emacs faces and don't like how Viper highlights
replacement regions, you can change <code>viper-replace-overlay-face</code> by
specifying a new face.  (Emacs faces are described in the Emacs Lisp
reference.)  On a color display, the following customization method is
usually most effective:
     <pre class="smallexample">          (set-face-foreground viper-replace-overlay-face "DarkSlateBlue")
          (set-face-background viper-replace-overlay-face "yellow")
     </pre>
     <p>For a complete list of colors available to you, evaluate the expression
<code>(x-defined-colors)</code>.  (Type it in the buffer <samp><span class="file">*scratch*</span></samp> and then
hit the <kbd>C-j</kbd> key.

     <br><dt><code>viper-replace-overlay-cursor-color  "Red"</code><dd><a name="index-g_t_0040code_007bviper_002dreplace_002doverlay_002dcursor_002dcolor_007d-178"></a>Cursor color when it is inside the replacement region. 
This has effect only on color displays and only when Emacs runs as an X
application. 
<br><dt><code>viper-insert-state-cursor-color nil</code><dd><a name="index-g_t_0040code_007bviper_002dinsert_002dstate_002dcursor_002dcolor_007d-179"></a>If set to a valid color, this will be the cursor color when Viper is in
insert state. 
<br><dt><code>viper-emacs-state-cursor-color nil</code><dd><a name="index-g_t_0040code_007bviper_002demacs_002dstate_002dcursor_002dcolor_007d-180"></a>If set to a valid color, this will be the cursor color when Viper is in
emacs state. 
<br><dt><code>viper-replace-region-end-delimiter "$"</code><dd>A string used to mark the end of replacement regions.  It is used only on
TTYs or if <code>viper-use-replace-region-delimiters</code> is non-<code>nil</code>. 
<br><dt><code>viper-replace-region-start-delimiter  ""</code><dd>A string used to mark the beginning of replacement regions.  It is used
only on TTYs or if <code>viper-use-replace-region-delimiters</code> is non-<code>nil</code>. 
<br><dt><code>viper-use-replace-region-delimiters</code><dd>If non-<code>nil</code>, Viper will always use <code>viper-replace-region-end-delimiter</code> and
<code>viper-replace-region-start-delimiter</code> to delimit replacement regions,
even on color displays (where this is unnecessary).  By default, this
variable is non-<code>nil</code> only on TTYs or monochrome displays. 
<br><dt><code>viper-allow-multiline-replace-regions t</code><dd>If non-<code>nil</code>, multi-line text replacement regions, such as those produced by
commands <kbd>c55w</kbd>, <kbd>3C</kbd>, etc., will stay around until the user exits
the replacement mode.  In this variable is set to <code>nil</code>, Viper will
emulate the standard Vi behavior, which supports only intra-line
replacement regions (and multi-line replacement regions are deleted). 
<br><dt><code>viper-toggle-key "\C-z"</code><dd>Specifies the key used to switch from Emacs to Vi and back. 
Must be set in your Viper customization file.  This variable can't be
changed interactively after Viper is loaded.

     <p>In Insert state, this key acts as a temporary escape to Vi state, i.e., it
will set Viper up so that the very next command will be executed as if it
were typed in Vi state. 
<br><dt><code>viper-buffer-search-char nil</code><dd>Key used for buffer search.  See <a href="#Viper-Specials">Viper Specials</a>, for details. 
<br><dt><code>viper-surrounding-word-function 'viper-surrounding-word</code><dd>The value of this variable is a function name that is used to determine
what constitutes a word clicked upon by the mouse.  This is used by mouse
search and insert. 
<br><dt><code>viper-search-face 'viper-search-face</code><dd>Variable that controls how search patterns are highlighted when they are
found. 
<br><dt><code>viper-vi-state-hook nil</code><dd>List of parameterless functions to be run just after entering the Vi
command state. 
<br><dt><code>viper-insert-state-hook nil</code><dd>Same for Insert state.  This hook is also run after entering Replace state. 
<br><dt><code>viper-replace-state-hook  nil</code><dd>List of (parameterless) functions called just after entering Replace state
(and after all <code>viper-insert-state-hook</code>). 
<br><dt><code>viper-emacs-state-hook nil</code><dd>List of (parameterless) functions called just after switching from Vi state
to Emacs state. 
<br><dt><code>viper-load-hook nil</code><dd>List of (parameterless) functions called just after loading Viper.  This is
the last chance to do customization before Viper is up and running. 
</dl>
   You can reset some of these constants in Viper with the Ex command <kbd>:set</kbd>
(when so indicated in the table).  Or you
can include a line like this in your Viper customization file:
<pre class="example">     (setq viper-case-fold-search t)
</pre>
   <p><a name="index-g_t_0040code_007bviper_002dauto_002dindent_007d-181"></a><a name="index-g_t_0040code_007bviper_002delectric_002dmode_007d-182"></a><a name="index-g_t_0040code_007bviper_002dcase_002dfold_002dsearch_007d-183"></a><a name="index-g_t_0040code_007bviper_002dre_002dsearch_007d-184"></a><a name="index-g_t_0040code_007bviper_002dshift_002dwidth_007d-185"></a><a name="index-g_t_0040code_007bbuffer_002dread_002donly_007d-186"></a><a name="index-g_t_0040code_007bviper_002dsearch_002dwrap_002daround_007d-187"></a><a name="index-g_t_0040code_007bviper_002dsearch_002dscroll_002dthreshold_007d-188"></a><a name="index-g_t_0040code_007bviper_002dsearch_002dface_007d-189"></a><a name="index-g_t_0040code_007bviper_002dtags_002dfile_002dname_007d-190"></a><a name="index-g_t_0040code_007bviper_002dre_002dquery_002dreplace_007d-191"></a><a name="index-g_t_0040code_007bviper_002dwant_002dctl_002dh_002dhelp_007d-192"></a><a name="index-g_t_0040code_007bviper_002dvi_002dstyle_002din_002dminibuffer_007d-193"></a><a name="index-g_t_0040code_007bviper_002dno_002dmultiple_002dESC_007d-194"></a><a name="index-g_t_0040code_007bviper_002dalways_007d-195"></a><a name="index-g_t_0040code_007bviper_002dfast_002dkeyseq_002dtimeout_007d-196"></a><a name="index-g_t_0040code_007bviper_002dex_002dstyle_002dmotion_007d-197"></a><a name="index-g_t_0040code_007bviper_002dex_002dstyle_002dediting_007d-198"></a><a name="index-g_t_0040code_007bviper_002dESC_002dmoves_002dcursor_002dback_007d-199"></a><a name="index-g_t_0040code_007bviper_002dcustom_002dfile_002dname_007d-200"></a><a name="index-g_t_0040code_007bviper_002dspell_002dfunction_007d-201"></a><a name="index-g_t_0040code_007bex_002dcycle_002dother_002dwindow_007d-202"></a><a name="index-g_t_0040code_007bex_002dcycle_002dthrough_002dnon_002dfiles_007d-203"></a><a name="index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dinsert_007d-204"></a><a name="index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dvi_007d-205"></a><a name="index-g_t_0040code_007bviper_002dkeep_002dpoint_002don_002drepeat_007d-206"></a><a name="index-g_t_0040code_007bviper_002dkeep_002dpoint_002don_002dundo_007d-207"></a><a name="index-g_t_0040code_007bviper_002ddelete_002dbackwards_002din_002dreplace_007d-208"></a><a name="index-g_t_0040code_007bviper_002dreplace_002doverlay_002dface_007d-209"></a><a name="index-g_t_0040code_007bviper_002dreplace_002dregion_002dend_002dsymbol_007d-210"></a><a name="index-g_t_0040code_007bviper_002dreplace_002dregion_002dstart_002dsymbol_007d-211"></a><a name="index-g_t_0040code_007bviper_002dallow_002dmultiline_002dreplace_002dregions_007d-212"></a><a name="index-g_t_0040code_007bviper_002dtoggle_002dkey_007d-213"></a><a name="index-g_t_0040code_007bviper_002dbuffer_002dsearch_002dchar_007d-214"></a><a name="index-g_t_0040code_007bviper_002dsurrounding_002dword_002dfunction_007d-215"></a><a name="index-g_t_0040code_007bviper_002dvi_002dstate_002dhook_007d-216"></a><a name="index-g_t_0040code_007bviper_002dinsert_002dstate_002dhook_007d-217"></a><a name="index-g_t_0040code_007bviper_002dreplace_002dstate_002dhook_007d-218"></a><a name="index-g_t_0040code_007bviper_002demacs_002dstate_002dhook_007d-219"></a>
<div class="node">
<p><hr>
<a name="Key-Bindings"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rudimentary-Changes">Rudimentary Changes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">3.2 Key Bindings</h3>

<p><a name="index-key-bindings-220"></a><a name="index-keymaps-221"></a>
Viper lets you define hot keys, i.e., you can associate keyboard keys
such as F1, Help, PgDn, etc., with Emacs Lisp functions (that may already
exist or that you will write).  Each key has a &ldquo;preferred form&rdquo; in
Emacs.  For instance, the Up key's preferred form is [up], the Help key's
preferred form is [help], and the Undo key has the preferred form [f14]. 
You can find out the preferred form of a key by typing <kbd>M-x
describe-key-briefly</kbd> and then typing the key you want to know about.

   <p>Under the X Window System, every keyboard key emits its preferred form,
so you can just type

<pre class="lisp">     (global-set-key [f11] 'calendar)                        ; L1, Stop
     (global-set-key [f14] 'undo)                            ; L4, Undo
</pre>
   <p class="noindent">to bind L1 (a key that exists on some SUN workstations) so it will invoke
the Emacs Calendar and to bind L4 so it will undo changes. 
However, on a dumb terminal or in an Xterm window, even the standard arrow
keys may
not emit the right signals for Emacs to understand.  To let Emacs know about
those keys, you will have to find out which key sequences they emit
by typing <kbd>C-q</kbd> and then the key (you should switch to Emacs state
first).  Then you can bind those sequences to their preferred forms using
<code>input-decode-map</code> as follows:

<pre class="lisp">     (cond ((string= (getenv "TERM") "xterm")
     (define-key input-decode-map "\e[192z" [f11])    ; L1
     (define-key input-decode-map "\e[195z" [f14])    ; L4, Undo
</pre>
   <p>The above illustrates how to do this for Xterm.  On VT100, you would have to
replace "xterm" with "vt100" and also change the key sequences (the same
key may emit different sequences on different types of terminals).

   <p>The above keys are global, so they are overwritten by the local maps
defined by the major modes and by Viper itself.  Therefore, if you wish to
change a binding set by a major mode or by Viper, read this.

   <p>Viper users who wish to specify their own key bindings should be concerned
only with the following three keymaps:
<code>viper-vi-global-user-map</code> for Vi state commands,
<code>viper-insert-global-user-map</code> for Insert state commands,
and <code>viper-emacs-global-user-map</code> for Emacs state commands (note:
customized bindings for Emacs state made to <code>viper-emacs-global-user-map</code>
are <em>not</em> inherited by Insert state).

   <p>For more information on Viper keymaps, see the header of the file
<samp><span class="file">viper.el</span></samp>. 
If you wish to change a Viper binding, you can use the
<code>define-key</code> command, to modify <code>viper-vi-global-user-map</code>,
<code>viper-insert-global-user-map</code>, and <code>viper-emacs-global-user-map</code>, as
explained below.  Each of these key maps affects the corresponding Viper state. 
The keymap <code>viper-insert-global-user-map</code> also affects Viper's Replace
state.

<p class="noindent">If you want to
bind a key, say <kbd>C-v</kbd>, to the function that scrolls
page down and to make <kbd>0</kbd> display information on the current buffer,
putting this in your Viper customization file will do the trick in Vi state:
<pre class="example">     (define-key viper-vi-global-user-map "\C-v" 'scroll-down)
</pre>
   <p class="noindent">To set a key globally,
<pre class="example">     (define-key viper-emacs-global-user-map "\C-c m" 'smail)
     (define-key viper-vi-global-user-map "0" 'viper-info-on-file)
</pre>
   <p class="noindent">Note, however, that this binding may be overwritten by other keymaps, since
the global keymap has the lowest priority. 
To make sure that nothing will override a binding in Emacs state, you
can write this:
<pre class="example">     (define-key viper-emacs-global-user-map "\C-c m" 'smail)
</pre>
   <p class="noindent">To customize the binding for <kbd>C-h</kbd> in Insert state:
<pre class="example">     (define-key viper-insert-global-user-map "\C-h"
       'my-del-backwards-function)
</pre>
   <p class="noindent">Each Emacs command key calls some Lisp function.  If you have enabled the
Help, (see <a href="#Rudimentary-Changes">Rudimentary Changes</a>) <kbd>C-h k</kbd> will show you the function
for each specific key; <kbd>C-h b</kbd> will show all bindings, and <kbd>C-h m</kbd>
will provide information on the major mode in effect.  If Help is not
enabled, you can still get help in Vi state by prefixing the above commands
with <kbd>\</kbd>, e.g., <kbd>\ C-h k</kbd> (or you can use the Help menu in the
menu bar, if Emacs runs under X).

   <p>Viper users can also change bindings on a per major mode basis.  As with
global bindings, this can be done separately for each of the three main Viper
states.  To this end, Viper provides the function
<code>viper-modify-major-mode</code>. 
<a name="index-g_t_0040code_007bviper_002dmodify_002dmajor_002dmode_007d-222"></a>
To modify keys in Emacs state for <code>my-favorite-major-mode</code>, the user
needs to create a sparse keymap, say, <code>my-fancy-map</code>, bind whatever
keys necessary in that keymap, and put

<pre class="example">     (viper-modify-major-mode 'dired-mode 'emacs-state my-fancy-map)
</pre>
   <p class="noindent">in your Viper customization file.  To do the same in Vi and Insert states, you
should use <code>vi-state</code> and <code>insert-state</code>.  Changes in Insert state
are also in effect in Replace state.  For instance, suppose that the user wants
to use <kbd>dd</kbd> in Vi state under Dired mode to delete files, <kbd>u</kbd> to unmark
files, etc.  The following code in the Viper customization file will then do
the job:

<pre class="example">     (setq my-dired-modifier-map (make-sparse-keymap))
     (define-key my-dired-modifier-map "dd" 'dired-flag-file-deletion)
     (define-key my-dired-modifier-map "u" 'dired-unmark)
     (viper-modify-major-mode 'dired-mode 'vi-state my-dired-modifier-map)
</pre>
   <p>A Vi purist may want to modify Emacs state under Dired mode so that
<kbd>k</kbd>, <kbd>l</kbd>, etc., will move around in directory buffers, as in
Vi.  Although this is not recommended, as these keys are bound to useful
Dired functions, the trick can be accomplished via the following code:

<pre class="example">     (setq my-dired-vi-purist-map (make-sparse-keymap))
     (define-key my-dired-vi-purist-map "k" 'viper-previous-line)
     (define-key my-dired-vi-purist-map "l" 'viper-forward-char)
     (viper-modify-major-mode 'dired-mode
                              'emacs-state my-dired-vi-purist-map)
</pre>
   <p>Yet another way to customize key bindings in a major mode is to edit the
list <code>viper-major-mode-modifier-list</code> using the customization widget. 
<a name="index-g_t_0040code_007bviper_002dmajor_002dmode_002dmodifier_002dlist_007d-223"></a>(This variable is in the Viper-misc customization group.) 
The elements of this list are triples of the form: (major-mode viper-state
keymap), where the keymap contains bindings that are supposed to be active
in the given major mode and the given viper-state.

   <p>Effects similar to key binding changes can be achieved by defining Vi
keyboard macros using the Ex commands <kbd>:map</kbd> and <kbd>:map!</kbd>.  The
difference is that multi-key Vi macros do not override the keys they are
bound to, unless these keys are typed in quick succession.  So, with macros,
one can use the normal keys alongside with the macros.  If per-mode
modifications are needed, the user can try both ways and see which one is
more convenient. 
<a name="index-g_t_0040kbd_007bEx-map_007d-224"></a>See <a href="#Vi-Macros">Vi Macros</a>, for details.

   <p>Note: in major modes that come up in <em>Emacs state</em> by default, the
aforesaid modifications may not take place immediately (but only after the
buffer switches to some other Viper state and then back to Emacs state).  To
avoid this, one should add <code>viper-change-state-to-emacs</code> to an
appropriate hook of that major mode.  (Check the function
<code>viper-set-hooks</code> in <samp><span class="file">viper.el</span></samp> for examples.)  However, if you
did not set <code>viper-always</code> to <code>nil</code>, chances are that you won't
need to perform the above procedure, because Viper will take care of most
useful defaults.

   <p>Finally, Viper has a facility that lets the user define per-buffer
bindings, i.e., bindings that are in effect in some specific buffers
only.  Unlike per-mode bindings described above, per-buffer bindings can be
defined based on considerations other than the major mode.  This is done
via the function <code>viper-add-local-keys</code>, which lets one specify bindings
that should be in effect in the current buffer only and for a specific Viper
state.  For instance,
<pre class="lisp">     (viper-add-local-keys 'vi-state '(("ZZ" . TeX-command-master)
                                      ("ZQ" . viper-save-kill-buffer)))
</pre>
   <p class="noindent">redefines <kbd>ZZ</kbd> to invoke <code>TeX-command-master</code> in <code>vi-state</code>
and <kbd>ZQ</kbd> to save-then-kill the current buffer.  These bindings take
effect only in the buffer where this command is executed.  The typical use
of this function is to execute the above expression from within a function
that is included in a hook to some major mode.  For instance, the above
expression
could be called from a function, <code>my-tex-init</code>, which may be added to
<code>tex-mode-hook</code> as follows:
<pre class="lisp">     (add-hook 'tex-mode-hook 'my-tex-init)
</pre>
   <p class="noindent">When TeX mode starts, the hook is executed and the above Lisp expression is
evaluated.  Then, the bindings for <kbd>ZZ</kbd> and <kbd>ZQ</kbd> are changed in Vi
command mode for all buffers in TeX mode.

   <p>Another useful application is to bind <kbd>ZZ</kbd> to <code>send-mail</code>
in the Mail mode buffers (the specifics of this depend on which mail
package you are using, <code>rmail</code>, <code>mh-e</code>, <code>vm</code>, etc. 
For instance, here is how to do this for <code>mh-e</code>, the Emacs interface
to MH:
<pre class="lisp">     (defun mh-add-vi-keys ()
       "Set up ZZ for MH-e and XMH."
       (viper-add-local-keys 'vi-state '(("ZZ" . mh-send-letter))))
     (add-hook 'mh-letter-mode-hook 'mh-add-vi-keys)
</pre>
   <p>You can also use <code>viper-add-local-keys</code> to set per buffer
bindings in Insert state and Emacs state by passing as a parameter the
symbols <code>insert-state</code> and <code>emacs-state</code>, respectively. 
As with global bindings, customized local bindings done to Emacs state
are not inherited by Insert state.

   <p>On rare occasions, local keys may be added by mistake.  Usually this is done
indirectly, by invoking a major mode that adds local keys (e.g.,
<code>shell-mode</code> redefines &lt;RET&gt;).  In such a case, exiting the wrong
major mode won't rid you from unwanted local keys, since these keys are
local to Viper state and the current buffer, not to the major mode. 
In such situations, the remedy is to type <kbd>M-x viper-zap-local-keys</kbd>.

   <p>So much about Viper-specific bindings. 
See <a href="emacs.html#Customization">Customization</a>, and the Emacs quick reference card for the general info on key
bindings in Emacs.

   <p><a name="index-g_t_0040code_007binput_002ddecode_002dmap_007d-225"></a><a name="index-g_t_0040code_007bfunction_002dkey_002dmap_007d-226"></a><a name="index-g_t_0040code_007bviper_002dvi_002dglobal_002duser_002dmap_007d-227"></a><a name="index-g_t_0040code_007bviper_002dinsert_002dglobal_002duser_002dmap_007d-228"></a><a name="index-g_t_0040code_007bviper_002demacs_002dglobal_002duser_002dmap_007d-229"></a><a name="index-g_t_0040code_007bviper_002dadd_002dlocal_002dkeys_007d-230"></a><a name="index-g_t_0040code_007bviper_002dzap_002dlocal_002dkeys_007d-231"></a>
<div class="node">
<p><hr>
<a name="Packages-that-Change-Keymaps"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Viper-Specials">Viper Specials</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Key-Bindings">Key Bindings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">3.3 Packages that Change Keymaps</h3>

<p><a name="index-C_002dc-and-Viper-232"></a><a name="index-Viper-and-C_002dc-233"></a>
Viper is designed to coexist with all major and minor modes of Emacs.  This
means that bindings set by those modes are generally available with Viper
(unless you explicitly prohibit them by setting
<code>viper-want-emacs-keys-in-vi</code> and <code>viper-want-emacs-keys-in-insert</code> to
<code>nil</code>). 
If <code>viper-always</code> is set to <code>t</code> (which is the default), Viper
will try to bring each buffer
in the Viper state that is most appropriate for that buffer. 
Usually, this would be the Vi state, but sometimes it could be the Insert
state or the Emacs state.

   <p>Some major mode bindings will necessarily be overwritten by Viper.  Indeed, in
Vi state, most of the 1-character keys are used for Vi-style editing.  This
usually causes no problems because most packages designed for editing files
typically do not bind such keys.  Instead, they use key sequences that start
with <kbd>C-x</kbd> and <kbd>C-c</kbd>.  This is why it was so important for us to
free up <kbd>C-x</kbd> and <kbd>C-c</kbd>. 
It is common for language-specific major modes to bind &lt;TAB&gt; and
<kbd>C-j</kbd> (the line feed) keys to various formatting functions.  This is
extremely useful, but may require some getting used to for a Vi user.  If you
decide that this feature is not for you, you can re-bind these keys as
explained earlier (see <a href="#Customization">Customization</a>).

   <p>Binding for &lt;TAB&gt; is one of the most unusual aspects of Viper for many
novice users.  In Emacs, &lt;TAB&gt; is used to format text and programs, and
is extremely useful.  For instance, hitting &lt;TAB&gt; causes the current
line to be re-indented in accordance with the context.  In programming,
this is very important, since improper automatic indentation would
immediately alert the programmer to a possible error.  For instance, if a
<kbd>)</kbd> or a <kbd>"</kbd> is missing somewhere above the current
line, &lt;TAB&gt; is likely to mis-indent the line.

   <p>For this reason, Viper doesn't change the standard Emacs binding of
&lt;TAB&gt;, thereby sacrificing Vi compatibility
(except for users at level 1).  Instead, in Viper, the key
<kbd>S-tab</kbd> (shift+ tab) is chosen to emulate Vi's &lt;TAB&gt;.

   <p>We should note that on some non-windowing terminals, Shift doesn't modify
the &lt;TAB&gt; key, so <kbd>S-tab</kbd> behaves as if it were &lt;TAB&gt;.  In such
a case, you will have to bind <code>viper-insert-tab</code> to some other
convenient key.

   <p>Some packages, notably Dired, Gnus, Info, etc., attach special meaning to
common keys like &lt;SPC&gt;, <kbd>x</kbd>, <kbd>d</kbd>, <kbd>v</kbd>, and others.  This
means that Vi command state is inappropriate for working with these
packages.  Fortunately, these modes operate on read-only buffers and are
designed not for editing files, but for special-purpose browsing, reading
news, mail, etc., and Vi commands are meaningless in these situations.  For
this reason, Viper doesn't force Vi state on such major modes&mdash;it
brings them in Emacs state.  You can switch to Vi state by typing <kbd>C-z</kbd>
if, for instance, you want to do Vi-style search in a buffer (although,
usually, incremental search, which is bound to <kbd>C-s</kbd>, is sufficient in
these situations).  But you should then switch back to Emacs state if you
plan to continue using these major modes productively.  You can also switch
to Vi temporarily, to execute just one command.  This is done by typing
<kbd>C-c \</kbd>.  (In some of these modes, <kbd>/</kbd> and <kbd>:</kbd> are bound
Vi-style, unless these keys perform essential duties.)

   <p>If you would like certain major modes to come up in Emacs state rather than
Vi state (but Viper thinks otherwise), you should put these major modes
on the <code>viper-emacs-state-mode-list</code> list and delete them from
<code>viper-vi-state-mode-list</code>. 
Likewise, you can force Viper's Insert state on a major mode by putting it
in <code>viper-insert-state-mode-list</code>. 
<a name="index-g_t_0040code_007bviper_002demacs_002dstate_002dmode_002dlist_007d-234"></a><a name="index-g_t_0040code_007bviper_002dinsert_002dstate_002dmode_002dlist_007d-235"></a><a name="index-g_t_0040code_007bviper_002dvi_002dstate_002dmode_002dlist_007d-236"></a>
It is also possible to impose Vi on some major modes, even though they may
bind common keys to specialized commands.  This might make sense for modes
that bind only a small number of common keys.  For instance, Viper subverts
the Shell mode by changing the bindings for <kbd>C-m</kbd> and <kbd>C-d</kbd> using
<code>viper-add-local-keys</code> described in the section on customization
(see <a href="#Customization">Customization</a>).

   <p>In some cases, some <em>minor</em> modes might override certain essential
bindings in Vi command state.  This is not a big problem because this
can happen only in the beginning, when the minor mode kicks in.  Typing
<code>M-x viper-mode</code> will correct the situation.  Viper knows about
several such minor modes and takes care of them, so the above trick
is usually not necessary.  If you find that some minor mode, e.g.,
<code>nasty-mode</code> interferes with Viper, putting the following in
your Viper customization file should fix the problem:
<pre class="lisp">     (viper-harness-minor-mode "nasty-mode")
</pre>
   <p class="noindent">The argument to <code>viper-harness-minor-mode</code> is the name of the file for the
offending minor mode with the suffixes <samp><span class="file">.el</span></samp> and <samp><span class="file">.elc</span></samp> removed.

   <p>It may not be always obvious which minor mode is at fault.  The only
guidance here is to look into the file that defines the minor mode you are
suspecting, say <samp><span class="file">nasty-mode.el</span></samp>, and see if it has a variable called
<code>nasty-mode-map</code>.  Then check if there is a statement of the form
<pre class="lisp">     (define-key nasty-mode-map key function)
</pre>
   <p class="noindent">that binds the misbehaving
keys.  If so, use the above line to harness <code>nasty-mode</code>.  If your
suspicion is wrong, no harm is done if you harness a minor mode that
doesn't need to be harnessed.

   <p>It is recommended to harness even those minor modes that don't override
Viper keys, but still have their own keymaps. A general way to
make a minor mode, <code>my-mode</code>,
compatible with Viper is to have the file <samp><span class="file">my-mode.el</span></samp> include the following code:

<pre class="lisp">     (when (fboundp 'viper-harness-minor-mode)
       (let ((lib (file-name-sans-extension
                    (file-name-nondirectory load-file-name))))
         (viper-harness-minor-mode lib)))
</pre>
   <p><a name="index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dvi_007d-237"></a><a name="index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dinsert_007d-238"></a><a name="index-g_t_0040code_007bviper_002dalways_007d-239"></a><a name="index-g_t_0040code_007bviper_002dset_002dhooks_007d-240"></a><a name="index-g_t_0040code_007bviper_002dmode_007d-241"></a><a name="index-g_t_0040code_007bviper_002dharness_002dminor_002dmode_007d-242"></a><a name="index-g_t_0040code_007bremove_002dhook_007d-243"></a><a name="index-g_t_0040code_007badd_002dhook_007d-244"></a>
<div class="node">
<p><hr>
<a name="Viper-Specials"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Vi-Macros">Vi Macros</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">3.4 Viper Specials</h3>

<p>Viper extends Vi with a number of useful features.  This includes various
search functions, histories of search strings, Ex commands, insertions, and
Vi's destructive commands.  In addition, Viper supports file name completion
and history, completion of Ex commands and variables, and many other
features.  Some of these features are explained in detail elsewhere in this
document.  Other features are explained here.

     <dl>
<dt><code>(viper-buffer-search-enable)</code><br><dt><code>viper-buffer-search-char nil</code><dd>Enable buffer search.  Explicit call to <code>viper-buffer-search-enable</code>
sets <code>viper-buffer-search-char</code> to <kbd>g</kbd>.  Alternatively, the user can
set <code>viper-buffer-search-char</code> in his/her Viper customization file to a key
sequence to be used for buffer search.  There is no need to call
<code>viper-buffer-search-enable</code> in that case. 
<a name="index-g_t_0040code_007bviper_002dbuffer_002dsearch_002denable_007d-245"></a><a name="index-g_t_0040code_007bviper_002dbuffer_002dsearch_002dchar_007d-246"></a><br><dt><code>viper-toggle-search-style</code><dd>This function, bound to <kbd>C-c /</kbd>, lets one toggle case-sensitive and
case-insensitive search, and also switch between plain vanilla search and
search via regular expressions.  Without the prefix argument, the user is
asked which mode to toggle.  With prefix argument 1, this toggles
case-sensitivity.  With prefix argument 2, regular expression/vanilla search
will be toggled.

     <p>However, we found that the most convenient way to toggle
these options is to bind a Vi macro to
bind <kbd>//</kbd> to toggles case sensitivity and to <kbd>///</kbd> to toggles
vanilla search.  Thus, quickly hitting <kbd>/</kbd> twice will switch Viper from
case sensitive search to case-insensitive.  Repeating this once again will
restore the original state.  Likewise, quickly hitting <kbd>/</kbd> three times
will switch you from vanilla-style search to search via regular expressions. 
If you hit something other than <kbd>/</kbd> after the first <kbd>/</kbd> or if the
second <kbd>/</kbd> doesn't follow quickly enough, then Viper will issue the
usual prompt <kbd>/</kbd> and will wait for input, as usual in Vi. 
If you don't like this behavior, you can &ldquo;unrecord&rdquo; these macros in your
Viper customization file.  For instance, if you don't like the above
feature, put this in the file:
     <pre class="example">          (viper-set-searchstyle-toggling-macros 'undefine)
     </pre>
     <p><a name="index-g_t_0040code_007bviper_002dset_002dsearchstyle_002dtoggling_002dmacros_007d-247"></a>
If you don't like this feature as a default, but would still like to have
it in some major modes, you can do so by first unsetting it globally, as
shown above, and then setting it in the desired major modes as follows:
     <pre class="example">          (viper-set-searchstyle-toggling-macros nil 'c-mode)
          (viper-set-searchstyle-toggling-macros nil 'lisp-mode)
     </pre>
     <br><dt><code>Vi-isms in Emacs state</code><dd>Some people find it useful to use the Vi-style search key, <kbd>/</kbd>, to invoke
search in modes which Viper leaves in emacs-state.  These modes are:
<code>dired-mode</code>, <code>mh-folder-mode</code>,
<code>Info-mode</code>, and <code>Buffer-menu-mode</code>
(more may be added in the future).  So, in the above modes, Viper binds <kbd>/</kbd>
so that it will behave Vi-style.  Furthermore, in those major modes, Viper
binds <kbd>:</kbd> to invoke ex-style commands, like in vi-state.  And, as described
above, <kbd>//</kbd> and <kbd>///</kbd> get bound to Vi-style macros that toggle
case-insensitivity and regexp-search.

     <p>If you don't like these features&mdash;which I don't really understand&mdash;you
can unbind <kbd>/</kbd> and <kbd>:</kbd> in <code>viper-dired-modifier-map</code> (for
Dired) or in <code>viper-slash-and-colon-map</code>, for other modes. 
<a name="index-g_t_0040code_007bviper_002dslash_002dand_002dcolon_002dmap_007d-248"></a><a name="index-g_t_0040code_007bviper_002ddired_002dmodifier_002dmap_007d-249"></a>
To unbind the macros <kbd>//</kbd> and <kbd>///</kbd> for a major mode where you
feel they
are undesirable, execute <code>viper-set-emacs-state-searchstyle-macros</code> with a
non-<code>nil</code> argument.  This can be done either interactively, by supplying a
prefix argument, or by placing
     <pre class="example">          (viper-set-emacs-state-searchstyle-macros 'undefine)
     </pre>
     <p><a name="index-g_t_0040code_007bviper_002dset_002demacs_002dstate_002dsearchstyle_002dmacros_007d-250"></a>in the hook to the major mode (e.g., <code>dired-mode-hook</code>). 
See <a href="#Vi-Macros">Vi Macros</a>, for more information on Vi macros.

     <br><dt><code>viper-heading-start</code><br><dt><code>viper-heading-end</code><dd><a name="index-headings-251"></a><a name="index-sections-252"></a><a name="index-paragraphs-253"></a><a name="index-sentences-254"></a>Regular Expressions for <kbd>[[</kbd> and <kbd>]]</kbd>.  Note that Emacs defines
Regexps for paragraphs and sentences.  See <a href="emacs.html#Paragraphs">Paragraphs and Sentences</a>, for details. 
<br><dt><code>M-x viper-set-expert-level</code><dd><a name="index-g_t_0040code_007bviper_002dset_002dexpert_002dlevel_007d-255"></a>Change your user level interactively. 
<br><dt><code>viper-smart-suffix-list  '("" "tex" "c" "cc" "el" "p")</code><dd><a name="index-g_t_0040code_007bviper_002dsmart_002dsuffix_002dlist_007d-256"></a>Viper supports Emacs-style file completion when it prompts the user for a
file name.  However, in many cases, the same directory may contain files
with identical prefix but different suffixes, e.g., prog.c, prog.o,
paper.tex, paper.dvi.  In such cases, completion will stop at the period. 
If the above variable is a list of strings representing suffixes, Viper will
try these suffixes
in the order listed and will check if the corresponding file exists.

     <p>For instance, if completion stopped at `<samp><span class="samp">paper.</span></samp>' and the user
typed &lt;RET&gt;, then Viper will check if the files <samp><span class="file">paper.</span></samp>,
<samp><span class="file">paper.tex</span></samp>, <samp><span class="file">paper.c</span></samp>, etc., exist. 
It will take the first such file.  If no file exists, Viper will give a chance
to complete the file name by typing the appropriate suffix. 
If <samp><span class="file">paper.</span></samp> was
the intended file name, hitting return will accept it.

     <p>To turn this feature off, set the above variable to <code>nil</code>.

     <br><dt><code>viper-insertion-ring-size  14</code><dd><a name="index-g_t_0040code_007bviper_002dinsertion_002dring_002dsize_007d-257"></a><a name="index-Insertion-ring-258"></a>Viper remembers what was previously inserted in Insert and Replace states. 
Several such recent insertions are kept in a special ring of strings of size
<code>viper-insertion-ring-size</code>. 
If you enter Insert or Replace state you can reinsert strings from this
ring by typing <kbd>C-c M-p</kbd> or <kbd>C-c M-n</kbd>.  The former will search the
ring in
the direction of older insertions, and the latter will search in
the direction of newer insertions.  Hitting <kbd>C-c M-p</kbd> or <kbd>C-c M-n</kbd>
in succession
will undo the previous insertion from the ring and insert the next item on
the ring.  If a larger ring size is needed, change the value of the above
variable in the Viper customization file.

     <p>Since typing these sequences of keys may be tedious, it is suggested that the
user should bind a function key, such as <kbd>f31</kbd>, as follows:
     <pre class="example">          (define-key viper-insert-global-user-map [f31]
                      'viper-insert-prev-from-insertion-ring)
     </pre>
     <p>This binds <kbd>f31</kbd> (which is usually <kbd>R11</kbd> on a Sun workstation)
to the function that inserts the previous string in the insertion history. 
To rotate the history in the opposite
direction, you can either bind an unused key to
<code>viper-insert-next-from-insertion-ring</code> or hit any digit (1 to 9) then
<kbd>f31</kbd>.

     <p>One should not bind the above functions to <kbd>M-p</kbd> or <kbd>M-n</kbd>, since
this will interfere with the minibuffer histories and, possibly, other
major modes.

     <br><dt><code>viper-command-ring-size  14</code><dd><a name="index-g_t_0040code_007bviper_002dcommand_002dring_002dsize_007d-259"></a><a name="index-Destructive-command-ring-260"></a><a name="index-Destructive-command-history-261"></a>Viper keeps track of the recent history of destructive
commands, such as <kbd>dw</kbd>, <kbd>i</kbd>, etc. 
In Vi state,
the most recent command can be re-executed by hitting a period, as in Vi. 
However, repeated typing <kbd>C-c M-p</kbd> will cause Viper to show the
previous destructive commands in the minibuffer.  Subsequent hitting period
will execute the command that was displayed last. 
The key <kbd>C-c M-n</kbd> will cycle through the command history in the
opposite direction. 
Since typing <kbd>C-c M-p</kbd> may be tedious, it is more convenient to bind an
appropriate function to an unused function key on the keyboard and use that
key.  For instance, the following
     <pre class="example">          (define-key viper-vi-global-user-map [f31]
                      'viper-prev-destructive-command)
     </pre>
     <p>binds the key <kbd>f31</kbd> (which is usually <kbd>R11</kbd> on a Sun workstation)
to the function that searches the command history in the direction of older
commands.  To search in the opposite
direction, you can either bind an unused key to
<code>viper-next-destructive-command</code> or hit any digit (1 to 9) then <kbd>f31</kbd>.

     <p>One should not bind the above functions to <kbd>M-p</kbd> or <kbd>M-n</kbd>, since
this will interfere with the minibuffer histories and, possibly, other
major modes.

     <br><dt><code>viper-minibuffer-vi-face  'viper-minibuffer-vi-face</code><br><dt><code>viper-minibuffer-insert-face  'viper-minibuffer-insert-face</code><br><dt><code>viper-minibuffer-emacs-face  'viper-minibuffer-emacs-face</code><dd>These faces control the appearance of the minibuffer text in the
corresponding Viper states.  You can change the appearance of these faces
through Emacs's customization widget, which is accessible through the
menubar.

     <p>Viper is located in this widget under the <em>Emulations</em> customization
subgroup of the <em>Editing</em> group.  All Viper faces are grouped together
in Viper's <em>Highlighting</em> customization subgroup.

     <p>Note that only the text you type in is affected by the above faces. 
Prompts and minibuffer messages are not affected.

     <p>Purists who do not like adornments in the minibuffer can always zap them by
putting
     <pre class="example">          (copy-face 'default 'viper-minibuffer-vi-face)
          (copy-face 'default 'viper-minibuffer-insert-face)
          (copy-face 'default 'viper-minibuffer-emacs-face)
     </pre>
     <p>in their Viper customization file or through the customization widget, as
described above.  However, in that case, the user will not have any
indication of the current Viper state in the minibuffer.  (This is important
if the user accidentally switches to another Viper state by typing &lt;ESC&gt; or
<kbd>C-z</kbd>). 
<br><dt><code>M-x viper-go-away</code><dd><a name="index-g_t_0040code_007bviper_002dgo_002daway_007d-262"></a>Make Viper disappear from the face of your running Emacs instance.  If your
fingers start aching again, <kbd>M-x viper-mode</kbd> might save your day. 
<br><dt><code>M-x toggle-viper-mode</code><dd><a name="index-g_t_0040code_007btoggle_002dviper_002dmode_007d-263"></a>Toggle Viperization of Emacs on and off. 
</dl>

   <p><a name="index-Multifile-documents-and-programs-264"></a>
Viper provides some support for multi-file documents and programs. 
If a document consists of several files we can designate one of them as a
master and put the following at the end of that file:
<pre class="lisp">     ;; Local Variables:
     ;; eval: (viper-setup-master-buffer "file1" "file2" "file3" "file4")
     ;; End:
</pre>
   <p class="noindent">where <code>file1</code> to <code>file4</code> are names of files related to the master
file.  Next time, when the master file is visited, the command
<code>viper-setup-master-buffer</code> will be evaluated and the above files will
be associated with the master file.  Then, the new Ex command
<kbd>:RelatedFile</kbd> (abbr. <kbd>:R</kbd>) will display files 1 to 4 one after
another, so you can edit them.  If a file is not in any Emacs buffer, it
will be visited.  The command <kbd>PreviousRelatedFile</kbd> (abbr., <kbd>:P</kbd>)
goes through the file list in the opposite direction. 
<a name="index-g_t_0040kbd_007bEx-RelatedFile_007d-265"></a><a name="index-g_t_0040kbd_007bEx-PreviousRelatedFile_007d-266"></a>
These commands are akin to <kbd>:n</kbd> and <kbd>:N</kbd>, but they allow the user to
focus on relevant files only.

   <p>Note that only the master file needs to have the aforementioned block of
commands.  Also, ";;" above can be replaced by some other
markers.  Semicolon is good for Lisp programs, since it is considered a
comment designator there.  For LaTeX, this could be "%%%", and for C the
above block should be commented out.

   <p>Even though these commands are sometimes useful, they are no substitute for
the powerful <em>tag table</em> facility of Emacs.  Viper's <kbd>:tag</kbd> command
in a primitive interface to Emacs tags.  See <a href="emacs.html#Tags">Tags</a>, for more information on tags.

   <p>The following two commands are normally bound to a mouse click and are part
of Viper.  They work only if Emacs runs as an application under X
Windows (or under some other window system for which a port of GNU Emacs 20
is available).  Clicking the mouse when Emacs is invoked in an Xterm window
(using <code>emacs -nw</code>) will do no good.

     
<a name="index-mouse-267"></a>
<a name="index-mouse_002dsearch-268"></a>
<dl><dt><code>viper-mouse-search-key  (meta shift 1)</code><dd><a name="index-g_t_0040code_007bviper_002dmouse_002dinsert_002dkey_007d-269"></a>This variable controls the <em>mouse-search</em> feature of Viper.  The
default value
states that holding Meta and Shift keys while clicking mouse button 1
should initiate search for a region under the mouse pointer (defined
below).  This command can take a prefix argument, which indicates the
occurrence of the pattern to search for.

     <p>Note: while loading initially, Viper binds this mouse action only if it is
not already bound to something else.  If you want to use the mouse-search
feature, and the <kbd>Meta-Shift-Mouse-1</kbd> mouse action is already bound to
something else, you can rebind the mouse-search feature by setting
<code>viper-mouse-search-key</code> to something else in
your Viper customization file:
     <pre class="lisp">          (setq viper-mouse-search-key '(meta 1))
     </pre>
     <p>This would bind mouse search to the action invoked by pressing the
Meta key and clicking mouse button 1.  The allowed values of
<code>viper-mouse-search-key</code> are lists that contain a mouse-button number
(1,2, or 3) and any combination of the words &ldquo;control&rdquo;, &ldquo;meta&rdquo;, and
&ldquo;shift&rdquo;.

     <p>If the requested mouse action (e.g., (meta 1)) is already taken for other
purposes then you have to confirm your intention by placing the following
command in your Viper customization file after setting
<code>viper-mouse-search-key</code>:
     <pre class="lisp">          (viper-bind-mouse-search-key 'force)
     </pre>
     <p>You can also change this setting interactively, through the customization
widget of Emacs (type <kbd>:customize</kbd>).

     <p>The region that is chosen as a pattern to search for is determined as
follows.  If search is invoked via a single click, Viper chooses the region
that lies between the beginning of the &ldquo;word&rdquo; under the pointer (&ldquo;word&rdquo;
is understood in Vi sense) and the end of that word.  The only difference
with Vi's words is that in Lisp major modes `<samp><span class="samp">-</span></samp>' is considered an
alphanumeric symbol.  This is done for the convenience of working with Lisp
symbols, which often have an `<samp><span class="samp">-</span></samp>' in them.  Also, if you click on a
non-alphanumeric character that is not a word separator (in Vi sense) then
this character will also be considered alphanumeric, provided that it is
adjacent (from either side) to an alphanumeric character.  This useful
feature gives added control over the patterns selected by the mouse click.

     <p>On a double-click, the region is determined by the beginning of the current
Vi's &ldquo;Word&rdquo; (i.e., the largest non-separator chunk of text) and the End
of that &ldquo;Word&rdquo; (as determined by the <kbd>E</kbd> command).

     <p>On a triple-click, the region consists of the entire line where the click
occurred with all leading and trailing spaces and tabs removed.

     <p><a name="index-mouse_002dinsert-270"></a><br><dt><code>viper-mouse-insert-key (meta shift 2)</code><dd><a name="index-g_t_0040code_007bviper_002dmouse_002dinsert_002dkey_007d-271"></a>This variable controls the <em>mouse-insert</em> feature of Viper. 
The above default value states that
holding Meta and Shift keys while clicking mouse button 2
should insert the region surrounding the
mouse pointer.  The rules defining this region are the same as for
mouse-search.  This command takes an optional prefix argument, which
indicates how many such regions to snarf from the buffer and insert.  (In
case of a triple-click, the prefix argument is ignored.)

     <p>Note: while loading initially, Viper binds this mouse action only if it not
already bound to something else.  If you want to use this feature and the
default mouse action is already bound, you can rebind mouse-insert by
placing this command in your Viper customization file:
     <pre class="lisp">          (setq viper-mouse-insert-key '(meta 2))
     </pre>
     <p>If you want to bind mouse-insert to an action even if this action is
already taken for other purposes in Emacs, then you should add this command
to your Viper customization file, after setting <code>viper-mouse-insert-key</code>:
     <pre class="lisp">          (viper-bind-mouse-insert-key 'force)
     </pre>
     <p>This value can also be changed via the Emacs customization widget at the
menubar.

     <br><dt><code>viper-multiclick-timeout</code><dd>This variable controls the rate at which double-clicking must occur for the
purpose of mouse search and mouse insert.  By default, this is set to
<code>double-click-time</code> in Emacs and to
<code>mouse-track-multi-click-time</code> milliseconds in XEmacs. 
</dl>
   <a name="index-g_t_0040kbd_007bS_002dMouse_002d1_007d-272"></a><a name="index-g_t_0040kbd_007bS_002dMouse_002d2_007d-273"></a><a name="index-g_t_0040kbd_007bmeta-shift-button1up_007d-274"></a><a name="index-g_t_0040kbd_007bmeta-shift-button2up_007d-275"></a><a name="index-g_t_0040code_007bviper_002dmulticlick_002dtimeout_007d-276"></a><a name="index-g_t_0040code_007bviper_002dmouse_002dclick_002dinsert_002dword_007d-277"></a><a name="index-g_t_0040code_007bviper_002dmouse_002dclick_002dsearch_002dword_007d-278"></a>
Note: The above functions search and insert in the selected window of
the latest active frame.  This means that you can click in another window or
another frame and have search or insertion done in the frame and window you
just left.  This lets one use these functions in a multi-frame
configuration.  However, this may require some getting used to.  For
instance, if you are typing in a frame, A, and then move the mouse to frame
B and click to invoke mouse search, search (or insertion) will be performed
in frame A.  To perform search/insertion in frame B, you will first have to
shift focus there, which doesn't happen until you type a character or
perform some other action in frame B&mdash;mouse search doesn't shift focus.

   <p>If you decide that you don't like the above feature and always want
search/insertion be performed in the frame where the click occurs, don't
bind (and unbind, if necessary) <code>viper-mouse-catch-frame-switch</code> from
the mouse event it is bound to.

   <p>Mouse search is integrated with Vi-style search, so you can
repeat it with <kbd>n</kbd> and <kbd>N</kbd>.  It should be also noted that, while
case-sensitivity of search in Viper is controlled by the variable
<code>viper-case-fold-search</code>, the case of mouse search is
controlled by the Emacs variable <code>case-fold-search</code>, which may be set
differently from <code>viper-case-fold-search</code>.  Therefore, case-sensitivity
of mouse search may be different from that of the usual Vi-style search.

   <p>Finally, if the way Viper determines the word to be searched for or to be
inserted is not what you want, there is a variable,
<code>viper-surrounding-word-function</code>, which can be changed to indicate
another function for snarfing words out of the buffer.  The catch is that
you will then have to write such a function and make it known to your
Emacs.  The function <code>viper-surrounding-word</code> in <samp><span class="file">viper.el</span></samp> can be
used as a guiding example.

<div class="node">
<p><hr>
<a name="Vi-Macros"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Viper-Specials">Viper Specials</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">3.5 Vi Macros</h3>

<p><a name="index-Vi-macros-279"></a>
Viper supports much enhanced Vi-style macros and also facilitates the use
of Emacs-style macros.  To define a temporary macro, it is generally more
convenient to use Emacs keyboard macro facility.  Emacs keyboard macros are
usually defined anonymously, and the latest macro can be executed by typing
<kbd>C-x e</kbd> (or <kbd>*</kbd>, if Viper is in Vi state).  If you need to use several
temporary macros, Viper lets you save them to a
register (a lowercase letter); such macros can then be executed by typing
<kbd>@a</kbd> in Vi state (if a macro was previously saved in register
<kbd>a</kbd>). 
See <a href="#Macros-and-Registers">Macros and Registers</a>, for details.

   <p>If, however, you need to use a macro regularly, it must be given a
permanent name and saved.  Emacs manual explains how to do this, but
invocation of named Emacs macros is quite different from Vi's.  First,
invocation of permanent Emacs macros takes time because it requires typing
too many keys (to  a Vi user's taste, anyway). 
Second, binding such macros to function keys, for
fast access, hogs valuable real estate on the keyboard.

   <p>Vi-style macros are better in that respect, since Vi lets the user overload
the meaning of key sequences: keys typed in fast succession are treated
specially, if this key sequence is bound to a macro.

   <p>Viper provides Vi-style keyboard macros through the usual Ex commands,
<kbd>:map</kbd> and
<kbd>:map!</kbd>.  These macros are much more powerful in Viper than
they are in the original Vi and in other emulators.  This is because Viper
implements an enhanced vi-style
interface to the powerful Emacs keyboard macro facility.

   <p>First, any Emacs
command can be executed while defining a macro, not just the Vi
commands.  In particular, the user can invoke Emacs commands via <kbd>M-x
command-name</kbd> or by pressing various function keys on the keyboard.  One
can even use the mouse, although this is usually not useful and is not
recommended (and macros defined with the use of the mouse cannot be saved in
command history and in the startup file, for future use).

   <p>Macros defined by mixing Vi and Emacs commands are represented as
vectors.  So, don't be confused when you see one (usually through the
history of Ex commands).  For instance, if <kbd>gg</kbd> is defined by typing
<kbd>l</kbd>, the up-arrow key and <kbd>M-x next-line</kbd>, its definition will look
as follows in Emacs:

<pre class="example">     [l up (meta x) n e x t - l i n e return]
</pre>
   <p>Second, Viper macros are defined in a WYSIWYG style.  This means that
commands are executed as you type them, so you can see precisely what is
being defined.  Third, macros can be bound to arbitrary sequences of keys,
not just to printable keys.  For instance, one can define a macro that will
be invoked by hitting <kbd>f3</kbd> then <kbd>f2</kbd> function keys.  (The keys
<kbd>delete</kbd> and <kbd>backspace</kbd> are excluded; also, a macro invocation
sequence can't start with &lt;ESC&gt;.  Some other keys, such as <kbd>f1</kbd> and
<kbd>help</kbd>, can't be bound to macros under Emacs, since they
are bound in <code>key-translation-map</code>, which overrides any other binding
the user gives to keys.  In general, keys that have a binding in
<code>key-translation-map</code> can't be bound to a macro.)

   <p>Fourth, in Viper, one can define macros that are specific to a given
buffer, a given major mode, or macros that are defined for all buffers.  In
fact, the same macro name can have several different definitions: one
global, several definitions for various major modes, and
definitions for various specific buffers.  Buffer-specific definitions
override mode-specific definitions, which, in turn, override global
definitions.

   <p>As if all that is not enough, Viper (through its interface to Emacs
macros) lets the user define keyboard macros that ask for confirmation or
even prompt the user for input and then continue.  To do this, one should
type <kbd>C-x q</kbd> (for confirmation) or <kbd>C-u C-x q</kbd> (for prompt). 
For details, see <a href="emacs.html#Keyboard-Macro-Query">Customization</a>.

   <p>When the user finishes defining a macro (which is done by typing <kbd>C-x)</kbd>,
a departure from Vi), you will be asked whether you want this
macro to be global, mode-specific, or buffer-specific.  You will also be
given a chance to save the macro in your Viper customization file. 
This is the easiest way to save a macro and make
it permanently available.  If you work your startup files with bare hands,
here is how Viper saves the above macro so that it will be
available in Viper's Insert state (and Replace state) in buffer <code>my-buf</code>
only:

<pre class="example">     (viper-record-kbd-macro "gg" 'insert-state
            [l up (meta x) n e x t - l i n e return]
            "my-buf")
</pre>
   <p class="noindent">To do the same for Vi state and all buffers with the major mode
<code>cc-mode</code>, use:

<pre class="example">     (viper-record-kbd-macro "gg" 'vi-state
            [l up (meta x) n e x t - l i n e return]
            'cc-mode)
</pre>
   <p class="noindent">Both macro names and macro definitions are vectors of symbols that denote
keys on the keyboard.  Some keys, like <kbd>\</kbd>,  , or digit-keys must
be escaped with a backslash.  Modified keys are represented as lists.  For
instance, holding Meta and Control and pressing <kbd>f4</kbd> is represented as
<kbd>(control meta f4)</kbd>. 
If all members of a vectors are printable characters (or sequences, such as
<kbd>\e</kbd>, <kbd>\t</kbd>, for &lt;ESC&gt; and &lt;TAB&gt;), then they can also be represented as
strings:

<pre class="example">     (viper-record-kbd-macro "aa" 'vi-state  "aaa\e"  "my-buffer")
</pre>
   <p class="noindent">Thus, typing <kbd>aa</kbd> fast in Vi state will switch Viper to Insert state
(due to the first <kbd>a</kbd>), insert <kbd>aa</kbd>, and then it will switch back to Vi
state.  All this will take effect only in the buffer named <code>my-buffer</code>.

   <p>Note that the last argument to <code>viper-record-kbd-macro</code> must be either a
string (a buffer name), a symbol representing a major mode, or <code>t</code>;
the latter says that the macro is to be defined for all buffers
(which is how macros are defined in original Vi).

   <p>For convenience, Viper also lets you define Vi-style macros in its Emacs
state.  There is no Ex command, like <kbd>:map</kbd> and <kbd>:map!</kbd> for doing
this, but the user can include such a macro in the Viper customization file. 
The only thing is that the <code>viper-record-kbd-macro</code> command should specify
<code>emacs-state</code> instead of <code>vi-state</code> or <code>insert-state</code>.

   <p>The user can get rid of a macro either by using the Ex commands <kbd>:unmap</kbd>
and <kbd>:unmap!</kbd> or by issuing a call to <code>viper-unrecord-kbd-macro</code>. 
The latter is more powerful, since it can delete macros even in
<code>emacs-state</code>.  However, <code>viper-unrecord-kbd-macro</code> is usually
needed only when the user needs to get rid of the macros that are already
predefined in Viper. 
The syntax is:
<a name="index-g_t_0040code_007bviper_002dunrecord_002dkbd_002dmacro_007d-280"></a>
<pre class="example">     (viper-unrecord-kbd-macro macro state)
</pre>
   <p class="noindent">The second argument must be <code>vi-state</code>, <code>insert-state</code>, or
<code>emacs-state</code>.  The first argument is a name of a macro.  To avoid
mistakes in specifying names of existing macros, type <kbd>M-x
viper-describe-kbd-macros</kbd> and use a name from the list displayed by this
command.

   <p>If an error occurs during macro definition, Emacs
aborts the process, and it must be repeated.  This is analogous to Vi,
except that in Vi the user doesn't know there is an error until the macro is
actually run.  All that means that in order for a definition to be
successful, the user must do some simple planning of the process in
advance, to avoid errors.  For instance, if you want to map <kbd>gg</kbd> to
<kbd>llll</kbd> in Vi state, you must make sure that there is enough room on the
current line.  Since <kbd>l</kbd> moves the cursor forward, it may signal an
error on reaching the end of line, which will abort the definition.

   <p>These precautions are necessary only when defining macros; they will help
avoid the need to redo the job.  When macros are actually run, an error
during the execution will simply terminate the current execution
(but the macro will remain mapped).

   <p>A macro name can be a string of characters or a vector of keys. 
The latter makes it possible to define macros bound to, say, double-hits
on a function key, such as <kbd>up</kbd> or <kbd>f13</kbd>. 
This is very useful if you run out of function keys on your keyboard; it
makes Viper macro facility a <em>keyboard doubler</em>, so to speak.

   <p>Elsewhere (See <a href="#Key-Bindings">Key Bindings</a>, for details), we review
the standard Emacs mechanism for binding function keys to commands. 
For instance,

<pre class="example">     (global-set-key [f13] 'repeat-complex-command)
</pre>
   <p class="noindent">binds the key f13 to the Emacs function that repeats the last minibuffer
command.  Under Viper, however, you may still use this key for additional
purposes, if you bind, say, a double-hitting action for that key to some
other function.  Emacs doesn't allow the user to do that, but Viper does
this through its keyboard macro facility.  To do this, type <kbd>:map </kbd>
first.  When you are asked to enter a macro name, hit f13 twice, followed by
&lt;RET&gt; or &lt;SPC&gt;.

   <p>Emacs will now start the mapping process by actually executing
Vi and Emacs commands, so that you could see what will happen each time the
macro is executed.  Suppose now we wanted to bind the key sequence
<kbd>f13 f13</kbd> to the command <code>eval-last-sexp</code>.  To accomplish this, we
can type <kbd>M-x eval-last-sexp</kbd> followed by <kbd>C-x )</kbd>. 
If you answer positively to Viper's offer to save this macro in your
Viper customization file for future uses, the following will be inserted
in that file:

<pre class="example">     (viper-record-kbd-macro [f16 f16] 'vi-state
              [(meta x) e v a l - l a s t - s e x p]
              'lisp-interaction-mode)
</pre>
   <p>To illustrate the above point, Viper provides two canned macros, which, by
default, are bound to <kbd>[f12 \1]</kbd> and <kbd>[f12 \2]</kbd> (invoked by typing
<kbd>f12</kbd> then <kbd>1</kbd> and <kbd>2</kbd>, respectively).  These macros are useful
shortcuts to Viper's command ring history.  The first macro will execute the
second-last destructive command (the last one is executed by <kbd>.</kbd>, as
usual).  The second macro executes the third-last command.

   <p>If you need to go deeper into the command history, you will have to use
other commands, as described earlier in this section; or you can bind,
say, <kbd>f12 \3</kbd> like this:

<pre class="example">     (viper-record-kbd-macro [f12 \3] 'vi-state
                           [(meta x) r e p e a t - f r o m - h i s t o r y]
                           t)
</pre>
   <p>Note that even though the macro uses the function key <kbd>f12</kbd>, the key is
actually free and can still be bound to some Emacs function via
<code>define-key</code> or <code>global-set-key</code>.

   <p>Viper allows the user to define macro names that are prefixes of other macros. 
For instance, one can define <kbd>[[</kbd> and <kbd>[[[[</kbd> to be macros. 
If you type the exact sequence of such keys and then pause, Viper will
execute the right macro.  However, if you don't pause and, say, type
<kbd>[[[[text</kbd> then the conflict is resolved as follows.  If only one of the
key sequences, <kbd>[[</kbd> or <kbd>[[[[</kbd> has a definition applicable to the
current buffer, then, in fact, there is no conflict and the right macro
will be chosen.  If both have applicable definitions, then the first one
found will be executed.  Usually this is the macro with a shorter name.  So,
in our case, <kbd>[[[[text</kbd> will cause the macro <kbd>[[</kbd> to be executed
twice and then the remaining keys, <kbd>t e x t</kbd>, will be processed.

   <p>When defining macros using <kbd>:map</kbd> or <kbd>:map!</kbd>, the user enters
the actually keys to be used to invoke the macro.  For instance, you
should hit the actual key <kbd>f6</kbd> if it is to be part of a macro
name; you do <em>not</em> write <kbd>f 6</kbd>.  When entering keys, Viper
displays them as strings or vectors (e.g., <code>"abc"</code> or <code>[f6
f7 a]</code>).  The same holds for unmapping.  Hitting &lt;TAB&gt; while
typing a macro name in the <kbd>:unmap</kbd> or <kbd>:unmap!</kbd> command will
cause name completion.  Completions are displayed as strings or
vectors.  However, as before, you don't actually type `<samp><span class="samp">"</span></samp>',
`<samp><span class="samp">[</span></samp>', or `<samp><span class="samp">]</span></samp>' that appear in the completions.  These are
meta-symbols that indicate whether the corresponding macro name is a
vector or a string.

   <p>One last difference from Vi: Vi-style keyboard macros cannot be defined in
terms of other Vi-style keyboard macros (but named Emacs macros are OK). 
More precisely, while defining or executing a macro, the special meaning
of key sequences (as Vi macros) is ignored. 
This is because it is all too easy to create an infinite loop in this way. 
Since Viper macros are much more powerful than Vi's it is impossible to
detect such loops.  In practice, this is not really a limitation but,
rather, a feature.

   <p>We should also note that Vi macros are disabled in the minibuffer, which
helps keep some potential troubles away.

   <p>The rate at which the user must type keys in order for them to be
recognized as a timeout macro is controlled by the variable
<code>viper-fast-keyseq-timeout</code>, which defaults to 200 milliseconds.

   <p>For the most part, Viper macros defined in the Viper customization file can
be shared between X and TTY modes. 
The problem with TTY may be that the function keys there generate sequences
of events instead of a single event (as under a window system). 
Emacs maps some of these sequences back to the logical keys
(e.g., the sequences generated by the arrow keys are mapped to <kbd>up</kbd>,
<kbd>left</kbd>, etc.).  However, not all function keys are mapped in this way. 
Macros that are bound to key sequences that contain such unmapped function
keys have to be redefined for TTY's (and possibly for every type of TTY you
may be using).  To do this, start Emacs on an appropriate TTY device and
define the macro using <kbd>:map</kbd>, as usual.

   <p><a name="index-g_t_0040code_007bviper_002ddescribe_002dkbd_002dmacros_007d-281"></a>Finally, Viper provides a function that conveniently displays all macros
currently defined.  To see all macros along with their definitions, type
<kbd>M-x viper-describe-kbd-macros</kbd>.

<div class="node">
<p><hr>
<a name="Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Customization">Customization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Commands</h2>

<p>This section is a semi-automatically bowdlerized version of the Vi
reference created by <br> `<samp><span class="samp">maart@cs.vu.nl</span></samp>' and others.  It can be
found on the Vi archives.  This reference has been adapted for Viper.

<ul class="menu">
<li><a accesskey="1" href="#Groundwork">Groundwork</a>:                   Textual Conventions and Viper basics
<li><a accesskey="2" href="#Text-Handling">Text Handling</a>:                Moving, Editing, Undoing. 
<li><a accesskey="3" href="#Display">Display</a>:                      Scrolling. 
<li><a accesskey="4" href="#File-and-Buffer-Handling">File and Buffer Handling</a>:     Editing, Writing and Quitting. 
<li><a accesskey="5" href="#Mapping">Mapping</a>:                      Mapping Keys, Keyboard Macros
<li><a accesskey="6" href="#Shell-Commands">Shell Commands</a>:               Accessing Shell Commands, Processing Text
<li><a accesskey="7" href="#Options">Options</a>:                      Ex options, the <kbd>:set</kbd> commands
<li><a accesskey="8" href="#Emacs-Related-Commands">Emacs Related Commands</a>:       Meta Keys, Windows
<li><a accesskey="9" href="#Mouse_002dbound-Commands">Mouse-bound Commands</a>:         Search and insertion of text
</ul>

<div class="node">
<p><hr>
<a name="Groundwork"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Text-Handling">Text Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.1 Groundwork</h3>

<p>The VI command set is based on the idea of combining motion commands
with other commands.  The motion command is used as a text region
specifier for other commands. 
We classify motion commands into <dfn>point commands</dfn> and
<dfn>line commands</dfn>.

   <p><a name="index-point-commands-282"></a>
The point commands are:

   <blockquote>
<kbd>h</kbd>, <kbd>l</kbd>, <kbd>0</kbd>,  <kbd>$</kbd>, <kbd>w</kbd>, <kbd>W</kbd>, <kbd>b</kbd>, <kbd>B</kbd>,
<kbd>e</kbd>, <kbd>E</kbd>, <kbd>(</kbd>, <kbd>)</kbd>, <kbd>/</kbd>, <kbd>?</kbd>, <kbd>`</kbd>, <kbd>f</kbd>,
<kbd>F</kbd>, <kbd>t</kbd>, <kbd>T</kbd>, <kbd>%</kbd>, <kbd>;</kbd>, <kbd>,</kbd>, <kbd>^</kbd>
</blockquote>

   <p><a name="index-line-commands-283"></a>
The line commands are:

   <blockquote>
<kbd>j</kbd>, <kbd>k</kbd>, <kbd>+</kbd>, <kbd>-</kbd>, <kbd>H</kbd>, <kbd>M</kbd>, <kbd>L</kbd>, <kbd>{</kbd>,
<kbd>}</kbd>, <kbd>G</kbd>, <kbd>'</kbd>,  <kbd>[[</kbd>, <kbd>]]</kbd>, <kbd>[]</kbd>
</blockquote>
   Text Deletion Commands (see <a href="#Deleting-Text">Deleting Text</a>), Change commands
(see <a href="#Changing-Text">Changing Text</a>), even Shell Commands (see <a href="#Shell-Commands">Shell Commands</a>)
use these commands to describe a region of text to operate on.

   <p><a name="index-r-and-R-region-specifiers-284"></a>
Viper adds two region descriptors, <kbd>r</kbd> and <kbd>R</kbd>.  These describe
the Emacs regions (see <a href="#Basics">Basics</a>), but they are not movement commands.

   <p>The command description uses angle brackets `<samp><span class="samp">&lt;&gt;</span></samp>' to indicate
metasyntactic variables, since the normal conventions of using simple
text can be confusing with Viper where the commands themselves are
characters.  Watch out where <kbd>&lt;</kbd> shift commands and <kbd>&lt;count&gt;</kbd> are
mentioned together!!!

   <p><a name="index-g_t_003cmove_003e-285"></a><a name="index-g_t_003ca_002dz_003e-286"></a><a name="index-g_t_003caddress_003e-287"></a><a name="index-g_t_003cmove_003e-288"></a><a name="index-g_t_003ca_002dz_003e-289"></a><a name="index-g_t_003caddress_003e-290"></a><a name="index-movements-291"></a>
`<samp><span class="samp">&lt;move&gt;</span></samp>' refers to the above movement commands, and `<samp><span class="samp">&lt;a-z&gt;</span></samp>'
refers to registers or textmarkers from `<samp><span class="samp">a</span></samp>' to `<samp><span class="samp">z</span></samp>'.  Note
that the `<samp><span class="samp">&lt;move&gt;</span></samp>'  is described by full move commands, that is to
say they will take counts, and otherwise behave like normal move commands. 
<a name="index-Ex-addresses-292"></a>`<samp><span class="samp">&lt;address&gt;</span></samp>' refers to Ex line addresses, which include

     <dl>
<dt><kbd>. &lt;No address&gt;</kbd><dd>Current line
<br><dt><kbd>.+n .-n</kbd><dd>Add or subtract for current line
<br><dt><kbd>number</kbd><dd>Actual line number, use <kbd>.=</kbd> to get the line number
<br><dt><kbd>'&lt;a-z&gt;</kbd><dd>Textmarker
<br><dt><kbd>$</kbd><dd>Last line
<br><dt><kbd>x,y</kbd><dd>Where x and y are one of the above
<br><dt><kbd>%</kbd><dd><a name="index-g_t_0025-_0028Ex-address_0029-293"></a>For the whole file, same as (1,$). 
<br><dt><kbd>/&lt;pat&gt;/</kbd><dt><kbd>?&lt;pat&gt;?</kbd><dd>Next or previous line with pattern &lt;pat&gt;.

     <p>Note that the pattern is allowed to contain newline character (inserted as
<kbd>C-qC-j</kbd>).  Therefore, one can search for patterns that span several
lines. 
</dl>

   <p><a name="index-g_t_0025-_0028Current-file_0029-294"></a>Note that `<samp><span class="samp">%</span></samp>' is used in Ex commands <kbd>:e</kbd> and <kbd>:r &lt;shell-cmd&gt;</kbd>
to mean current file.  If you want a `<samp><span class="samp">%</span></samp>' in your command, it must be
escaped as `<samp><span class="samp">\%</span></samp>'. Note that <kbd>:w</kbd> and the regular <kbd>:r &lt;file&gt;</kbd>
command doesn't support the meta symbols `<samp><span class="samp">%</span></samp>' and `<samp><span class="samp">#</span></samp>', because
file history is a better mechanism. 
<a name="index-g_t_0023-_0028Previous-file_0029-295"></a>Similarly, `<samp><span class="samp">#</span></samp>' expands to the previous file.  The previous file is
the first file in <kbd>:args</kbd> listing.  This defaults to previous window
in the VI sense if you have one window only.

   <p><a name="index-g_t_003cargs_003e-296"></a><a name="index-g_t_003ccmd_003e-297"></a><a name="index-g_t_003cargs_003e-298"></a><a name="index-g_t_003ccmd_003e-299"></a>Others like `<samp><span class="samp">&lt;args&gt; -- arguments</span></samp>', `<samp><span class="samp">&lt;cmd&gt; -- command</span></samp>' etc. 
should be fairly obvious.

<p class="noindent">Common characters referred to include:

     <dl>
<dt><kbd>&lt;sp&gt;</kbd><dd>Space
<br><dt><kbd>&lt;ht&gt;</kbd><dd>Tab
<br><dt><kbd>&lt;lf&gt;</kbd><dd>Linefeed
<br><dt><kbd>&lt;esc&gt;</kbd><dd>Escape
<br><dt><kbd>&lt;cr&gt;</kbd><dd>Return, Enter
</dl>
   <a name="index-g_t_003ccr_003e-300"></a><a name="index-g_t_003cesc_003e-301"></a><a name="index-g_t_003clf_003e-302"></a><a name="index-g_t_003cht_003e-303"></a><a name="index-g_t_003csp_003e-304"></a>
<a name="index-words-305"></a><a name="index-WORDS-306"></a><a name="index-char-307"></a><a name="index-CHAR-308"></a>
We also use `<samp><span class="samp">word</span></samp>' for alphanumeric/non-alphanumeric words, and
`<samp><span class="samp">WORD</span></samp>' for whitespace delimited words.  `<samp><span class="samp">char</span></samp>' refers to any
<acronym>ASCII</acronym> character, `<samp><span class="samp">CHAR</span></samp>' to non-whitespace character. 
Brackets `<samp><span class="samp">[]</span></samp>' indicate optional parameters; `<samp><span class="samp">&lt;count&gt;</span></samp>' also
optional, usually defaulting to 1.  Brackets are elided for
`<samp><span class="samp">&lt;count&gt;</span></samp>' to eschew obfuscation.

   <p>Viper's idea of Vi's words is slightly different from Vi.  First, Viper
words understand Emacs symbol tables.  Therefore, all symbols declared to be
alphanumeric in a symbol table can automatically be made part of the Viper
word.  This is useful when, for instance, editing text containing European,
Cyrillic, Japanese, etc., texts.

   <p>Second, Viper lets you depart from Vi's idea of a word by changing the a
syntax preference via the customization widget (the variable
<code>viper-syntax-preference</code>) or by executing
<code>viper-set-syntax-preference</code> interactively.

   <p>By default, Viper syntax preference is <code>reformed-vi</code>, which means that
Viper considers only those symbols to be part of a word that are specified
as word-symbols by the current Emacs syntax table (which may be different
for different major modes) plus the underscore symbol <kbd>_</kbd>, minus the
symbols that are not considered words in Vi (e.g., `<samp><span class="samp">,</span></samp>', `<samp><span class="samp">;</span></samp>',
etc.), but may be
considered as word-symbols by various Emacs major modes.  Reformed-Vi works
very close to Vi, and it also recognizes words in other
alphabets.  Therefore, this is the most appropriate mode for editing text
and is likely to fit all your needs.

   <p>You can also set Viper syntax preference to <code>strict-vi</code>, which would
cause Viper to view all non-English letters as non-word-symbols.

   <p>You can also specify <code>emacs</code> as your preference, which would
make Viper use exactly the same notion of a word as Emacs does.  In
particular, the underscore may not be part of a word in some major modes.

   <p>Finally, if <code>viper-syntax-preference</code> is set to <code>extended</code>, Viper
words would consist of characters that are classified as alphanumeric
<em>or</em> as parts of symbols.  This is convenient for editing programs.

   <p><code>viper-syntax-preference</code> is a local variable, so it can have different
values for different major modes.  For instance, in programming modes it can
have the value <code>extended</code>.  In text modes where words contain special
characters, such as European (non-English) letters, Cyrillic letters, etc.,
the value can be <code>reformed-vi</code> or <code>emacs</code>. 
If you consider using different syntactic preferences for different major
modes, you should execute, for example,

<pre class="example">     (viper-set-syntax-preference nil "extended")
</pre>
   <p>in the appropriate major mode hooks.

   <p><a name="index-g_t_0040code_007bviper_002dsyntax_002dpreference_007d-309"></a><a name="index-g_t_0040code_007bviper_002dset_002dsyntax_002dpreference_007d-310"></a><a name="index-syntax-table-311"></a>

   <p>The above discussion concerns only the movement commands.  In regular
expressions, words remain the same as in Emacs.  That is, the expressions
<code>\w</code>, <code>\&gt;</code>, <code>\&lt;</code>, etc., use Emacs's idea of what is a word,
and they don't look into the value of variable
<code>viper-syntax-preference</code>.  This is because Viper avoids changing
syntax tables in order to not thwart the various major modes that set these
tables.

   <p>The usual Emacs convention is used to indicate Control Characters, i.e.,
C-h for Control-h.  <em>Do not confuse this with a sequence of separate
characters
C, -, h!!!</em> The <kbd>^</kbd> is itself, never used to indicate a
Control character.

   <p>Finally, we note that Viper's Ex-style commands can be made to work on the
current Emacs region.  This is done by typing a digit argument before
<kbd>:</kbd>.  For instance, typing <kbd>1:</kbd> will prompt you with something like
<em>:123,135</em>, assuming that the current region starts at line 123 and
ends at line 135.  There is no need to type the line numbers, since Viper
inserts them automatically in front of the Ex command. 
<a name="index-Ex-commands-312"></a>
<div class="node">
<p><hr>
<a name="Text-Handling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Display">Display</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Groundwork">Groundwork</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.2 Text Handling</h3>

<ul class="menu">
<li><a accesskey="1" href="#Move-Commands">Move Commands</a>:                Moving, Searching
<li><a accesskey="2" href="#Marking">Marking</a>:                      Textmarkers in Viper and the Emacs Mark. 
<li><a accesskey="3" href="#Appending-Text">Appending Text</a>:               Text insertion, Shifting, Putting
<li><a accesskey="4" href="#Editing-in-Insert-State">Editing in Insert State</a>:      Autoindent, Quoting etc. 
<li><a accesskey="5" href="#Deleting-Text">Deleting Text</a>:                Deleting
<li><a accesskey="6" href="#Changing-Text">Changing Text</a>:                Changing, Replacement, Joining
<li><a accesskey="7" href="#Search-and-Replace">Search and Replace</a>:           Searches, Query Replace, Pattern Commands
<li><a accesskey="8" href="#Yanking">Yanking</a>:                      Yanking, Viewing Registers
<li><a accesskey="9" href="#Undoing">Undoing</a>:                      Multiple Undo, Backups
</ul>

<div class="node">
<p><hr>
<a name="Move-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Marking">Marking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.1 Move Commands</h4>

<p><a name="index-movement-commands-313"></a><a name="index-searching-314"></a><a name="index-textmarkers-315"></a><a name="index-markers-316"></a><a name="index-column-movement-317"></a><a name="index-paragraphs-318"></a><a name="index-headings-319"></a><a name="index-sections-320"></a><a name="index-sentences-321"></a><a name="index-matching-parens-322"></a><a name="index-paren-matching-323"></a>
     <dl>
<dt><kbd>&lt;count&gt;  h  C-h</kbd><dd>&lt;count&gt; chars to the left. 
<br><dt><kbd>&lt;count&gt;  j  &lt;lf&gt; C-n</kbd><dd>&lt;count&gt; lines downward. 
<br><dt><kbd>&lt;count&gt;  l  &lt;sp&gt;</kbd><dd>&lt;count&gt; chars to the right. 
<br><dt><kbd>&lt;count&gt;  k  C-p</kbd><dd>&lt;count&gt; lines upward. 
<br><dt><kbd>&lt;count&gt;  $</kbd><dd>To the end of line &lt;count&gt; from the cursor. 
<br><dt><kbd>&lt;count&gt;  ^</kbd><dd>To the first CHAR &lt;count&gt; &minus; 1 lines lower. 
<br><dt><kbd>&lt;count&gt;  -</kbd><dd>To the first CHAR &lt;count&gt; lines higher. 
<br><dt><kbd>&lt;count&gt;  +  &lt;cr&gt;</kbd><dd>To the first CHAR &lt;count&gt; lines lower. 
<br><dt><kbd>0</kbd><dd>To the first char of the line. 
<br><dt><kbd>&lt;count&gt; |</kbd><dd>To column &lt;count&gt;
<br><dt><kbd>&lt;count&gt;  f&lt;char&gt;</kbd><dd>&lt;count&gt; &lt;char&gt;s to the right (find). 
<br><dt><kbd>&lt;count&gt;  t&lt;char&gt;</kbd><dd>Till before &lt;count&gt; &lt;char&gt;s to the right. 
<br><dt><kbd>&lt;count&gt;  F&lt;char&gt;</kbd><dd>&lt;count&gt; &lt;char&gt;s to the left. 
<br><dt><kbd>&lt;count&gt;  T&lt;char&gt;</kbd><dd>Till after &lt;count&gt; &lt;char&gt;s to the left. 
<br><dt><kbd>&lt;count&gt;  ;</kbd><dd>Repeat latest <kbd>f t F T</kbd> &lt;count&gt; times. 
<br><dt><kbd>&lt;count&gt;  ,</kbd><dd>Repeat latest <kbd>f t F T</kbd>
&lt;count&gt; times in opposite direction. 
<br><dt><kbd>&lt;count&gt;  w</kbd><dd>&lt;count&gt; words forward. 
<br><dt><kbd>&lt;count&gt;  W</kbd><dd>&lt;count&gt; WORDS forward. 
<br><dt><kbd>&lt;count&gt;  b</kbd><dd>&lt;count&gt; words backward. 
<br><dt><kbd>&lt;count&gt;  B</kbd><dd>&lt;count&gt; WORDS backward. 
<br><dt><kbd>&lt;count&gt;  e</kbd><dd>To the end of word &lt;count&gt; forward. 
<br><dt><kbd>&lt;count&gt;  E</kbd><dd>To the end of WORD &lt;count&gt; forward. 
<br><dt><kbd>&lt;count&gt;  G</kbd><dd>Go to line &lt;count&gt; (default end-of-file). 
<br><dt><kbd>&lt;count&gt;  H</kbd><dd>To line &lt;count&gt; from top of the screen (home). 
<br><dt><kbd>&lt;count&gt;  L</kbd><dd>To line &lt;count&gt; from bottom of the screen (last). 
<br><dt><kbd>M</kbd><dd>To the middle line of the screen. 
<br><dt><kbd>&lt;count&gt;  )</kbd><dd>&lt;count&gt; sentences forward. 
<br><dt><kbd>&lt;count&gt;  (</kbd><dd>&lt;count&gt; sentences backward. 
<br><dt><kbd>&lt;count&gt;  }</kbd><dd>&lt;count&gt; paragraphs forward. 
<br><dt><kbd>&lt;count&gt;  {</kbd><dd>&lt;count&gt; paragraphs backward. 
<br><dt><kbd>&lt;count&gt;  ]]</kbd><dd>To the &lt;count&gt;th heading. 
<br><dt><kbd>&lt;count&gt;  [[</kbd><dd>To the &lt;count&gt;th previous heading. 
<br><dt><kbd>&lt;count&gt;  []</kbd><dd>To the end of &lt;count&gt;th heading. 
<br><dt><kbd>m&lt;a-z&gt;</kbd><dd>Mark the cursor position with a letter. 
<br><dt><kbd>`&lt;a-z&gt;</kbd><dd>To the mark. 
<br><dt><kbd>'&lt;a-z&gt;</kbd><dd>To the first CHAR of the line with the mark. 
<br><dt><kbd>[&lt;a-z&gt;</kbd><dd>Show contents of textmarker. 
<br><dt><kbd>]&lt;a-z&gt;</kbd><dd>Show contents of register. 
<br><dt><kbd>``</kbd><dd>To the cursor position before the latest absolute
jump (of which are examples <kbd>/</kbd> and <kbd>G</kbd>). 
<br><dt><kbd>''</kbd><dd>To the first CHAR of the line on which the cursor
was placed before the latest absolute jump. 
<br><dt><kbd>&lt;count&gt;  /&lt;string&gt;</kbd><dd>To the &lt;count&gt;th occurrence of &lt;string&gt;. 
<br><dt><kbd>&lt;count&gt;  /&lt;cr&gt;</kbd><dd>To the &lt;count&gt;th occurrence of &lt;string&gt; from previous <kbd>/ or ?</kbd>. 
<br><dt><kbd>&lt;count&gt;  ?&lt;string&gt;</kbd><dd>To the &lt;count&gt;th previous occurrence of &lt;string&gt;. 
<br><dt><kbd>&lt;count&gt;  ?&lt;cr&gt;</kbd><dd>To the &lt;count&gt;th previous occurrence of &lt;string&gt; from previous <kbd>? or /</kbd>. 
<br><dt><kbd>n</kbd><dd>Repeat latest <kbd>/</kbd> <kbd>?</kbd> (next). 
<br><dt><kbd>N</kbd><dd>Repeat latest search in opposite direction. 
<br><dt><kbd>C-c /</kbd><dd>Without a prefix argument, this command toggles
case-sensitive/case-insensitive search modes and plain vanilla/regular
expression search.  With the prefix argument 1, i.e.,
<kbd>1 C-c /</kbd>, this toggles case-sensitivity; with the prefix argument 2,
toggles plain vanilla search and search using
regular expressions.  See <a href="#Viper-Specials">Viper Specials</a>, for alternative ways to invoke
this function. 
<a name="index-vanilla-search-324"></a><a name="index-case_002dsensitive-search-325"></a><a name="index-case_002dinsensitive-search-326"></a><br><dt><kbd>%</kbd><dd>Find the next bracket/parenthesis/brace and go to its match. 
By default, Viper ignores brackets/parentheses/braces that occur inside
parentheses.  You can change this by setting
<code>viper-parse-sexp-ignore-comments</code> to <code>nil</code> in your Viper
customization file. 
This option can also be toggled interactively if you quickly hit <kbd>%%%</kbd>.

     <p>This latter feature is implemented as a vi-style keyboard macro.  If you
don't want this macro, put

     <pre class="example">          (viper-set-parsing-style-toggling-macro 'undefine)
     </pre>
     <p><a name="index-g_t_0040code_007bviper_002dset_002dparsing_002dstyle_002dtoggling_002dmacro_007d-327"></a>
in your Viper customization file.

   </dl>
   <a name="index-g_t_0040kbd_007b_0025_007d-328"></a><a name="index-g_t_0040kbd_007bC_002dc-_002f_007d-329"></a><a name="index-g_t_0040kbd_007bN_007d-330"></a><a name="index-g_t_0040kbd_007bn_007d-331"></a><a name="index-g_t_0040kbd_007b_003f_003ccr_003e_007d-332"></a><a name="index-g_t_0040kbd_007b_002f_003ccr_003e_007d-333"></a><a name="index-g_t_0040kbd_007b_003f_003cstring_003e_007d-334"></a><a name="index-g_t_0040kbd_007b_002f_003cstring_003e_007d-335"></a><a name="index-g_t_0040kbd_007b_0027_0027_007d-336"></a><a name="index-g_t_0040kbd_007b_0060_0060_007d-337"></a><a name="index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-338"></a><a name="index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-339"></a><a name="index-g_t_0040kbd_007b_0027_003ca_002dz_003e_007d-340"></a><a name="index-g_t_0040kbd_007b_0060_003ca_002dz_003e_007d-341"></a><a name="index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-342"></a><a name="index-g_t_0040kbd_007b_005b_005d_007d-343"></a><a name="index-g_t_0040kbd_007b_005b_005b_007d-344"></a><a name="index-g_t_0040kbd_007b_005d_005d_007d-345"></a><a name="index-g_t_0040kbd_007b_0040_007b_007d-346"></a><a name="index-g_t_0040kbd_007b_0040_007d_007d-347"></a><a name="index-g_t_0040kbd_007b_0028_007d-348"></a><a name="index-g_t_0040kbd_007b_0029_007d-349"></a><a name="index-g_t_0040kbd_007bM_007d-350"></a><a name="index-g_t_0040kbd_007bL_007d-351"></a><a name="index-g_t_0040kbd_007bH_007d-352"></a><a name="index-g_t_0040kbd_007bG_007d-353"></a><a name="index-g_t_0040kbd_007bE_007d-354"></a><a name="index-g_t_0040kbd_007be_007d-355"></a><a name="index-g_t_0040kbd_007bB_007d-356"></a><a name="index-g_t_0040kbd_007bb_007d-357"></a><a name="index-g_t_0040kbd_007bW_007d-358"></a><a name="index-g_t_0040kbd_007bw_007d-359"></a><a name="index-g_t_0040kbd_007b_002c_007d-360"></a><a name="index-g_t_0040kbd_007b_003b_007d-361"></a><a name="index-g_t_0040kbd_007bT_003cchar_003e_007d-362"></a><a name="index-g_t_0040kbd_007bF_003cchar_003e_007d-363"></a><a name="index-g_t_0040kbd_007bt_003cchar_003e_007d-364"></a><a name="index-g_t_0040kbd_007bf_003cchar_003e_007d-365"></a><a name="index-g_t_0040kbd_007b_007c_007d-366"></a><a name="index-g_t_0040kbd_007b0_007d-367"></a><a name="index-g_t_0040kbd_007b_003ccr_003e_007d-368"></a><a name="index-g_t_0040kbd_007b_002b_007d-369"></a><a name="index-g_t_0040kbd_007b_002d_007d-370"></a><a name="index-g_t_0040kbd_007b_005e_007d-371"></a><a name="index-g_t_0040kbd_007b_0024_007d-372"></a><a name="index-g_t_0040kbd_007bC_002dp_007d-373"></a><a name="index-g_t_0040kbd_007b_003clf_003e_007d-374"></a><a name="index-g_t_0040kbd_007b_003csp_003e_007d-375"></a><a name="index-g_t_0040kbd_007bC_002dn_007d-376"></a><a name="index-g_t_0040kbd_007bC_002dh_007d-377"></a><a name="index-g_t_0040kbd_007bh_007d-378"></a><a name="index-g_t_0040kbd_007bj_007d-379"></a><a name="index-g_t_0040kbd_007bk_007d-380"></a><a name="index-g_t_0040kbd_007bl_007d-381"></a><a name="index-g_t_0040code_007bviper_002dparse_002dsexp_002dignore_002dcomments_007d-382"></a>
<div class="node">
<p><hr>
<a name="Marking"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Appending-Text">Appending Text</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Move-Commands">Move Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.2 Marking</h4>

<p>Emacs mark is referred to in the region specifiers <kbd>r</kbd> and <kbd>R</kbd>. 
See <a href="#Emacs-Preliminaries">Emacs Preliminaries</a>, and See <a href="#Basics">Basics</a>, for explanation.  Also
see <a href="emacs.html#Mark">Mark</a>, for an explanation of
the Emacs mark ring.

   <p><a name="index-marking-383"></a>
     <dl>
<dt><kbd>m&lt;a-z&gt;</kbd><dd>Mark the current file and position with the specified letter. 
<br><dt><kbd>m .</kbd><dd>Set the Emacs mark (see <a href="#Emacs-Preliminaries">Emacs Preliminaries</a>) at point. 
<br><dt><kbd>m ^</kbd><dd>Set the Emacs mark (see <a href="#Emacs-Preliminaries">Emacs Preliminaries</a>) back to where it was last
set with the <kbd>m.</kbd> command. This is useful when you set the mark with
<kbd>m.</kbd>, but then some other command (such as <kbd>L</kbd> or <kbd>G</kbd>) changes
it in a way that you didn't like. 
<br><dt><kbd>m &lt;</kbd><dd>Set the Emacs mark at beginning of buffer. 
<br><dt><kbd>m &gt;</kbd><dd>Set the Emacs mark at end of buffer. 
<br><dt><kbd>m ,</kbd><dd>Jump to the Emacs mark. 
<br><dt><kbd>:mark &lt;char&gt;</kbd><dd>Mark position with text marker named &lt;char&gt;.  This is an Ex command. 
<br><dt><kbd>:k &lt;char&gt;</kbd><dd>Same as <kbd>:mark</kbd>. 
<br><dt><kbd>``</kbd><dd>Exchange point and mark. 
<br><dt><kbd>''</kbd><dd>Exchange point and mark and go to the first CHAR on line. 
<br><dt><kbd>'&lt;a-z&gt;</kbd><dd>Go to specified Viper mark. 
<br><dt><kbd>`&lt;a-z&gt;</kbd><dd>Go to specified Viper mark and go to the first CHAR on line. 
</dl>
   <a name="index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-384"></a><a name="index-g_t_0040kbd_007bm_002e_007d-385"></a><a name="index-g_t_0040kbd_007bm_003e_007d-386"></a><a name="index-g_t_0040kbd_007bm_003c_007d-387"></a><a name="index-g_t_0040kbd_007bm_002c_007d-388"></a><a name="index-g_t_0040kbd_007bm_005e_007d-389"></a><a name="index-g_t_0040kbd_007bEx-mark_007d-390"></a><a name="index-g_t_0040kbd_007bEx-k_007d-391"></a><a name="index-g_t_0040kbd_007b_0027_0027_007d-392"></a><a name="index-g_t_0040kbd_007b_0060_0060_007d-393"></a><a name="index-g_t_0040kbd_007b_0060_003ca_002dz_003e_007d-394"></a><a name="index-g_t_0040kbd_007b_0027_003ca_002dz_003e_007d-395"></a>
<div class="node">
<p><hr>
<a name="Appending-Text"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Editing-in-Insert-State">Editing in Insert State</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Marking">Marking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.3 Appending Text</h4>

<p>See <a href="#Options">Options</a>, to see how to change tab and shiftwidth size.  See the GNU
Emacs manual, or try <kbd>C-ha tabs</kbd> (If you have turned Emacs help on). 
Check out the variable <code>indent-tabs-mode</code> to put in just spaces. 
Also see options for word-wrap.

   <p><a name="index-inserting-396"></a><a name="index-appending-397"></a><a name="index-paste-398"></a><a name="index-put-399"></a>
     <dl>
<dt><kbd>&lt;count&gt;  a</kbd><dd>&lt;count&gt; times after the cursor. 
<br><dt><kbd>&lt;count&gt;  A</kbd><dd>&lt;count&gt; times at the end of line. 
<br><dt><kbd>&lt;count&gt;  i</kbd><dd>&lt;count&gt; times before the cursor (insert). 
<br><dt><kbd>&lt;count&gt;  I</kbd><dd>&lt;count&gt; times before the first CHAR of the line
<br><dt><kbd>&lt;count&gt;  o</kbd><dd>On a new line below the current (open). 
The count is only useful on a slow terminal. 
<br><dt><kbd>&lt;count&gt;  O</kbd><dd>On a new line above the current. 
The count is only useful on a slow terminal. 
<br><dt><kbd>&lt;count&gt;  &gt;&lt;move&gt;</kbd><dd>Shift the lines described by &lt;count&gt;&lt;move&gt; one
shiftwidth to the right (layout!). 
<br><dt><kbd>&lt;count&gt;  &gt;&gt;</kbd><dd>Shift &lt;count&gt; lines one shiftwidth to the right. 
<br><dt><kbd>&lt;count&gt;  ["&lt;a-z1-9&gt;]p</kbd><dd>Put the contents of the (default undo) buffer
&lt;count&gt; times after the cursor.  The register will
be automatically down-cased. 
<br><dt><kbd>&lt;count&gt;  ["&lt;a-z1-9&gt;]P</kbd><dd>Put the contents of the (default undo) buffer
&lt;count&gt; times before the cursor.  The register will
<br><dt><kbd>[&lt;a-z&gt;</kbd><dd>Show contents of textmarker. 
<br><dt><kbd>]&lt;a-z&gt;</kbd><dd>Show contents of register. 
<br><dt><kbd>&lt;count&gt;  .</kbd><dd>Repeat previous command &lt;count&gt; times.  For destructive
commands as well as undo. 
<br><dt><kbd>f1 1 and f1 2</kbd><dd>While <kbd>.</kbd> repeats the last destructive command,
these two macros repeat the second-last and the third-last destructive
commands.  See <a href="#Vi-Macros">Vi Macros</a>, for more information on Vi macros. 
<br><dt><kbd>C-c M-p and C-c M-n</kbd><dd>In Vi state,
these commands help peruse the history of Vi's destructive commands. 
Successive typing of <kbd>C-c M-p</kbd> causes Viper to search the history in
the direction
of older commands, while hitting <kbd>C-c M-n</kbd> does so in reverse
order.  Each command in the history is displayed in the minibuffer.  The
displayed command can
then be executed by typing a period.

     <p>Since typing the above sequences of keys may be tedious, the
functions doing the perusing can be bound to unused keyboard keys in the
Viper customization file.  See <a href="#Viper-Specials">Viper Specials</a>, for details. 
</dl>
   <a name="index-g_t_0040kbd_007bC_002dc-M_002dp_007d-400"></a><a name="index-g_t_0040kbd_007bC_002dc-M_002dn_007d-401"></a><a name="index-g_t_0040kbd_007b_002e_007d-402"></a><a name="index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-403"></a><a name="index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-404"></a><a name="index-g_t_0040kbd_007bP_007d-405"></a><a name="index-g_t_0040kbd_007bp_007d-406"></a><a name="index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003ep_007d-407"></a><a name="index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003eP_007d-408"></a><a name="index-g_t_0040kbd_007b_003e_003e_007d-409"></a><a name="index-g_t_0040kbd_007b_003e_003cmove_003e_007d-410"></a><a name="index-g_t_0040kbd_007bO_007d-411"></a><a name="index-g_t_0040kbd_007bo_007d-412"></a><a name="index-g_t_0040kbd_007bi_007d-413"></a><a name="index-g_t_0040kbd_007bA_007d-414"></a><a name="index-g_t_0040kbd_007ba_007d-415"></a>
<div class="node">
<p><hr>
<a name="Editing-in-Insert-State"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Deleting-Text">Deleting Text</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Appending-Text">Appending Text</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.4 Editing in Insert State</h4>

<p>Minibuffer can be edited similarly to Insert state, and you can switch
between Insert/Replace/Vi states at will. 
Some users prefer plain Emacs feel in the minibuffer.  To this end, set
<var>viper-vi-style-in-minibuffer</var> to <code>nil</code>.

   <p><a name="index-Insert-state-416"></a>
     <dl>
<dt><kbd>C-v</kbd><dd>Deprive the next char of its special meaning (quoting). 
<br><dt><kbd>C-h</kbd><dd>One char back. 
<br><dt><kbd>C-w</kbd><dd>One word back. 
<br><dt><kbd>C-u</kbd><dd>Back to the begin of the change on the
current line.

   </dl>
   <a name="index-g_t_0040kbd_007bC_002du_007d-417"></a><a name="index-g_t_0040kbd_007bC_002dw_007d-418"></a><a name="index-g_t_0040kbd_007bC_002dv_007d-419"></a>
<div class="node">
<p><hr>
<a name="Deleting-Text"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changing-Text">Changing Text</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Editing-in-Insert-State">Editing in Insert State</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.5 Deleting Text</h4>

<p>There is one difference in text deletion that you should be
aware of.  This difference comes from Emacs and was adopted in Viper
because we find it very useful.  In Vi, if you delete a line, say, and then
another line, these two deletions are separated and are put back
separately if you use the `<samp><span class="samp">p</span></samp>' command.  In Emacs (and Viper), successive
series of deletions that are <em>not interrupted</em> by other commands are
lumped together, so the deleted text gets accumulated and can be put back
as one chunk.  If you want to break a sequence of deletions so that the
newly deleted text could be put back separately from the previously deleted
text, you should perform a non-deleting action, e.g., move the cursor one
character in any direction.

   <p><a name="index-shifting-text-420"></a>
     <dl>
<dt><kbd>&lt;count&gt;  x</kbd><dd>Delete &lt;count&gt; chars under and after the cursor. 
<br><dt><kbd>&lt;count&gt;  X</kbd><dd>Delete &lt;count&gt; chars before the cursor. 
<br><dt><kbd>&lt;count&gt;  d&lt;move&gt;</kbd><dd>Delete from point to endpoint of &lt;count&gt;&lt;move&gt;. 
<br><dt><kbd>&lt;count&gt;  dd</kbd><dd>Delete &lt;count&gt; lines. 
<br><dt><kbd>D</kbd><dd>The rest of the line. 
<br><dt><kbd>&lt;count&gt;  &lt;&lt;move&gt;</kbd><dd>Shift the lines described by &lt;count&gt;&lt;move&gt; one
shiftwidth to the left (layout!). 
<br><dt><kbd>&lt;count&gt;  &lt;&lt;</kbd><dd>Shift &lt;count&gt; lines one shiftwidth to the left. 
</dl>
   <a name="index-g_t_0040kbd_007b_003c_003c_007d-421"></a><a name="index-g_t_0040kbd_007b_003c_003cmove_003e_007d-422"></a><a name="index-g_t_0040kbd_007bD_007d-423"></a><a name="index-g_t_0040kbd_007bdd_007d-424"></a><a name="index-g_t_0040kbd_007bd_003cmove_003e_007d-425"></a><a name="index-g_t_0040kbd_007bX_007d-426"></a><a name="index-g_t_0040kbd_007bx_007d-427"></a>
<div class="node">
<p><hr>
<a name="Changing-Text"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Search-and-Replace">Search and Replace</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Deleting-Text">Deleting Text</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.6 Changing Text</h4>

<p><a name="index-joining-lines-428"></a><a name="index-changing-case-429"></a><a name="index-quoting-regions-430"></a><a name="index-substitution-431"></a>
     <dl>
<dt><kbd>&lt;count&gt;  r&lt;char&gt;</kbd><dd>Replace &lt;count&gt; chars by &lt;char&gt;; no &lt;esc&gt;. 
<br><dt><kbd>&lt;count&gt;  R</kbd><dd>Overwrite the rest of the line,
appending change <var>count</var> &minus; 1 times. 
<br><dt><kbd>&lt;count&gt;  s</kbd><dd>Substitute &lt;count&gt; chars. 
<br><dt><kbd>&lt;count&gt;  S</kbd><dd>Change &lt;count&gt; lines. 
<br><dt><kbd>&lt;count&gt;  c&lt;move&gt;</kbd><dd>Change from begin to endpoint of &lt;count&gt;&lt;move&gt;. 
<br><dt><kbd>&lt;count&gt;  cc</kbd><dd>Change &lt;count&gt; lines. 
<br><dt><kbd>&lt;count&gt;  C</kbd><dd>The rest of the line and &lt;count&gt; &minus; 1 next lines. 
<br><dt><kbd>&lt;count&gt;  =&lt;move&gt;</kbd><dd>Reindent the region described by move. 
<br><dt><kbd>&lt;count&gt;  ~</kbd><dd>Switch lower and upper cases. 
<br><dt><kbd>&lt;count&gt;  J</kbd><dd>Join &lt;count&gt; lines (default 2). 
<br><dt><kbd>:[x,y]s/&lt;pat&gt;/&lt;repl&gt;/&lt;f&gt;</kbd><dd>Substitute (on lines x through y) the pattern
&lt;pat&gt; (default the last pattern) with &lt;repl&gt;.  Useful
flags &lt;f&gt; are `<samp><span class="samp">g</span></samp>' for `<samp><span class="samp">global</span></samp>' (i.e., change every
non-overlapping occurrence of &lt;pat&gt;) and `<samp><span class="samp">c</span></samp>' for
`<samp><span class="samp">confirm</span></samp>' (type `<samp><span class="samp">y</span></samp>' to confirm a particular
substitution, else `<samp><span class="samp">n</span></samp>' ).  Instead of <kbd>/</kbd> any
punctuation CHAR unequal to &lt;space&gt; &lt;tab&gt; and &lt;lf&gt; can be used as
delimiter.

     <p>In Emacs, `<samp><span class="samp">\&amp;</span></samp>' stands for the last matched expression, so
<kbd>s/[ab]+/\&amp;\&amp;/</kbd> will double the string matched by <kbd>[ab]</kbd>. 
Viper doesn't treat `<samp><span class="samp">&amp;</span></samp>' specially, unlike Vi: use `<samp><span class="samp">\&amp;</span></samp>' instead.

     <p>Viper does not parse search patterns and does not expand special symbols
found there (e.g., `<samp><span class="samp">~</span></samp>' is not expanded to the result of the previous
substitution).

     <p>Note: <em>The newline character (inserted as </em><kbd>C-qC-j</kbd><em>)
can be used in &lt;repl&gt;</em>. 
<br><dt><kbd>:[x,y]copy [z]</kbd><dd>Copy text between <kbd>x</kbd> and <kbd>y</kbd> to the position after <kbd>z</kbd>. 
<br><dt><kbd>:[x,y]t [z]</kbd><dd>Same as <kbd>:copy</kbd>. 
<br><dt><kbd>:[x,y]move [z]</kbd><dd>Move text between <kbd>x</kbd> and <kbd>y</kbd> to the position after <kbd>z</kbd>. 
<br><dt><kbd>&amp;</kbd><dd>Repeat latest Ex substitute command, e.g.,
<kbd>:s/wrong/right</kbd>. 
<br><dt><kbd>:x,yp</kbd><dt><kbd>:g/Pat/p</kbd><dt><kbd>:v/Pat/p</kbd><dd>The above commands display certain buffer lines in a
temporary buffer. The first form above displays the buffer lines between
<kbd>x</kbd> and <kbd>y</kbd>. The second displays the lines of the buffer, which
match a given pattern. The third form displays the lines that do <em>not</em>
match the given pattern. 
<br><dt><kbd>#c&lt;move&gt;</kbd><dd>Change upper-case characters in the region to lower-case. 
<br><dt><kbd>#C&lt;move&gt;</kbd><dd>Change lower-case characters in the region to upper-case. 
<br><dt><kbd>#q&lt;move&gt;</kbd><dd>Insert specified string at the beginning of each line in the region
<br><dt><kbd>C-c M-p and C-c M-n</kbd><dd>In Insert and Replace states, these keys are bound to commands that peruse
the history of the text
previously inserted in other insert or replace commands.  By repeatedly typing
<kbd>C-c M-p</kbd> or <kbd>C-c M-n</kbd>, you will cause Viper to
insert these previously used strings one by one. 
When a new string is inserted, the previous one is deleted.

     <p>In Vi state, these keys are bound to functions that peruse the history of
destructive Vi commands. 
See <a href="#Viper-Specials">Viper Specials</a>, for details. 
</dl>
   <a name="index-g_t_0040kbd_007bC_002dc-M_002dp_007d-432"></a><a name="index-g_t_0040kbd_007bC_002dc-M_002dn_007d-433"></a><a name="index-g_t_0040kbd_007b_0023q_003cmove_003e-_007d-434"></a><a name="index-g_t_0040kbd_007b_0023C_003cmove_003e_007d-435"></a><a name="index-g_t_0040kbd_007b_0023c_003cmove_003e_007d-436"></a><a name="index-g_t_0040kbd_007b_0026_007d-437"></a><a name="index-g_t_0040kbd_007b_005c_0026_007d-438"></a><a name="index-g_t_0040kbd_007bEx-substitute_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-439"></a><a name="index-g_t_0040kbd_007bEx-s_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-440"></a><a name="index-g_t_0040kbd_007bEx-copy-_005bz_005d_007d-441"></a><a name="index-g_t_0040kbd_007bEx-t-_005bz_005d_007d-442"></a><a name="index-g_t_0040kbd_007bEx-move-_005bz_005d_007d-443"></a><a name="index-g_t_0040kbd_007bJ_007d-444"></a><a name="index-g_t_0040kbd_007b_007e_007d-445"></a><a name="index-g_t_0040kbd_007b_003d_003cmove_003e_007d-446"></a><a name="index-g_t_0040kbd_007bC_007d-447"></a><a name="index-g_t_0040kbd_007bcc_007d-448"></a><a name="index-g_t_0040kbd_007bc_003cmove_003e_007d-449"></a><a name="index-g_t_0040kbd_007bS_007d-450"></a><a name="index-g_t_0040kbd_007bs_007d-451"></a><a name="index-g_t_0040kbd_007bR_007d-452"></a><a name="index-g_t_0040kbd_007br_003cchar_003e_007d-453"></a>
<div class="node">
<p><hr>
<a name="Search-and-Replace"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Yanking">Yanking</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changing-Text">Changing Text</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.7 Search and Replace</h4>

<p>See <a href="#Groundwork">Groundwork</a>, for Ex address syntax.  See <a href="#Options">Options</a>, to see how to
get literal (non-regular-expression) search and how to stop search from
wrapping around.

     <dl>
<dt><kbd>C-c /</kbd><dd>Toggle case-sensitive search.  With prefix argument, toggle vanilla/regular
expression search. 
<br><dt><kbd>&lt;count&gt;  /&lt;string&gt;</kbd><dd>To the &lt;count&gt;th occurrence of &lt;string&gt;.

     <p>Viper does not parse search patterns and does not expand special symbols
found there (e.g., `<samp><span class="samp">~</span></samp>' is not expanded to the result of the previous
substitution).

     <p>After typing <kbd>/</kbd> or <kbd>?</kbd> all the usual Emacs minibuffer commands, such as
<kbd>M-p</kbd> and <kbd>M-n</kbd> are available. In addition, typing <kbd>C-s</kbd> will
insert the last search string used by the Emacs incremental search command
(which is bound to <kbd>C-s</kbd> everywhere except in this case).

     <br><dt><kbd>&lt;count&gt;  ?&lt;string&gt;</kbd><dd>To the &lt;count&gt;th previous occurrence of &lt;string&gt;. 
<br><dt><kbd>&lt;count&gt;  g&lt;move&gt;</kbd><dd>Search for the text described by move.  (off by default)
<br><dt><kbd>n</kbd><dd>Repeat latest <kbd>/</kbd> <kbd>?</kbd> (next). 
<br><dt><kbd>N</kbd><dd>Idem in opposite direction. 
<br><dt><kbd>%</kbd><dd>Find the next bracket and go to its match
<br><dt><kbd>:[x,y]g/&lt;string&gt;/&lt;cmd&gt;</kbd><dd><a name="index-text-processing-454"></a>Search globally [from line x to y] for &lt;string&gt;
and execute the Ex &lt;cmd&gt; on each occurrence. 
<br><dt><kbd>:[x,y]v/&lt;string&gt;/&lt;cmd&gt;</kbd><dd>Execute &lt;cmd&gt; on the lines that don't match. 
<br><dt><kbd>#g&lt;move&gt;</kbd><dd>Execute the last keyboard macro for each line in the region. 
See <a href="#Macros-and-Registers">Macros and Registers</a>, for more info. 
<br><dt><kbd>Q</kbd><dd>Query Replace. 
<br><dt><kbd>:ta &lt;name&gt;</kbd><dd>Search in the tags file where &lt;name&gt; is defined (file, line), and go to it. 
<br><dt><kbd>:[x,y]s/&lt;pat&gt;/&lt;repl&gt;/&lt;f&gt;</kbd><dd>Substitute (on lines x through y) the pattern &lt;pat&gt; (default the last
pattern) with &lt;repl&gt;.  Useful
flags &lt;f&gt; are `<samp><span class="samp">g</span></samp>' for `<samp><span class="samp">global</span></samp>' (i.e., change every
non-overlapping occurrence of &lt;pat&gt;) and `<samp><span class="samp">c</span></samp>' for
`<samp><span class="samp">confirm</span></samp>' (type `<samp><span class="samp">y</span></samp>' to confirm a particular
substitution, else `<samp><span class="samp">n</span></samp>').  Instead of <kbd>/</kbd> any
punctuation character other than &lt;space&gt; &lt;tab&gt; and &lt;lf&gt; can be used as
delimiter.

     <p>Note: <em>The newline character (inserted as </em><kbd>C-qC-j</kbd><em>)
can be used in &lt;repl&gt;</em>. 
<br><dt><kbd>&amp;</kbd><dd>Repeat latest Ex substitute command, e.g., <kbd>:s/wrong/right</kbd>. 
<br><dt><kbd>:global /&lt;pattern&gt;/&lt;ex-command&gt;</kbd><dt><kbd>:g /&lt;pattern&gt;/&lt;ex-command&gt;</kbd><dd>Execute &lt;ex-command&gt; on all lines that match &lt;pattern&gt;. 
<br><dt><kbd>:vglobal /&lt;pattern&gt;/&lt;ex-command&gt;</kbd><dt><kbd>:v /&lt;pattern&gt;/&lt;ex-command&gt;</kbd><dd>Execute &lt;ex-command&gt; on all lines that do not match &lt;pattern&gt;. 
</dl>
   <a name="index-g_t_0040kbd_007b_0026_007d-455"></a><a name="index-g_t_0040kbd_007bEx-substitute_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-456"></a><a name="index-g_t_0040kbd_007bQ_007d-457"></a><a name="index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-458"></a><a name="index-g_t_0040kbd_007bEx-v_007d-459"></a><a name="index-g_t_0040kbd_007bEx-g_007d-460"></a><a name="index-g_t_0040kbd_007bEx-global_007d-461"></a><a name="index-g_t_0040kbd_007bEx-vglobal_007d-462"></a><a name="index-g_t_0040kbd_007bEx-tag-_003cname_003e_007d-463"></a><a name="index-g_t_0040kbd_007b_0025_007d-464"></a><a name="index-g_t_0040kbd_007bN_007d-465"></a><a name="index-g_t_0040kbd_007bn_007d-466"></a><a name="index-g_t_0040kbd_007bg_003cmove_003e_007d-467"></a><a name="index-g_t_0040kbd_007b_003f_003cstring_003e_007d-468"></a><a name="index-g_t_0040kbd_007b_002f_003cstring_003e_007d-469"></a>
<div class="node">
<p><hr>
<a name="Yanking"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Undoing">Undoing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Search-and-Replace">Search and Replace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.8 Yanking</h4>

<p><a name="index-cut-and-paste-470"></a><a name="index-paste-471"></a>
     <dl>
<dt><kbd>&lt;count&gt;  y&lt;move&gt;</kbd><dd>Yank from begin to endpoint of &lt;count&gt;&lt;move&gt;. 
<br><dt><kbd>&lt;count&gt;  "&lt;a-z&gt;y&lt;move&gt;</kbd><dd>Yank from begin to endpoint of &lt;count&gt;&lt;move&gt; to register. 
<br><dt><kbd>&lt;count&gt;  "&lt;A-Z&gt;y&lt;move&gt;</kbd><dd>Yank from begin to endpoint of &lt;count&gt;&lt;move&gt; and append
to register. 
<br><dt><kbd>&lt;count&gt;  yy</kbd><dd>&lt;count&gt; lines. 
<br><dt><kbd>&lt;count&gt;  Y</kbd><dd>Idem (should be equivalent to <kbd>y$</kbd> though). 
<br><dt><kbd>m&lt;a-z&gt;</kbd><dd>Mark the cursor position with a letter. 
<br><dt><kbd>[&lt;a-z&gt;</kbd><dd>Show contents of textmarker. 
<br><dt><kbd>]&lt;a-z&gt;</kbd><dd>Show contents of register. 
<br><dt><kbd>&lt;count&gt;  ["&lt;a-z1-9&gt;]p</kbd><dd>Put the contents of the (default undo) buffer
&lt;count&gt; times after the cursor.  The register will
be automatically down-cased. 
<br><dt><kbd>&lt;count&gt;  ["&lt;a-z1-9&gt;]P</kbd><dd>Put the contents of the (default undo) buffer
&lt;count&gt; times before the cursor.  The register will
</dl>
   <a name="index-g_t_0040kbd_007bP_007d-472"></a><a name="index-g_t_0040kbd_007bp_007d-473"></a><a name="index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003ep_007d-474"></a><a name="index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003eP_007d-475"></a><a name="index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-476"></a><a name="index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-477"></a><a name="index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-478"></a><a name="index-g_t_0040kbd_007bY_007d-479"></a><a name="index-g_t_0040kbd_007byy_007d-480"></a><a name="index-g_t_0040kbd_007b_0022_003cA_002dZ_003ey_003cmove_003e_007d-481"></a><a name="index-g_t_0040kbd_007b_0022_003ca_002dz_003ey_003cmove_003e_007d-482"></a><a name="index-g_t_0040kbd_007by_003cmove_003e_007d-483"></a><a name="index-g_t_0040kbd_007byank_007d-484"></a><a name="index-g_t_0040kbd_007bEx-yank_007d-485"></a>
<div class="node">
<p><hr>
<a name="Undoing"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Yanking">Yanking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Text-Handling">Text Handling</a>

</div>

<h4 class="subsection">4.2.9 Undoing</h4>

<p><a name="index-undo-486"></a><a name="index-backup-files-487"></a>
     <dl>
<dt><kbd>u U</kbd><dd>Undo the latest change. 
<br><dt><kbd>.</kbd><dd>Repeat undo. 
<br><dt><kbd>:q!</kbd><dd>Quit Vi without writing. 
<br><dt><kbd>:e!</kbd><dd>Re-edit a messed-up file. 
<br><dt><kbd>:rec</kbd><dd>Recover file from autosave.  Viper also creates backup files
that have a `<samp><span class="samp">~</span></samp>' appended to them. 
</dl>
   <a name="index-g_t_0040kbd_007bEx-rec_007d-488"></a><a name="index-g_t_0040kbd_007bEx-e_0021_007d-489"></a><a name="index-g_t_0040kbd_007bEx-q_0021_007d-490"></a><a name="index-g_t_0040kbd_007b_002e_007d-491"></a><a name="index-g_t_0040kbd_007bU_007d-492"></a><a name="index-g_t_0040kbd_007bu_007d-493"></a>
<div class="node">
<p><hr>
<a name="Display"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#File-and-Buffer-Handling">File and Buffer Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Text-Handling">Text Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.3 Display</h3>

<p><a name="index-scrolling-494"></a>
     <dl>
<dt><kbd>C-g</kbd><dd>At user level 1,
give file name, status, current line number
and relative position.<br>
At user levels 2 and higher, abort the current command. 
<br><dt><kbd>C-c g</kbd><dd>Give file name, status, current line number and relative position&mdash;all
user levels. 
<br><dt><kbd>C-l</kbd><dd>Refresh the screen. 
<br><dt><kbd>&lt;count&gt; C-e</kbd><dd>Expose &lt;count&gt; more lines at bottom, cursor stays put (if possible). 
<br><dt><kbd>&lt;count&gt; C-y</kbd><dd>Expose &lt;count&gt; more lines at top, cursor stays put (if possible). 
<br><dt><kbd>&lt;count&gt; C-d</kbd><dd>Scroll &lt;count&gt; lines downward (default the number of the previous scroll;
initialization: half a page). 
<br><dt><kbd>&lt;count&gt; C-u</kbd><dd>Scroll &lt;count&gt; lines upward (default the number of the previous scroll;
initialization: half a page). 
<br><dt><kbd>&lt;count&gt; C-f</kbd><dd>&lt;count&gt; pages forward. 
<br><dt><kbd>&lt;count&gt; C-b</kbd><dd>&lt;count&gt; pages backward (in older versions <kbd>C-b</kbd> only works without count). 
<br><dt><kbd>&lt;count&gt; z&lt;cr&gt;</kbd><br><dt><kbd>zH</kbd><dd>Put line &lt;count&gt; at the top of the window (default the current line). 
<br><dt><kbd>&lt;count&gt; z-</kbd><br><dt><kbd>zL</kbd><dd>Put line &lt;count&gt; at the bottom of the window
(default the current line). 
<br><dt><kbd>&lt;count&gt; z.</kbd><br><dt><kbd>zM</kbd><dd>Put line &lt;count&gt; in the center of the window
(default the current line). 
</dl>
   <a name="index-g_t_0040kbd_007bzM_007d-495"></a><a name="index-g_t_0040kbd_007bzL_007d-496"></a><a name="index-g_t_0040kbd_007bzH_007d-497"></a><a name="index-g_t_0040kbd_007bz_003ccr_003e_007d-498"></a><a name="index-g_t_0040kbd_007bz_002e_007d-499"></a><a name="index-g_t_0040kbd_007bz_002d_007d-500"></a><a name="index-g_t_0040kbd_007bz_003ccr_003e_007d-501"></a><a name="index-g_t_0040kbd_007bC_002db_007d-502"></a><a name="index-g_t_0040kbd_007bC_002df_007d-503"></a><a name="index-g_t_0040kbd_007bC_002du_007d-504"></a><a name="index-g_t_0040kbd_007bC_002dd_007d-505"></a><a name="index-g_t_0040kbd_007bC_002dy_007d-506"></a><a name="index-g_t_0040kbd_007bC_002de_007d-507"></a><a name="index-g_t_0040kbd_007bC_002dl_007d-508"></a><a name="index-g_t_0040kbd_007bC_002dg_007d-509"></a>

<div class="node">
<p><hr>
<a name="File-and-Buffer-Handling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mapping">Mapping</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Display">Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.4 File and Buffer Handling</h3>

<p><a name="index-multiple-files-510"></a>
In all file handling commands, space should be typed before entering the file
name.  If you need to type a modifier, such as <kbd>&gt;&gt;</kbd> or <kbd>!</kbd>, don't
put any space between the command and the modifier.

   <p>Note that many Ex commands, e.g., <kbd>:w</kbd>, accept command arguments. The
effect is that the command would start acting on the current region. For
instance, if the current region spans the lines 11 through 22, then if you
type <kbd>1:w</kbd> you would see `<samp><span class="samp">:11,22w</span></samp>' in the minibuffer.

     <dl>
<dt><kbd>:q</kbd><dd>Quit buffer except if modified. 
<br><dt><kbd>:q!</kbd><dd>Quit buffer without checking.  In Viper, these two commands
are identical.  Confirmation is required if exiting modified buffers that
visit files. 
<br><dt><kbd>:suspend</kbd><br><dt><kbd>:stop</kbd><dd>Suspend Viper
<br><dt><kbd>:[x,y] w</kbd><dd>Write the file.  Viper makes sure that a final newline is always added to
any file where this newline is missing.  This is done by setting Emacs
variable <code>require-final-newline</code> to <code>t</code>.  If you don't like this
feature, use <code>setq-default</code> to set <code>require-final-newline</code> to
<code>nil</code>.  This must be done in the Viper customization file. 
<br><dt><kbd>:[x,y] w &lt;name&gt;</kbd><dd>Write to the file &lt;name&gt;. 
<br><dt><kbd>:[x,y] w&gt;&gt; &lt;name&gt;</kbd><dd>Append the buffer to the file &lt;name&gt;.  There should be no space between
<kbd>w</kbd> and <kbd>&gt;&gt;</kbd>.  Type space after the <kbd>&gt;&gt;</kbd> and see what happens. 
<br><dt><kbd>:w! &lt;name&gt;</kbd><dd>Overwrite the file &lt;name&gt;.  In Viper, <kbd>:w</kbd> and <kbd>:w!</kbd> are identical. 
Confirmation is required for writing to an existing file (if this is not
the file the buffer is visiting) or to a read-only file. 
<br><dt><kbd>:x,y w &lt;name&gt;</kbd><dd>Write lines x through y to the file &lt;name&gt;. 
<br><dt><kbd>:wq</kbd><dd>Write the file and kill buffer. 
<br><dt><kbd>:r &lt;file&gt; [&lt;file&gt; ...]</kbd><dd>Read file into a buffer, inserting its contents after the current line. 
<br><dt><kbd>:xit</kbd><dd>Same as <kbd>:wq</kbd>. 
<br><dt><kbd>:Write</kbd><dt><kbd>:W</kbd><dd>Save all unsaved buffers, asking for confirmation. 
<br><dt><kbd>:WWrite</kbd><dt><kbd>:WW</kbd><dd>Like <kbd>W</kbd>, but without asking for confirmation. 
<br><dt><kbd>ZZ</kbd><dd>Save current buffer and kill it.  If user level is 1, then save all files
and kill Emacs.  Killing Emacs is the wrong way to use it, so you should
switch to higher user levels as soon as possible. 
<br><dt><kbd>:x [&lt;file&gt;]</kbd><dd>Save and kill buffer. 
<br><dt><kbd>:x! [&lt;file&gt;]</kbd><dd><kbd>:w![&lt;file&gt;]</kbd> and <kbd>:q</kbd>. 
<br><dt><kbd>:pre</kbd><dd>Preserve the file&mdash;autosave buffers. 
<br><dt><kbd>:rec</kbd><dd>Recover file from autosave. 
<br><dt><kbd>:f [&lt;file&gt;]</kbd><dd>without the argument, prints file name and character/line information afout
the currently visited file. With an argument, sets the currently visited
filename to <samp><span class="file">file</span></samp>. 
<br><dt><kbd>:cd [&lt;dir&gt;]</kbd><dd>Set the working directory to &lt;dir&gt; (default home directory). 
<br><dt><kbd>:pwd</kbd><dd>Print present working directory. 
<br><dt><kbd>:e [+&lt;cmd&gt;] &lt;files&gt;</kbd><dd>Edit files.  If no filename is given, edit the file visited by the current
buffer.  If buffer was modified or the file changed on disk, ask for
confirmation.  Unlike Vi, Viper allows <kbd>:e</kbd> to take multiple arguments. 
The first file is edited the same way as in Vi.  The rest are visited
in the usual Emacs way. 
<br><dt><kbd>:e! [+&lt;cmd&gt;] &lt;files&gt;</kbd><dd>Re-edit file.  If no filename, re-edit current file. 
In Viper, unlike Vi, <kbd>e!</kbd> is identical to <kbd>:e</kbd>.  In both cases, the
user is asked to confirm if there is a danger of discarding changes to a
buffer. 
<br><dt><kbd>:q!</kbd><dd>Quit Vi without writing. 
<br><dt><kbd>C-^</kbd><dd>Edit the alternate (normally the previous) file. 
<br><dt><kbd>:rew</kbd><dd>Obsolete
<br><dt><kbd>:args</kbd><dd>List files not shown anywhere with counts for next
<br><dt><kbd>:n [count]  [+&lt;cmd&gt;] [&lt;files&gt;]</kbd><dd>Edit &lt;count&gt; file, or edit files.  The count comes from <kbd>:args</kbd>. 
<br><dt><kbd>:N [count] [+&lt;cmd&gt;] [&lt;files&gt;]</kbd><dd>Like <kbd>:n</kbd>, but the meaning of the variable
<var>ex-cycle-other-window</var> is reversed. 
<br><dt><kbd>:b</kbd><dd>Switch to another buffer.  If <var>ex-cycle-other-window</var> is <code>t</code>,
switch in another window.  Buffer completion is supported. 
The variable <var>viper-read-buffer-function</var> controls which function is
actually used to read the buffer name. The default is <code>read-buffer</code>,
but better alternatives are also available in Emacs (e.g.,
<code>ido-read-buffer</code>). 
<a name="index-g_t_0040var_007bviper_002dread_002dbuffer_002dfunction_007d-511"></a><br><dt><kbd>:B</kbd><dd>Like <kbd>:b</kbd>, but the meaning of <var>ex-cycle-other-window</var> is reversed. 
<br><dt><kbd>:&lt;address&gt;r &lt;name&gt;</kbd><dd>Read the file &lt;name&gt; into the buffer after the line &lt;address&gt;. 
<br><dt><kbd>v, V, C-v</kbd><dd>Edit a file in current or another window, or in another frame.  File name
is typed in minibuffer.  File completion and history are supported. 
</dl>
   <a name="index-g_t_0040kbd_007bv_007d-512"></a><a name="index-g_t_0040kbd_007bV_007d-513"></a><a name="index-g_t_0040kbd_007bEx-args_007d-514"></a><a name="index-g_t_0040kbd_007bEx-rew_007d-515"></a><a name="index-g_t_0040kbd_007bC_002d_005e_007d-516"></a><a name="index-g_t_0040kbd_007bEx-e_0021_0040_003a-_005b_003cfiles_003e_005d_007d-517"></a><a name="index-g_t_0040kbd_007bEx-e-_005b_003cfiles_003e_005d_007d-518"></a><a name="index-g_t_0040kbd_007bEx-edit-_005b_003cfiles_003e_005d_007d-519"></a><a name="index-g_t_0040kbd_007bEx-edit_0021_0040_003a-_005b_003cfiles_003e_005d_007d-520"></a><a name="index-g_t_0040kbd_007bEx-q_0021_007d-521"></a><a name="index-g_t_0040kbd_007bEx-q_007d-522"></a><a name="index-g_t_0040kbd_007bEx-quit_007d-523"></a><a name="index-g_t_0040kbd_007bEx-quit_0021_007d-524"></a><a name="index-g_t_0040kbd_007bEx-f_007d-525"></a><a name="index-g_t_0040kbd_007bEx-rec_007d-526"></a><a name="index-g_t_0040kbd_007bEx-r_007d-527"></a><a name="index-g_t_0040kbd_007bEx-read_007d-528"></a><a name="index-g_t_0040kbd_007bEx-pre_007d-529"></a><a name="index-g_t_0040kbd_007bZZ_007d-530"></a><a name="index-g_t_0040kbd_007bEx-wq_007d-531"></a><a name="index-g_t_0040kbd_007bEx-w-_003cfile_003e_007d-532"></a><a name="index-g_t_0040kbd_007bEx-w_0021_0040_003a-_003cfile_003e_007d-533"></a><a name="index-g_t_0040kbd_007bEx-w-_003e_003e-_003cfile_003e_007d-534"></a><a name="index-g_t_0040kbd_007bEx-write-_003cfile_003e_007d-535"></a><a name="index-g_t_0040kbd_007bEx-write_0021_0040_003a-_003cfile_003e_007d-536"></a><a name="index-g_t_0040kbd_007bEx-write-_003e_003e-_003cfile_003e_007d-537"></a><a name="index-g_t_0040kbd_007bEx-W_007d-538"></a><a name="index-g_t_0040kbd_007bEx-WW_007d-539"></a><a name="index-g_t_0040kbd_007bEx-Write_007d-540"></a><a name="index-g_t_0040kbd_007bEx-WWrite_007d-541"></a><a name="index-g_t_0040kbd_007bEx-WWrite_007d-542"></a><a name="index-g_t_0040kbd_007bEx-x_007d-543"></a><a name="index-g_t_0040kbd_007bEx-x_0021_007d-544"></a><a name="index-g_t_0040kbd_007bEx-suspend_007d-545"></a><a name="index-g_t_0040kbd_007bEx-stop_007d-546"></a><a name="index-g_t_0040kbd_007bEx-n-_005b_003ccount_003e-_007c-_003cfile_003e_005d_007d-547"></a><a name="index-g_t_0040kbd_007bEx-cd-_005b_003cdir_003e_005d_007d-548"></a><a name="index-g_t_0040kbd_007bEx-pwd_007d-549"></a>
<div class="node">
<p><hr>
<a name="Mapping"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shell-Commands">Shell Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#File-and-Buffer-Handling">File and Buffer Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.5 Mapping</h3>

<p><a name="index-key-bindings-550"></a><a name="index-key-mapping-551"></a>
     <dl>
<dt><kbd>:map &lt;string&gt;</kbd><dd>Start defining a Vi-style keyboard macro. 
For instance, typing
<kbd>:map www</kbd> followed by <kbd>:!wc %</kbd> and then typing <kbd>C-x )</kbd>
will cause <kbd>www</kbd> to run wc on
current file (Vi replaces `<samp><span class="samp">%</span></samp>' with the current file name). 
<br><dt><kbd>C-x )</kbd><dd>Finish defining a keyboard macro. 
In Viper, this command completes the process of defining all keyboard
macros, whether they are Emacs-style or Vi-style. 
This is a departure from Vi, needed to allow WYSIWYG mapping of
keyboard macros and to permit the use of function keys and arbitrary Emacs
functions in the macros. 
<br><dt><kbd>:unmap &lt;string&gt;</kbd><dd>Deprive &lt;string&gt; of its mappings in Vi state. 
<br><dt><kbd>:map! &lt;string&gt;</kbd><dd>Map a macro for Insert state. 
<br><dt><kbd>:unmap! &lt;string&gt;</kbd><dd>Deprive &lt;string&gt; of its mapping in Insert state (see <kbd>:unmap</kbd>). 
<br><dt><kbd>@&lt;a-z&gt;</kbd><dd>In Vi state,
execute the contents of register as a command. 
<br><dt><kbd>@@</kbd><dd>In Vi state,
repeat last register command. 
<br><dt><kbd>@#</kbd><dd>In Vi state,
begin keyboard macro.  End with @&lt;a-z&gt;.  This will
put the macro in the proper register.  Register will
be automatically down-cased. 
See <a href="#Macros-and-Registers">Macros and Registers</a>, for more info. 
<br><dt><kbd>@!&lt;a-z&gt;</kbd><dd>In Vi state,
yank anonymous macro to register
<br><dt><kbd>*</kbd><dd>In Vi state,
execute anonymous macro (defined by C-x( and C-x )). 
<br><dt><kbd>C-x e</kbd><dd>Like <kbd>*</kbd>, but works in all Viper states. 
<br><dt><kbd>#g&lt;move&gt;</kbd><dd>Execute the last keyboard macro for each line in the region. 
See <a href="#Macros-and-Registers">Macros and Registers</a>, for more info. 
<br><dt><kbd>[&lt;a-z&gt;</kbd><dd>Show contents of textmarker. 
<br><dt><kbd>]&lt;a-z&gt;</kbd><dd>Show contents of register. 
</dl>
   <a name="index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-552"></a><a name="index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-553"></a><a name="index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-554"></a><a name="index-g_t_0040kbd_007b_002a_007d-555"></a><a name="index-g_t_0040kbd_007b_0040_0040_0021_003ca_002dz_003e_007d-556"></a><a name="index-g_t_0040kbd_007b_0040_0040_0023_007d-557"></a><a name="index-g_t_0040kbd_007b_0040_0040_0040_0040_007d-558"></a><a name="index-g_t_0040kbd_007b_0040_0040_003ca_002dz_003e_007d-559"></a><a name="index-g_t_0040kbd_007bEx-unmap-_003cchar_003e_007d-560"></a><a name="index-g_t_0040kbd_007bEx-map-_003cchar_003e-_003cseq_003e_007d-561"></a><a name="index-g_t_0040kbd_007bEx-unmap_0021_0040_003a-_003cchar_003e_007d-562"></a><a name="index-g_t_0040kbd_007bEx-map_0021_0040_003a-_003cchar_003e-_003cseq_003e_007d-563"></a>
<div class="node">
<p><hr>
<a name="Shell-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Options">Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mapping">Mapping</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.6 Shell Commands</h3>

<p><a name="index-g_t_0025-_0028Current-file_0029-564"></a>
The symbol `<samp><span class="samp">%</span></samp>' is used in Ex shell commands to mean current file.  If
you want a `<samp><span class="samp">%</span></samp>' in your command, it must be escaped as `<samp><span class="samp">\%</span></samp>'. 
<a name="index-g_t_0040samp_007b_0025_007d-_0028Ex-address_0029-565"></a>However if `<samp><span class="samp">%</span></samp>' is the first character, it stands as the address for
the whole file. 
<a name="index-g_t_0040samp_007b_0023_007d-_0028Previous-file_0029-566"></a>Similarly, `<samp><span class="samp">#</span></samp>' expands to the previous file.  The previous file is the
first file in <kbd>:args</kbd> listing.  This defaults to the previous file in
the VI sense if you have one window.

   <p>Symbols `<samp><span class="samp">%</span></samp>' and `<samp><span class="samp">#</span></samp>' are also used in the Ex commands <kbd>:e</kbd> and
<kbd>:r &lt;shell-cmd&gt;</kbd>.  The commands <kbd>:w</kbd> and the regular <kbd>:r
&lt;file&gt;</kbd> command don't support these meta symbols, because file history is a
better mechanism.

   <p><a name="index-shell-commands-567"></a>
     <dl>
<dt><kbd>:sh</kbd><dd>Execute a subshell in another window
<br><dt><kbd>:[x,y]!&lt;cmd&gt;</kbd><dd>Execute a shell &lt;cmd&gt; [on lines x through y;
% is replace by current file, \% is changed to %
<br><dt><kbd>:[x,y]!! [&lt;args&gt;]</kbd><dd>Repeat last shell command [and append &lt;args&gt;]. 
<br><dt><kbd>:!&lt;cmd&gt;</kbd><dd>Just execute command and display result in a buffer. 
<br><dt><kbd>:!! &lt;args&gt;</kbd><dd>Repeat last shell command and append &lt;args&gt;
<br><dt><kbd>&lt;count&gt; !&lt;move&gt;&lt;cmd&gt;</kbd><dd>The shell executes &lt;cmd&gt;, with standard
input the lines described by &lt;count&gt;&lt;move&gt;,
next the standard output replaces those lines
(think of `<samp><span class="samp">cb</span></samp>', `<samp><span class="samp">sort</span></samp>', `<samp><span class="samp">nroff</span></samp>', etc.). 
<br><dt><kbd>&lt;count&gt; !!&lt;cmd&gt;</kbd><dd>Give &lt;count&gt; lines as standard input to the
shell &lt;cmd&gt;, next let the standard output
replace those lines. 
<br><dt><kbd>:[x,y] w !&lt;cmd&gt;</kbd><dd>Let lines x to y be standard input for &lt;cmd&gt;
(notice the &lt;sp&gt; between <kbd>w</kbd> and <kbd>!</kbd>). 
<br><dt><kbd>:&lt;address&gt;r !&lt;cmd&gt;</kbd><dd>Put the output of &lt;cmd&gt; after the line &lt;address&gt; (default current). 
<br><dt><kbd>:&lt;address&gt;r &lt;name&gt;</kbd><dd>Read the file &lt;name&gt; into the buffer after the line &lt;address&gt; (default
current). 
<br><dt><kbd>:make</kbd><dd>Run the make command in the current directory. 
</dl>
   <a name="index-g_t_0040kbd_007bEx-_003caddress_003er-_003cname_003e_007d-568"></a><a name="index-g_t_0040kbd_007bEx-_003caddress_003er-_0021_003ccmd_003e_007d-569"></a><a name="index-g_t_0040kbd_007b_0021_003ccmd_003e_007d-570"></a><a name="index-g_t_0040kbd_007b_0021_0021_003ccmd_003e_007d-571"></a><a name="index-g_t_0040kbd_007b_0021_003cmove_003e_003ccmd_003e_007d-572"></a><a name="index-g_t_0040kbd_007bEx-w-_0021_003ccmd_003e_007d-573"></a><a name="index-g_t_0040kbd_007bEx-x_002cy-w-_0021_003ccmd_003e_007d-574"></a><a name="index-g_t_0040kbd_007bEx-_0021_0021_0040_003a-_003cargs_003e_007d-575"></a><a name="index-g_t_0040kbd_007bEx-_0021_003ccmd_003e_007d-576"></a><a name="index-g_t_0040kbd_007bEx-sh_007d-577"></a><a name="index-g_t_0040kbd_007bEx-make_007d-578"></a>
<div class="node">
<p><hr>
<a name="Options"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Emacs-Related-Commands">Emacs Related Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shell-Commands">Shell Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.7 Options</h3>

<p><a name="index-Vi-options-579"></a>
     <dl>
<dt><kbd>autoindent</kbd><dt><kbd>ai</kbd><dd><a name="index-autoindent-580"></a>autoindent: In append mode after a &lt;cr&gt; the
cursor will move directly below the first
character on the previous line. 
This setting affects the current buffer only. 
<br><dt><kbd>autoindent-global</kbd><dt><kbd>ai-global</kbd><dd>Same as <code>autoindent</code>, but affects all buffers. 
<br><dt><kbd>noautoindent</kbd><dt><kbd>noai</kbd><dd>Cancel autoindent. 
<br><dt><kbd>noautoindent-global</kbd><dt><kbd>noai-g</kbd><dd>Cancel autoindent-global. 
<br><dt><kbd>ignorecase</kbd><dt><kbd>ic</kbd><dd><a name="index-case-and-searching-581"></a>ignorecase: No distinction between upper and lower cases when searching. 
<br><dt><kbd>noignorecase</kbd><dt><kbd>noic</kbd><dd>Cancel ignorecase. 
<br><dt><kbd>magic</kbd><dt><kbd>ma</kbd><dd><a name="index-literal-searching-582"></a>Regular expressions used in searches; nomagic means no regexps. 
<br><dt><kbd>nomagic</kbd><br><dt><kbd>noma</kbd><dd>Cancel magic. 
<br><dt><kbd>readonly</kbd><dt><kbd>ro</kbd><dd><a name="index-readonly-files-583"></a>readonly: The file is not to be changed. 
If the user attempts to write to this file, confirmation will be requested. 
<br><dt><kbd>noreadonly</kbd><dt><kbd>noro</kbd><dd>Cancel readonly. 
<br><dt><kbd>shell=&lt;string&gt;</kbd><dt><kbd>sh=&lt;string&gt;</kbd><dd><a name="index-shell-584"></a>shell: The program to be used for shell escapes
(default `<samp><span class="samp">$SHELL</span></samp>' (default <samp><span class="file">/bin/sh</span></samp>)). 
<br><dt><kbd>shiftwidth=&lt;count&gt;</kbd><dt><kbd>sw=&lt;count&gt;</kbd><dd><a name="index-layout-585"></a><a name="index-shifting-text-586"></a>shiftwidth: Gives the shiftwidth (default 8 positions). 
<br><dt><kbd>showmatch</kbd><dt><kbd>sm</kbd><dd><a name="index-paren-matching-587"></a><a name="index-matching-parens-588"></a>showmatch: Whenever you append a <kbd>)</kbd>, Vi shows
its match if it's on the same page; also with
<kbd>{</kbd> and <kbd>}</kbd>.  If there's no match, Vi will beep. 
<br><dt><kbd>noshowmatch</kbd><dt><kbd>nosm</kbd><dd>Cancel showmatch. 
<br><dt><kbd>tabstop=&lt;count&gt;</kbd><dt><kbd>ts=&lt;count&gt;</kbd><dd><a name="index-changing-tab-width-589"></a><a name="index-tabbing-590"></a>tabstop: The length of a &lt;ht&gt;; warning: this is
only IN the editor, outside of it &lt;ht&gt;s have
their normal length (default 8 positions). 
This setting affects the current buffer only. 
<br><dt><kbd>tabstop-global</kbd><dt><kbd>ts-g</kbd><dd>Same as <code>tabstop</code>, but affects all buffers. 
<br><dt><kbd>wrapmargin=&lt;count&gt;</kbd><dt><kbd>wm=&lt;count&gt;</kbd><dd><a name="index-auto-fill-591"></a><a name="index-word-wrap-592"></a>wrapmargin: In append mode Vi automatically
puts a &lt;lf&gt; whenever there is a &lt;sp&gt; or &lt;ht&gt;
within &lt;wm&gt; columns from the right margin. 
<br><dt><kbd>wrapscan</kbd><dt><kbd>ws</kbd><dd><a name="index-searching-593"></a>wrapscan: When searching, the end is
considered `<samp><span class="samp">stuck</span></samp>' to the begin of the file. 
<br><dt><kbd>nowrapscan</kbd><dt><kbd>nows</kbd><dd>Cancel wrapscan. 
<br><dt><kbd>:set &lt;option&gt;</kbd><dd>Turn &lt;option&gt; on. 
<br><dt><kbd>:set no&lt;option&gt;</kbd><dd>Turn &lt;option&gt; off. 
<br><dt><kbd>:set &lt;option&gt;=&lt;value&gt;</kbd><dd>Set &lt;option&gt; to &lt;value&gt;. 
</dl>
   <a name="index-g_t_0040kbd_007bEx-set-_003coption_003e_003d_003cvalue_003e_007d-594"></a><a name="index-g_t_0040kbd_007bEx-set-no_003coption_003e_007d-595"></a><a name="index-g_t_0040kbd_007bEx-set-_003coption_003e_007d-596"></a><a name="index-g_t_0040kbd_007bEx-set-ws_007d-597"></a><a name="index-g_t_0040kbd_007bEx-set-wrapscan_007d-598"></a><a name="index-g_t_0040kbd_007bEx-set-wm_003d_003ccount_003e_007d-599"></a><a name="index-g_t_0040kbd_007bEx-set-wrapmargin_003d_003ccount_003e_007d-600"></a><a name="index-g_t_0040kbd_007bEx-set-ts_003d_003ccount_003e_007d-601"></a><a name="index-g_t_0040kbd_007bEx-set-tabstop_003d_003ccount_003e_007d-602"></a><a name="index-g_t_0040kbd_007bEx-set-tab_002dstop_002dlocal_003d_003ccount_003e_007d-603"></a><a name="index-g_t_0040kbd_007bEx-set-sm_007d-604"></a><a name="index-g_t_0040kbd_007bEx-set-showmatch_007d-605"></a><a name="index-g_t_0040kbd_007bEx-set-sw_003d_003ccount_003e_007d-606"></a><a name="index-g_t_0040kbd_007bEx-set-shiftwidth_003d_003ccount_003e_007d-607"></a><a name="index-g_t_0040kbd_007bEx-set-sh_003d_003cstring_003e_007d-608"></a><a name="index-g_t_0040kbd_007bEx-set-shell_003d_003cstring_003e_007d-609"></a><a name="index-g_t_0040kbd_007bEx-set-ro_007d-610"></a><a name="index-g_t_0040kbd_007bEx-set-readonly_007d-611"></a><a name="index-g_t_0040kbd_007bEx-set-magic_007d-612"></a><a name="index-g_t_0040kbd_007bEx-set-ic_007d-613"></a><a name="index-g_t_0040kbd_007bEx-set-ignorecase_007d-614"></a><a name="index-g_t_0040kbd_007bEx-set-ai_007d-615"></a><a name="index-g_t_0040kbd_007bEx-set-autoindent_007d-616"></a>
<div class="node">
<p><hr>
<a name="Emacs-Related-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mouse_002dbound-Commands">Mouse-bound Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Options">Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.8 Emacs Related Commands</h3>

     <dl>
<dt><kbd>C-\</kbd><dd>Begin Meta command in Vi or Insert states.  Most often used as C-\ x (M-x).

     <p>Note: Emacs binds <kbd>C-\</kbd> to a function that offers to change the
keyboard input method in the multilingual environment.  Viper overrides this
binding.  However, it is still possible to switch the input method by typing
<kbd>\ C-\</kbd> in the Vi command state and <kbd>C-z \ C-\</kbd> in the Insert state. 
Or you can use the MULE menu on the menubar. 
<br><dt><kbd>C-z</kbd><dd>In Insert and Replace states, prepare Viper to accept the next command and
execute it as if Viper was in Vi state.  Then return to Insert state.

     <p>In Vi state, switch to Emacs state; in Emacs state, switch to Vi state. 
<br><dt><kbd>C-c \</kbd><dd>Switches to Vi state for the duration of a single command.  Then goes back
to the original Viper state.  Works from Vi, Insert, Replace, and Emacs states. 
<br><dt><kbd>C-x0</kbd><dd>Close Window
<br><dt><kbd>C-x1</kbd><dd>Close Other Windows
<br><dt><kbd>C-x2</kbd><dd>Split Window
<br><dt><kbd>C-xo</kbd><dd>Move among windows
<br><dt><kbd>C-xC-f</kbd><dd>Emacs find-file, useful in Insert state
<br><dt><kbd>C-y</kbd><dd>Put back the last killed text.  Similar to Vi's <kbd>p</kbd>, but also works in
Insert and Replace state.  This command doesn't work in Vi command state,
since this binding is taken for something else. 
<br><dt><kbd>M-y</kbd><dd>Undoes the last <kbd>C-y</kbd> and puts another kill from the kill ring. 
Using this command, you can try may different kills until you find the one
you need. 
</dl>
<a name="index-g_t_0040kbd_007bM_002dy_007d-617"></a><a name="index-g_t_0040kbd_007bC_002dy_007d-618"></a><a name="index-g_t_0040kbd_007bC_002dxC_002df_007d-619"></a><a name="index-g_t_0040kbd_007bC_002dxo_007d-620"></a><a name="index-g_t_0040kbd_007bC_002dx2_007d-621"></a><a name="index-g_t_0040kbd_007bC_002dx1_007d-622"></a><a name="index-g_t_0040kbd_007bC_002dx0_007d-623"></a><a name="index-g_t_0040kbd_007bC_002dz_007d-624"></a><a name="index-g_t_0040kbd_007bC_002d_005c_007d-625"></a><a name="index-g_t_0040kbd_007bC_002dc_005c_007d-626"></a>
<div class="node">
<p><hr>
<a name="Mouse-bound-Commands"></a>
<a name="Mouse_002dbound-Commands"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Emacs-Related-Commands">Emacs Related Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Commands">Commands</a>

</div>

<h3 class="section">4.9 Mouse-bound Commands</h3>

<p>The following two mouse actions are normally bound to special search and
insert commands in of Viper:

     <dl>
<dt><kbd>S-Mouse-1</kbd><dd>Holding Shift and clicking mouse button 1 will
initiate search for
a region under the mouse pointer. 
This command can take a prefix argument.  Note: Viper sets this
binding only if this mouse action is not
already bound to something else. 
See <a href="#Viper-Specials">Viper Specials</a>, for more information.

     <br><dt><kbd>S-Mouse-2</kbd><dd>Holding Shift and clicking button 2 of the mouse will
insert a region surrounding the mouse pointer. 
This command can also take a prefix argument. 
Note: Viper sets this binding only if this mouse action is not
already bound to something else. 
See <a href="#Viper-Specials">Viper Specials</a>, for more details. 
</dl>
   <a name="index-g_t_0040kbd_007bS_002dMouse_002d1_007d-627"></a><a name="index-g_t_0040kbd_007bS_002dMouse_002d2_007d-628"></a><a name="index-g_t_0040kbd_007bmeta-button1up_007d-629"></a><a name="index-g_t_0040kbd_007bmeta-button2up_007d-630"></a>
<div class="node">
<p><hr>
<a name="GNU-Free-Documentation-License"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Acknowledgments">Acknowledgments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commands">Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A GNU Free Documentation License</h2>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<div class="node">
<p><hr>
<a name="Acknowledgments"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Key-Index">Key Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Acknowledgments</h2>

<p>Viper, formerly known as VIP-19, was written by Michael Kifer.  Viper is
based on the original VIP package by Masahiko Sato and on its enhancement,
VIP 4.4, by Aamod Sane.  This manual is an adaptation of the manual for VIP
4.4, which, in turn, was based on Sato's manual for VIP 3.5.

   <p>Many contributors on the Net pointed out bugs and suggested a number of
useful features. Scott Bronson and Samuel Padgett contributed patches that
were incorporated in this code.  Here is a hopefully complete list of
contributors:

<pre class="example">     aaronl@vitelus.com (Aaron Lehmann),
     ahg@panix.com (Al Gelders),
     amade@diagram.fr (Paul-Bernard Amade),
     ascott@fws214.intel.com (Andy Scott),
     bronson@trestle.com (Scott Bronson),
     cook@biostat.wisc.edu (Tom Cook),
     csdayton@midway.uchicago.edu (Soren Dayton),
     dave@hellgate.utah.edu,
     dm@scs.cs.nyu.edu (David Mazieres),
     dominik@strw.LeidenUniv.nl (Carsten Dominik),
     dwallach@cs.princeton.edu (Dan Wallach),
     dwight@toolucky.llnl.gov (Dwight Shih),
     dxc@xprt.net (David X Callaway),
     edmonds@edmonds.home.cs.ubc.ca (Brian Edmonds),
     gin@mo.msk.ru (Golubev I.N.),
     gviswana@cs.wisc.edu (Guhan Viswanathan),
     gvr@halcyon.com (George V. Reilly),
     hatazaki@bach.convex.com (Takao Hatazaki),
     hpz@ibmhpz.aug.ipp-garching.mpg.de (Hans-Peter Zehrfeld),
     irie@t.email.ne.jp (Irie Tetsuya),
     jackr@dblues.engr.sgi.com (Jack Repenning),
     jamesm@bga.com (D.J. Miller II),
     jjm@hplb.hpl.hp.com (Jean-Jacques Moreau),
     jl@cse.ogi.edu (John Launchbury),
     jobrien@hchp.org (John O'Brien),
     johnw@borland.com (John Wiegley),
     kanze@gabi-soft.fr (James Kanze),
     kin@isi.com (Kin Cho),
     kwzh@gnu.org (Karl Heuer),
     lindstro@biostat.wisc.edu (Mary Lindstrom),
     lektu@terra.es (Juanma Barranquero),
     lennart.borgman.073@student.lu.se (Lennart Borgman),
     minakaji@osaka.email.ne.jp (Mikio Nakajima),
     Mark.Bordas@East.Sun.COM (Mark Bordas),
     meyering@comco.com (Jim Meyering),
     martin@xemacs.org (Martin Buchholz),
     mbutler@redfernnetworks.com (Malcolm Butler),
     mveiga@dit.upm.es (Marcelino Veiga Tuimil),
     paulk@summit.esg.apertus.com (Paul Keusemann),
     pfister@cs.stonybrook.edu (Hanspeter Pfister),
     phil_brooks@MENTORG.COM (Phil Brooks),
     pogrell@informatik.hu-berlin.de (Lutz Pogrell),
     pradyut@cs.uchicago.edu (Pradyut Shah),
     roderick@argon.org (Roderick Schertler),
     rxga@ulysses.att.com,
     sawdey@lcse.umn.edu (Aaron Sawdey),
     simonb@prl.philips.co.uk (Simon Blanchard),
     spadgett1@nc.rr.com (Samuel Padgett),
     stephen@farrell.org (Stephen Farrell),
     storm@cua.dk (Kim F. Storm),
     sudish@MindSpring.COM (Sudish Joseph),
     schwab@issan.informatik.uni-dortmund.de (Andreas Schwab)
     terra@diku.dk (Morten Welinder),
     thanh@informatics.muni.cz (Han The Thanh),
     toma@convex.convex.com,
     vrenjak@sun1.racal.com (Milan Vrenjak),
     whicken@dragon.parasoft.com (Wendell Hicken),
     zapman@cc.gatech.edu (Jason Zapman II),
</pre>
   <div class="node">
<p><hr>
<a name="Key-Index"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Function-Index">Function Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Acknowledgments">Acknowledgments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Key Index</h2>

<ul class="index-ky" compact>
<li><a href="#index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003ep_007d-407"><kbd>"&lt;a-z1-9&gt;p</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003eP_007d-408"><kbd>"&lt;a-z1-9&gt;P</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003ep_007d-474"><kbd>"&lt;a-z1-9&gt;p</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0022_003ca_002dz1_002d9_003eP_007d-475"><kbd>"&lt;a-z1-9&gt;P</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0022_003cA_002dZ_003ey_003cmove_003e_007d-481"><kbd>"&lt;A-Z&gt;y&lt;move&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0022_003ca_002dz_003ey_003cmove_003e_007d-482"><kbd>"&lt;a-z&gt;y&lt;move&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023_007d-109"><kbd>#</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023c_003cmove_003e_007d-110"><kbd>#c&lt;move&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023C_003cmove_003e_007d-112"><kbd>#C&lt;move&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023C_003cmove_003e_007d-435"><kbd>#C&lt;move&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023c_003cmove_003e_007d-436"><kbd>#c&lt;move&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-458"><kbd>#g&lt;move&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-554"><kbd>#g&lt;move&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023g_003cmove_003e_007d-113"><kbd>#g&lt;move&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023q_003cmove_003e_007d-114"><kbd>#q&lt;move&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023q_003cmove_003e-_007d-434"><kbd>#q&lt;move&gt; </kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0023s_003cmove_003e_007d-115"><kbd>#s&lt;move&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0024_007d-372"><kbd>$</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0025_007d-464"><kbd>%</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007b_0025_007d-328"><kbd>%</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0026_007d-455"><kbd>&amp;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007b_0026_007d-437"><kbd>&amp;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_0027_0027_007d-336"><kbd>''</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0027_0027_007d-392"><kbd>''</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0027_003ca_002dz_003e_007d-340"><kbd>'&lt;a-z&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0027_003ca_002dz_003e_007d-395"><kbd>'&lt;a-z&gt;</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0028_007d-348"><kbd>(</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0029_007d-349"><kbd>)</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002a_007d-117"><kbd>*</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002a_007d-555"><kbd>*</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_002b_007d-369"><kbd>+</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002c_007d-360"><kbd>,</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002d_007d-370"><kbd>-</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002e_007d-402"><kbd>.</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_002e_007d-491"><kbd>.</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007b_002f_003ccr_003e_007d-333"><kbd>/&lt;cr&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002f_003cstring_003e_007d-335"><kbd>/&lt;string&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_002f_003cstring_003e_007d-469"><kbd>/&lt;string&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007b0_007d-367"><kbd>0</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_003b_007d-361"><kbd>;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_003c_003c_007d-421"><kbd>&lt;&lt;</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_003c_003cmove_003e_007d-422"><kbd>&lt;&lt;move&gt;</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_003ca_002dz_003e-286"><code>&lt;a-z&gt;</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003caddress_003e-287"><code>&lt;address&gt;</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003cargs_003e-296"><code>&lt;args&gt;</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003ccmd_003e-297"><code>&lt;cmd&gt;</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040kbd_007b_003ccr_003e_007d-368"><kbd>&lt;cr&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040key_007bESC_007d-25"><code>&lt;ESC&gt;</code></a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-g_t_0040kbd_007b_003clf_003e_007d-374"><kbd>&lt;lf&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_003cmove_003e-285"><code>&lt;move&gt;</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040kbd_007b_003csp_003e_007d-375"><kbd>&lt;sp&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_003d_003cmove_003e_007d-446"><kbd>=&lt;move&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_003e_003cmove_003e_007d-410"><kbd>&gt;&lt;move&gt;</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_003e_003e_007d-409"><kbd>&gt;&gt;</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_003f_003ccr_003e_007d-332"><kbd>?&lt;cr&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_003f_003cstring_003e_007d-334"><kbd>?&lt;string&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_003f_003cstring_003e_007d-468"><kbd>?&lt;string&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_0021_007d-122"><kbd>@!</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_0021_003ca_002dz_003e_007d-556"><kbd>@!&lt;a-z&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_0023_007d-557"><kbd>@#</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_0023_007d-120"><kbd>@#</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_003ca_002dz_003e_007d-121"><kbd>@&lt;a-z&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_003ca_002dz_003e_007d-559"><kbd>@&lt;a-z&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_0040_0040_0040_007d-558"><kbd>@@</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-553"><kbd>[&lt;a-z&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-119"><kbd>[&lt;a-z&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-477"><kbd>[&lt;a-z&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-404"><kbd>[&lt;a-z&gt;</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_003ca_002dz_003e_007d-339"><kbd>[&lt;a-z&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_005b_007d-344"><kbd>[[</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_005d_007d-125"><kbd>[]</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005b_005d_007d-343"><kbd>[]</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005c_007d-103"><kbd>\</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005c_0026_007d-438"><kbd>\&amp;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-118"><kbd>]&lt;a-z&gt;</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-552"><kbd>]&lt;a-z&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-403"><kbd>]&lt;a-z&gt;</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-476"><kbd>]&lt;a-z&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_003ca_002dz_003e_007d-338"><kbd>]&lt;a-z&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005d_005d_007d-345"><kbd>]]</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_005e_007d-371"><kbd>^</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0060_003ca_002dz_003e_007d-394"><kbd>`&lt;a-z&gt;</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0060_003ca_002dz_003e_007d-341"><kbd>`&lt;a-z&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0060_0060_007d-393"><kbd>``</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007b_0060_0060_007d-337"><kbd>``</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007ba_007d-415"><kbd>a</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bA_007d-414"><kbd>A</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bb_007d-357"><kbd>b</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bB_007d-356"><kbd>B</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_007d-447"><kbd>C</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002d_005c_007d-42"><kbd>C-\</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002d_005c_007d-625"><kbd>C-\</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002d_005d_007d-41"><kbd>C-]</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002d_005d_007d-127"><kbd>C-]</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002d_005e_007d-516"><kbd>C-^</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002db_007d-502"><kbd>C-b</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc_007d-39"><kbd>C-c</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc_007d-102"><kbd>C-c</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-_002f_007d-129"><kbd>C-c /</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-_002f_007d-51"><kbd>C-c /</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-_002f_007d-329"><kbd>C-c /</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-C_002dg_007d-128"><kbd>C-c C-g</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dn_007d-433"><kbd>C-c M-n</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dn_007d-137"><kbd>C-c M-n</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dn_007d-401"><kbd>C-c M-n</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dp_007d-432"><kbd>C-c M-p</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dp_007d-136"><kbd>C-c M-p</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc-M_002dp_007d-400"><kbd>C-c M-p</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dc_005c_007d-626"><kbd>C-c\</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dd_007d-505"><kbd>C-d</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002de_007d-507"><kbd>C-e</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002df_007d-503"><kbd>C-f</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dg_007d-509"><kbd>C-g</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dg_007d-126"><kbd>C-g</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dg_007d-40"><kbd>C-g</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dh_007d-377"><kbd>C-h</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dl_007d-508"><kbd>C-l</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dn_007d-376"><kbd>C-n</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dp_007d-373"><kbd>C-p</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002ds_007d-135"><kbd>C-s</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002du_007d-504"><kbd>C-u</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002du_007d-417"><kbd>C-u</kbd></a>: <a href="#Editing-in-Insert-State">Editing in Insert State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dv_007d-108"><kbd>C-v</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dv_007d-419"><kbd>C-v</kbd></a>: <a href="#Editing-in-Insert-State">Editing in Insert State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dw_007d-418"><kbd>C-w</kbd></a>: <a href="#Editing-in-Insert-State">Editing in Insert State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dx_007d-38"><kbd>C-x</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dx_007d-101"><kbd>C-x</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dx0_007d-623"><kbd>C-x0</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dx1_007d-622"><kbd>C-x1</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dx2_007d-621"><kbd>C-x2</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dxC_002df_007d-619"><kbd>C-xC-f</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dxo_007d-620"><kbd>C-xo</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dy_007d-618"><kbd>C-y</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dy_007d-506"><kbd>C-y</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dz_007d-24"><kbd>C-z</kbd></a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dz_007d-35"><kbd>C-z</kbd></a>: <a href="#Emacs-State">Emacs State</a></li>
<li><a href="#index-g_t_0040kbd_007bC_002dz_007d-624"><kbd>C-z</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bc_003cmove_003e_007d-449"><kbd>c&lt;move&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bcc_007d-448"><kbd>cc</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bD_007d-423"><kbd>D</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007bd_003cmove_003e_007d-425"><kbd>d&lt;move&gt;</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007bdd_007d-424"><kbd>dd</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007be_007d-355"><kbd>e</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bE_007d-354"><kbd>E</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bf_003cchar_003e_007d-365"><kbd>f&lt;char&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bF_003cchar_003e_007d-363"><kbd>F&lt;char&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bG_007d-353"><kbd>G</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bg_003cmove_003e_007d-467"><kbd>g&lt;move&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bh_007d-378"><kbd>h</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bH_007d-352"><kbd>H</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bi_007d-413"><kbd>i</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bi_007d-26"><kbd>i</kbd></a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-g_t_0040kbd_007bJ_007d-444"><kbd>J</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bj_007d-379"><kbd>j</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bk_007d-380"><kbd>k</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bl_007d-381"><kbd>l</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bL_007d-351"><kbd>L</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bM_007d-350"><kbd>M</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bm_002c_007d-388"><kbd>m,</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bM_002dn_007d-134"><kbd>M-n</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bM_002dp_007d-133"><kbd>M-p</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bM_002dy_007d-617"><kbd>M-y</kbd></a>: <a href="#Emacs-Related-Commands">Emacs Related Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bm_002e_007d-385"><kbd>m.</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bm_003c_007d-387"><kbd>m&lt;</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-342"><kbd>m&lt;a-z&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-384"><kbd>m&lt;a-z&gt;</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bm_003ca_002dz_003e_007d-478"><kbd>m&lt;a-z&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007bm_003e_007d-386"><kbd>m&gt;</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bm_005e_007d-389"><kbd>m^</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bmeta-button1up_007d-629"><kbd>meta button1up</kbd></a>: <a href="#Mouse_002dbound-Commands">Mouse-bound Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bmeta-button2up_007d-630"><kbd>meta button2up</kbd></a>: <a href="#Mouse_002dbound-Commands">Mouse-bound Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bmeta-shift-button1up_007d-274"><kbd>meta shift button1up</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bmeta-shift-button2up_007d-275"><kbd>meta shift button2up</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bN_007d-330"><kbd>N</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bn_007d-466"><kbd>n</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bN_007d-465"><kbd>N</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bn_007d-331"><kbd>n</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bo_007d-412"><kbd>o</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bO_007d-411"><kbd>O</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bp_007d-473"><kbd>p</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007bP_007d-405"><kbd>P</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bp_007d-406"><kbd>p</kbd></a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-g_t_0040kbd_007bP_007d-472"><kbd>P</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007bQ_007d-457"><kbd>Q</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bQ_007d-104"><kbd>Q</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bR_007d-452"><kbd>R</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007br_003cchar_003e_007d-453"><kbd>r&lt;char&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bs_007d-451"><kbd>s</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bS_007d-450"><kbd>S</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bS_002dMouse_002d1_007d-627"><kbd>S-Mouse-1</kbd></a>: <a href="#Mouse_002dbound-Commands">Mouse-bound Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bS_002dMouse_002d1_007d-272"><kbd>S-Mouse-1</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bS_002dMouse_002d2_007d-273"><kbd>S-Mouse-2</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bS_002dMouse_002d2_007d-628"><kbd>S-Mouse-2</kbd></a>: <a href="#Mouse_002dbound-Commands">Mouse-bound Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bt_003cchar_003e_007d-364"><kbd>t&lt;char&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bT_003cchar_003e_007d-362"><kbd>T&lt;char&gt;</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bU_007d-492"><kbd>U</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007bu_007d-44"><kbd>u</kbd></a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-g_t_0040kbd_007bu_007d-493"><kbd>u</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007bv_007d-106"><kbd>v</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bv_007d-512"><kbd>v</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bV_007d-513"><kbd>V</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bV_007d-107"><kbd>V</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bW_007d-358"><kbd>W</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bw_007d-359"><kbd>w</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bX_007d-426"><kbd>X</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007bx_007d-427"><kbd>x</kbd></a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-g_t_0040kbd_007bY_007d-479"><kbd>Y</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007by_003cmove_003e_007d-483"><kbd>y&lt;move&gt;</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007byank_007d-484"><kbd>yank</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007byy_007d-480"><kbd>yy</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040kbd_007bz_002d_007d-500"><kbd>z-</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bz_002e_007d-499"><kbd>z.</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bz_003ccr_003e_007d-501"><kbd>z&lt;cr&gt;</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bzH_007d-497"><kbd>zH</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bzL_007d-496"><kbd>zL</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bzM_007d-495"><kbd>zM</kbd></a>: <a href="#Display">Display</a></li>
<li><a href="#index-g_t_0040kbd_007bZZ_007d-530"><kbd>ZZ</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_007b_007d-346"><kbd>{</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_007c_007d-366"><kbd>|</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0040_007d_007d-347"><kbd>}</kbd></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_007e_007d-445"><kbd>~</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
   </ul><div class="node">
<p><hr>
<a name="Function-Index"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Variable-Index">Variable Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Key-Index">Key Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Function Index</h2>



<ul class="index-fn" compact>
<li><a href="#index-g_t_0040kbd_007b_0021_0021_003ccmd_003e_007d-571"><kbd>!!&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0021_003ccmd_003e_007d-570"><kbd>!&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007b_0021_003cmove_003e_003ccmd_003e_007d-572"><kbd>!&lt;move&gt;&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040code_007badd_002dhook_007d-244"><code>add-hook</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-_0021_0021_0040_003a-_003cargs_003e_007d-575"><kbd>Ex !! &lt;args&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-_0021_003ccmd_003e_007d-576"><kbd>Ex !&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-_003caddress_003er-_0021_003ccmd_003e_007d-569"><kbd>Ex &lt;address&gt;r !&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-_003caddress_003er-_003cname_003e_007d-568"><kbd>Ex &lt;address&gt;r &lt;name&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-args_007d-514"><kbd>Ex args</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-args_007d-142"><kbd>Ex args</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-cd-_005b_003cdir_003e_005d_007d-548"><kbd>Ex cd [&lt;dir&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-copy-_005bz_005d_007d-441"><kbd>Ex copy [z]</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-e-_005b_003cfiles_003e_005d_007d-518"><kbd>Ex e [&lt;files&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-e_0021_007d-489"><kbd>Ex e!</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-e_0021_0040_003a-_005b_003cfiles_003e_005d_007d-517"><kbd>Ex e! [&lt;files&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-edit-_005b_003cfiles_003e_005d_007d-519"><kbd>Ex edit [&lt;files&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-edit_0021_0040_003a-_005b_003cfiles_003e_005d_007d-520"><kbd>Ex edit! [&lt;files&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-f_007d-525"><kbd>Ex f</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-g_007d-460"><kbd>Ex g</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-global_007d-461"><kbd>Ex global</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-k_007d-391"><kbd>Ex k</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-make_007d-578"><kbd>Ex make</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-map_007d-224"><kbd>Ex map</kbd></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-map-_003cchar_003e-_003cseq_003e_007d-561"><kbd>Ex map &lt;char&gt; &lt;seq&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-map_0021_0040_003a-_003cchar_003e-_003cseq_003e_007d-563"><kbd>Ex map! &lt;char&gt; &lt;seq&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-mark_007d-390"><kbd>Ex mark</kbd></a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-move-_005bz_005d_007d-443"><kbd>Ex move [z]</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-n_007d-143"><kbd>Ex n</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-n-_005b_003ccount_003e-_007c-_003cfile_003e_005d_007d-547"><kbd>Ex n [&lt;count&gt; | &lt;file&gt;]</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-pre_007d-145"><kbd>Ex pre</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-pre_007d-529"><kbd>Ex pre</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-PreviousRelatedFile_007d-266"><kbd>Ex PreviousRelatedFile</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-PreviousRelatedFile_007d-147"><kbd>Ex PreviousRelatedFile</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-pwd_007d-549"><kbd>Ex pwd</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-pwd_007d-144"><kbd>Ex pwd</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-q_007d-522"><kbd>Ex q</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-q_0021_007d-490"><kbd>Ex q!</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-q_0021_007d-521"><kbd>Ex q!</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-quit_007d-523"><kbd>Ex quit</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-quit_0021_007d-524"><kbd>Ex quit!</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-r_007d-527"><kbd>Ex r</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-read_007d-528"><kbd>Ex read</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-rec_007d-488"><kbd>Ex rec</kbd></a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-rec_007d-526"><kbd>Ex rec</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-RelatedFile_007d-146"><kbd>Ex RelatedFile</kbd></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-RelatedFile_007d-265"><kbd>Ex RelatedFile</kbd></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-rew_007d-515"><kbd>Ex rew</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-s_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-440"><kbd>Ex s/&lt;pat&gt;/&lt;repl&gt;/&lt;f&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set_007d-176"><kbd>Ex set</kbd></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-_003coption_003e_007d-596"><kbd>Ex set &lt;option&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-_003coption_003e_003d_003cvalue_003e_007d-594"><kbd>Ex set &lt;option&gt;=&lt;value&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ai_007d-615"><kbd>Ex set ai</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-autoindent_007d-616"><kbd>Ex set autoindent</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ic_007d-613"><kbd>Ex set ic</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ignorecase_007d-614"><kbd>Ex set ignorecase</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-magic_007d-612"><kbd>Ex set magic</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-no_003coption_003e_007d-595"><kbd>Ex set no&lt;option&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-readonly_007d-611"><kbd>Ex set readonly</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ro_007d-610"><kbd>Ex set ro</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-sh_003d_003cstring_003e_007d-608"><kbd>Ex set sh=&lt;string&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-shell_003d_003cstring_003e_007d-609"><kbd>Ex set shell=&lt;string&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-shiftwidth_003d_003ccount_003e_007d-607"><kbd>Ex set shiftwidth=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-showmatch_007d-605"><kbd>Ex set showmatch</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-sm_007d-604"><kbd>Ex set sm</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-sw_003d_003ccount_003e_007d-606"><kbd>Ex set sw=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-tab_002dstop_002dlocal_003d_003ccount_003e_007d-603"><kbd>Ex set tab-stop-local=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-tabstop_003d_003ccount_003e_007d-602"><kbd>Ex set tabstop=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ts_003d_003ccount_003e_007d-601"><kbd>Ex set ts=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-wm_003d_003ccount_003e_007d-599"><kbd>Ex set wm=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-wrapmargin_003d_003ccount_003e_007d-600"><kbd>Ex set wrapmargin=&lt;count&gt;</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-wrapscan_007d-598"><kbd>Ex set wrapscan</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-set-ws_007d-597"><kbd>Ex set ws</kbd></a>: <a href="#Options">Options</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-sh_007d-577"><kbd>Ex sh</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-stop_007d-546"><kbd>Ex stop</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-substitute_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-456"><kbd>Ex substitute/&lt;pat&gt;/&lt;repl&gt;/&lt;f&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-substitute_002f_003cpat_003e_002f_003crepl_003e_002f_003cf_003e_007d-439"><kbd>Ex substitute/&lt;pat&gt;/&lt;repl&gt;/&lt;f&gt;</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-suspend_007d-545"><kbd>Ex suspend</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-t-_005bz_005d_007d-442"><kbd>Ex t [z]</kbd></a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-tag-_003cname_003e_007d-463"><kbd>Ex tag &lt;name&gt;</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-unmap-_003cchar_003e_007d-560"><kbd>Ex unmap &lt;char&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-unmap_0021_0040_003a-_003cchar_003e_007d-562"><kbd>Ex unmap! &lt;char&gt;</kbd></a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-v_007d-459"><kbd>Ex v</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-vglobal_007d-462"><kbd>Ex vglobal</kbd></a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-W_007d-538"><kbd>Ex W</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-w-_0021_003ccmd_003e_007d-573"><kbd>Ex w !&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-w-_003cfile_003e_007d-532"><kbd>Ex w &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-w-_003e_003e-_003cfile_003e_007d-534"><kbd>Ex w &gt;&gt; &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-w_0021_0040_003a-_003cfile_003e_007d-533"><kbd>Ex w! &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-wq_007d-531"><kbd>Ex wq</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-Write_007d-540"><kbd>Ex Write</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-write-_003cfile_003e_007d-535"><kbd>Ex write &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-write-_003e_003e-_003cfile_003e_007d-537"><kbd>Ex write &gt;&gt; &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-write_0021_0040_003a-_003cfile_003e_007d-536"><kbd>Ex write! &lt;file&gt;</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-WW_007d-539"><kbd>Ex WW</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-WWrite_007d-542"><kbd>Ex WWrite</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-x_007d-543"><kbd>Ex x</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-x_0021_007d-544"><kbd>Ex x!</kbd></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-x_002cy-w-_0021_003ccmd_003e_007d-574"><kbd>Ex x,y w !&lt;cmd&gt;</kbd></a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0040kbd_007bEx-yank_007d-485"><kbd>Ex yank</kbd></a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-g_t_0040code_007bremove_002dhook_007d-243"><code>remove-hook</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007btoggle_002dviper_002dmode_007d-33"><code>toggle-viper-mode</code></a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-g_t_0040code_007btoggle_002dviper_002dmode_007d-263"><code>toggle-viper-mode</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dadd_002dlocal_002dkeys_007d-230"><code>viper-add-local-keys</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dbuffer_002dsearch_002denable_007d-245"><code>viper-buffer-search-enable</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002ddescribe_002dkbd_002dmacros_007d-281"><code>viper-describe-kbd-macros</code></a>: <a href="#Vi-Macros">Vi Macros</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dglob_002dfunction_007d-177"><code>viper-glob-function</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dgo_002daway_007d-32"><code>viper-go-away</code></a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dgo_002daway_007d-262"><code>viper-go-away</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dharness_002dminor_002dmode_007d-242"><code>viper-harness-minor-mode</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmode_007d-241"><code>viper-mode</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmodify_002dmajor_002dmode_007d-222"><code>viper-modify-major-mode</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmouse_002dclick_002dinsert_002dword_007d-277"><code>viper-mouse-click-insert-word</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmouse_002dclick_002dsearch_002dword_007d-278"><code>viper-mouse-click-search-word</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002demacs_002dstate_002dsearchstyle_002dmacros_007d-250"><code>viper-set-emacs-state-searchstyle-macros</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dexpert_002dlevel_007d-255"><code>viper-set-expert-level</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dhooks_007d-240"><code>viper-set-hooks</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dparsing_002dstyle_002dtoggling_002dmacro_007d-327"><code>viper-set-parsing-style-toggling-macro</code></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dsearchstyle_002dtoggling_002dmacros_007d-247"><code>viper-set-searchstyle-toggling-macros</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dsyntax_002dpreference_007d-310"><code>viper-set-syntax-preference</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dset_002dsyntax_002dpreference_007d-99"><code>viper-set-syntax-preference</code></a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dunrecord_002dkbd_002dmacro_007d-280"><code>viper-unrecord-kbd-macro</code></a>: <a href="#Vi-Macros">Vi Macros</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dzap_002dlocal_002dkeys_007d-231"><code>viper-zap-local-keys</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
   </ul><div class="node">
<p><hr>
<a name="Variable-Index"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Package-Index">Package Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Function-Index">Function Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Variable Index</h2>



<ul class="index-vr" compact>
<li><a href="#index-g_t_0040code_007bbuffer_002dread_002donly_007d-186"><code>buffer-read-only</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bex_002dcycle_002dother_002dwindow_007d-202"><code>ex-cycle-other-window</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bex_002dcycle_002dthrough_002dnon_002dfiles_007d-203"><code>ex-cycle-through-non-files</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bfunction_002dkey_002dmap_007d-226"><code>function-key-map</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007binput_002ddecode_002dmap_007d-225"><code>input-decode-map</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dallow_002dmultiline_002dreplace_002dregions_007d-212"><code>viper-allow-multiline-replace-regions</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dalways_007d-239"><code>viper-always</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dalways_007d-195"><code>viper-always</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dauto_002dindent_007d-181"><code>viper-auto-indent</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dbuffer_002dsearch_002dchar_007d-214"><code>viper-buffer-search-char</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dbuffer_002dsearch_002dchar_007d-246"><code>viper-buffer-search-char</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dcase_002dfold_002dsearch_007d-183"><code>viper-case-fold-search</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dcommand_002dring_002dsize_007d-259"><code>viper-command-ring-size</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dcustom_002dfile_002dname_007d-200"><code>viper-custom-file-name</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002ddelete_002dbackwards_002din_002dreplace_007d-208"><code>viper-delete-backwards-in-replace</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002ddired_002dmodifier_002dmap_007d-249"><code>viper-dired-modifier-map</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002delectric_002dmode_007d-182"><code>viper-electric-mode</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002demacs_002dglobal_002duser_002dmap_007d-229"><code>viper-emacs-global-user-map</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002demacs_002dstate_002dcursor_002dcolor_007d-180"><code>viper-emacs-state-cursor-color</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002demacs_002dstate_002dhook_007d-219"><code>viper-emacs-state-hook</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002demacs_002dstate_002dmode_002dlist_007d-234"><code>viper-emacs-state-mode-list</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dESC_002dmoves_002dcursor_002dback_007d-199"><code>viper-ESC-moves-cursor-back</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dex_002dstyle_002dediting_007d-198"><code>viper-ex-style-editing</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dex_002dstyle_002dmotion_007d-197"><code>viper-ex-style-motion</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dfast_002dkeyseq_002dtimeout_007d-196"><code>viper-fast-keyseq-timeout</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dinsert_002dglobal_002duser_002dmap_007d-228"><code>viper-insert-global-user-map</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dinsert_002dstate_002dcursor_002dcolor_007d-179"><code>viper-insert-state-cursor-color</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dinsert_002dstate_002dhook_007d-217"><code>viper-insert-state-hook</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dinsert_002dstate_002dmode_002dlist_007d-235"><code>viper-insert-state-mode-list</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dinsertion_002dring_002dsize_007d-257"><code>viper-insertion-ring-size</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dkeep_002dpoint_002don_002drepeat_007d-206"><code>viper-keep-point-on-repeat</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dkeep_002dpoint_002don_002dundo_007d-207"><code>viper-keep-point-on-undo</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmajor_002dmode_002dmodifier_002dlist_007d-223"><code>viper-major-mode-modifier-list</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmouse_002dinsert_002dkey_007d-269"><code>viper-mouse-insert-key</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dmulticlick_002dtimeout_007d-276"><code>viper-multiclick-timeout</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dno_002dmultiple_002dESC_007d-194"><code>viper-no-multiple-ESC</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dparse_002dsexp_002dignore_002dcomments_007d-382"><code>viper-parse-sexp-ignore-comments</code></a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dre_002dquery_002dreplace_007d-191"><code>viper-re-query-replace</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dre_002dsearch_007d-184"><code>viper-re-search</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040var_007bviper_002dread_002dbuffer_002dfunction_007d-511"><var>viper-read-buffer-function</var></a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dreplace_002doverlay_002dcursor_002dcolor_007d-178"><code>viper-replace-overlay-cursor-color</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dreplace_002doverlay_002dface_007d-209"><code>viper-replace-overlay-face</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dreplace_002dregion_002dend_002dsymbol_007d-210"><code>viper-replace-region-end-symbol</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dreplace_002dregion_002dstart_002dsymbol_007d-211"><code>viper-replace-region-start-symbol</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dreplace_002dstate_002dhook_007d-218"><code>viper-replace-state-hook</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsearch_002dface_007d-92"><code>viper-search-face</code></a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsearch_002dface_007d-189"><code>viper-search-face</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsearch_002dscroll_002dthreshold_007d-188"><code>viper-search-scroll-threshold</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsearch_002dwrap_002daround_007d-187"><code>viper-search-wrap-around</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dshift_002dwidth_007d-185"><code>viper-shift-width</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dslash_002dand_002dcolon_002dmap_007d-248"><code>viper-slash-and-colon-map</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsmart_002dsuffix_002dlist_007d-256"><code>viper-smart-suffix-list</code></a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dspell_002dfunction_007d-201"><code>viper-spell-function</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dspell_002dfunction_007d-116"><code>viper-spell-function</code></a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsurrounding_002dword_002dfunction_007d-215"><code>viper-surrounding-word-function</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsyntax_002dpreference_007d-97"><code>viper-syntax-preference</code></a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dsyntax_002dpreference_007d-309"><code>viper-syntax-preference</code></a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dtags_002dfile_002dname_007d-190"><code>viper-tags-file-name</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dtoggle_002dkey_007d-213"><code>viper-toggle-key</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dvi_002dglobal_002duser_002dmap_007d-227"><code>viper-vi-global-user-map</code></a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dvi_002dstate_002dhook_007d-216"><code>viper-vi-state-hook</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dvi_002dstate_002dmode_002dlist_007d-236"><code>viper-vi-state-mode-list</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dvi_002dstyle_002din_002dminibuffer_007d-193"><code>viper-vi-style-in-minibuffer</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dwant_002dctl_002dh_002dhelp_007d-192"><code>viper-want-ctl-h-help</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dinsert_007d-238"><code>viper-want-emacs-keys-in-insert</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dinsert_007d-204"><code>viper-want-emacs-keys-in-insert</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dvi_007d-205"><code>viper-want-emacs-keys-in-vi</code></a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-g_t_0040code_007bviper_002dwant_002demacs_002dkeys_002din_002dvi_007d-237"><code>viper-want-emacs-keys-in-vi</code></a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
   </ul><div class="node">
<p><hr>
<a name="Package-Index"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Concept-Index">Concept Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Variable-Index">Variable Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Package Index</h2>



<ul class="index-pg" compact>
<li><a href="#index-ange_002dftp_002eel-155"><code>ange-ftp.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-desktop_002eel-164"><code>desktop.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-dired_002eel-160"><code>dired.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-ediff_002eel-168"><code>ediff.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-font_002dlock_002eel-162"><code>font-lock.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-ispell_002eel-166"><code>ispell.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-vc_002eel-158"><code>vc.el</code></a>: <a href="#Useful-Packages">Useful Packages</a></li>
   </ul><div class="node">
<p><hr>
<a name="Concept-Index"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Package-Index">Package Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Concept Index</h2>



<ul class="index-cp" compact>
<li><a href="#index-g_t_0023-_0028Previous-file_0029-295"># (Previous file)</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040samp_007b_0023_007d-_0028Previous-file_0029-566">`<samp><span class="samp">#</span></samp>' (Previous file)</a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0025-_0028Current-file_0029-564">% (Current file)</a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0025-_0028Current-file_0029-294">% (Current file)</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_0040samp_007b_0025_007d-_0028Ex-address_0029-565">`<samp><span class="samp">%</span></samp>' (Ex address)</a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-g_t_0025-_0028Ex-address_0029-293">% (Ex address)</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_002eemacs-172">.emacs</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-g_t_002eviper-171">.viper</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-g_t_003ca_002dz_003e-289">&lt;a-z&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003caddress_003e-290">&lt;address&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003cargs_003e-298">&lt;args&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003ccmd_003e-299">&lt;cmd&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003ccr_003e-300">&lt;cr&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003cesc_003e-301">&lt;esc&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003cht_003e-303">&lt;ht&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003clf_003e-302">&lt;lf&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003cmove_003e-288">&lt;move&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-g_t_003csp_003e-304">&lt;sp&gt;</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-abbrevs-93">abbrevs</a>: <a href="#Abbreviation-Facilities">Abbreviation Facilities</a></li>
<li><a href="#index-absolute-file-names-62">absolute file names</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-appending-397">appending</a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-auto-fill-591">auto fill</a>: <a href="#Options">Options</a></li>
<li><a href="#index-auto-save-73">auto save</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-autoindent-580">autoindent</a>: <a href="#Options">Options</a></li>
<li><a href="#index-backup-files-487">backup files</a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-backup-files-72">backup files</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-buffer-1">buffer</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-buffer-_0028modified_0029-14">buffer (modified)</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-buffer-information-11">buffer information</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-buffer-search-87">buffer search</a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-C_002dc-and-Viper-232">C-c and Viper</a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-case-and-searching-581">case and searching</a>: <a href="#Options">Options</a></li>
<li><a href="#index-case_002dinsensitive-search-50">case-insensitive search</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-case_002dinsensitive-search-326">case-insensitive search</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-case_002dinsensitive-search-132">case-insensitive search</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-case_002dsensitive-search-49">case-sensitive search</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-case_002dsensitive-search-131">case-sensitive search</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-case_002dsensitive-search-325">case-sensitive search</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-changing-case-429">changing case</a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-changing-case-111">changing case</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-changing-tab-width-589">changing tab width</a>: <a href="#Options">Options</a></li>
<li><a href="#index-char-307">char</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-CHAR-308">CHAR</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-column-movement-317">column movement</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-Command-history-140">Command history</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-command-line-13">command line</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-Command-ring-141">Command ring</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-compiling-149">compiling</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-completion-86">completion</a>: <a href="#Completion">Completion</a></li>
<li><a href="#index-Control-keys-22">Control keys</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-customization-169">customization</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-cut-and-paste-470">cut and paste</a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-describing-regions-68">describing regions</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-desktop-163">desktop</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-Destructive-command-history-261">Destructive command history</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-Destructive-command-ring-260">Destructive command ring</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-dired-159">dired</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-dynamic-abbrevs-94">dynamic abbrevs</a>: <a href="#Abbreviation-Facilities">Abbreviation Facilities</a></li>
<li><a href="#index-ediff-167">ediff</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-Emacs-state-27">Emacs state</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-Emacs-state-36">Emacs state</a>: <a href="#Emacs-State">Emacs State</a></li>
<li><a href="#index-email-152">email</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-end-_0028of-buffer_0029-6">end (of buffer)</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-end-_0028of-line_0029-7">end (of line)</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-Ex-addresses-292">Ex addresses</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-Ex-commands-31">Ex commands</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-Ex-commands-52">Ex commands</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-Ex-commands-312">Ex commands</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-Ex-customize-173">Ex customize</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-Ex-style-motion-95">Ex style motion</a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-expanding-_0028region_0029-67">expanding (region)</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-font_002dlock-161">font-lock</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-global-keymap-18">global keymap</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-headings-319">headings</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-headings-251">headings</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-history-78">history</a>: <a href="#History">History</a></li>
<li><a href="#index-incremental-search-89">incremental search</a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-initialization-170">initialization</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-Insert-state-53">Insert state</a>: <a href="#Insert-State">Insert State</a></li>
<li><a href="#index-Insert-state-416">Insert state</a>: <a href="#Editing-in-Insert-State">Editing in Insert State</a></li>
<li><a href="#index-Insert-state-29">Insert state</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-inserting-396">inserting</a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-Insertion-history-138">Insertion history</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-Insertion-ring-139">Insertion ring</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-Insertion-ring-258">Insertion ring</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-interactive-shell-151">interactive shell</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-ispell-165">ispell</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-joining-lines-428">joining lines</a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-key-bindings-220">key bindings</a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-key-bindings-550">key bindings</a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-key-mapping-551">key mapping</a>: <a href="#Mapping">Mapping</a></li>
<li><a href="#index-keyboard-macros-123">keyboard macros</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-keyboard-macros-80">keyboard macros</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-keymap-16">keymap</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-keymaps-221">keymaps</a>: <a href="#Key-Bindings">Key Bindings</a></li>
<li><a href="#index-last-keyboard-macro-85">last keyboard macro</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-layout-585">layout</a>: <a href="#Options">Options</a></li>
<li><a href="#index-line-commands-283">line commands</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-line-commands-64">line commands</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-line-editor-motion-96">line editor motion</a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-literal-searching-582">literal searching</a>: <a href="#Options">Options</a></li>
<li><a href="#index-local-keymap-17">local keymap</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-looking-at-5">looking at</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-macros-81">macros</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-mail-153">mail</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-major-mode-19">major mode</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-make-148">make</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-managing-multiple-files-58">managing multiple files</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-mark-3">mark</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-markers-59">markers</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-markers-76">markers</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-markers-316">markers</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-marking-383">marking</a>: <a href="#Marking">Marking</a></li>
<li><a href="#index-matching-parens-588">matching parens</a>: <a href="#Options">Options</a></li>
<li><a href="#index-matching-parens-322">matching parens</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-Meta-key-43">Meta key</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-Meta-key-54">Meta key</a>: <a href="#Insert-State">Insert State</a></li>
<li><a href="#index-Meta-key-23">Meta key</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-Minibuffer-56">Minibuffer</a>: <a href="#The-Minibuffer">The Minibuffer</a></li>
<li><a href="#index-Minibuffer-12">Minibuffer</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-Minibuffer-79">Minibuffer</a>: <a href="#History">History</a></li>
<li><a href="#index-minor-mode-20">minor mode</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-mode-15">mode</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-mode-line-34">mode line</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-mode-line-10">mode line</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-mouse-267">mouse</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-mouse-search-91">mouse search</a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-mouse_002dinsert-270">mouse-insert</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-mouse_002dsearch-268">mouse-search</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-movement-commands-313">movement commands</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-movement-commands-69">movement commands</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-movements-291">movements</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-Multifile-documents-and-programs-264">Multifile documents and programs</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-multiple-files-510">multiple files</a>: <a href="#File-and-Buffer-Handling">File and Buffer Handling</a></li>
<li><a href="#index-multiple-files-57">multiple files</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-multiple-undo-45">multiple undo</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-paragraphs-253">paragraphs</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-paragraphs-318">paragraphs</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-paren-matching-323">paren matching</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-paren-matching-587">paren matching</a>: <a href="#Options">Options</a></li>
<li><a href="#index-paste-398">paste</a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-paste-471">paste</a>: <a href="#Yanking">Yanking</a></li>
<li><a href="#index-point-2">point</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-point-commands-282">point commands</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-point-commands-63">point commands</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-put-399">put</a>: <a href="#Appending-Text">Appending Text</a></li>
<li><a href="#index-query-replace-105">query replace</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-query-replace-90">query replace</a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-quoting-regions-430">quoting regions</a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-r-and-R-region-specifiers-284">r and R region specifiers</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-r-and-R-region-specifiers-70">r and R region specifiers</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-RCS-157">RCS</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-readonly-files-583">readonly files</a>: <a href="#Options">Options</a></li>
<li><a href="#index-region-65">region</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-region-8">region</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-region-specification-66">region specification</a>: <a href="#Basics">Basics</a></li>
<li><a href="#index-register-execution-124">register execution</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-register-execution-83">register execution</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-registers-61">registers</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-registers-82">registers</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-registers-75">registers</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-regular-expressions-47">regular expressions</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-Replace-state-55">Replace state</a>: <a href="#Replace-State">Replace State</a></li>
<li><a href="#index-Replace-state-30">Replace state</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-scrolling-494">scrolling</a>: <a href="#Display">Display</a></li>
<li><a href="#index-searching-314">searching</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-searching-593">searching</a>: <a href="#Options">Options</a></li>
<li><a href="#index-sections-252">sections</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-sections-320">sections</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-sentences-321">sentences</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-sentences-254">sentences</a>: <a href="#Viper-Specials">Viper Specials</a></li>
<li><a href="#index-setting-variables-174">setting variables</a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-shell-584">shell</a>: <a href="#Options">Options</a></li>
<li><a href="#index-shell-150">shell</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-shell-commands-567">shell commands</a>: <a href="#Shell-Commands">Shell Commands</a></li>
<li><a href="#index-shifting-text-586">shifting text</a>: <a href="#Options">Options</a></li>
<li><a href="#index-shifting-text-420">shifting text</a>: <a href="#Deleting-Text">Deleting Text</a></li>
<li><a href="#index-substitution-431">substitution</a>: <a href="#Changing-Text">Changing Text</a></li>
<li><a href="#index-syntax-table-98">syntax table</a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-syntax-table-311">syntax table</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-tabbing-590">tabbing</a>: <a href="#Options">Options</a></li>
<li><a href="#index-text-4">text</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-text-processing-454">text processing</a>: <a href="#Search-and-Replace">Search and Replace</a></li>
<li><a href="#index-textmarkers-100">textmarkers</a>: <a href="#Movement-and-Markers">Movement and Markers</a></li>
<li><a href="#index-textmarkers-60">textmarkers</a>: <a href="#Multiple-Files-in-Viper">Multiple Files in Viper</a></li>
<li><a href="#index-textmarkers-315">textmarkers</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-textmarkers-77">textmarkers</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-transparent-ftp-154">transparent ftp</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-undo-46">undo</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-undo-71">undo</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-undo-486">undo</a>: <a href="#Undoing">Undoing</a></li>
<li><a href="#index-vanilla-search-130">vanilla search</a>: <a href="#New-Commands">New Commands</a></li>
<li><a href="#index-vanilla-search-48">vanilla search</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-vanilla-search-324">vanilla search</a>: <a href="#Move-Commands">Move Commands</a></li>
<li><a href="#index-variables-for-customization-175">variables for customization</a>: <a href="#Rudimentary-Changes">Rudimentary Changes</a></li>
<li><a href="#index-version-maintenance-156">version maintenance</a>: <a href="#Useful-Packages">Useful Packages</a></li>
<li><a href="#index-Vi-macros-279">Vi macros</a>: <a href="#Vi-Macros">Vi Macros</a></li>
<li><a href="#index-Vi-options-579">Vi options</a>: <a href="#Options">Options</a></li>
<li><a href="#index-Vi-state-37">Vi state</a>: <a href="#Vi-State">Vi State</a></li>
<li><a href="#index-Vi-state-28">Vi state</a>: <a href="#States-in-Viper">States in Viper</a></li>
<li><a href="#index-viewing-registers-and-markers-74">viewing registers and markers</a>: <a href="#Undo-and-Backups">Undo and Backups</a></li>
<li><a href="#index-viewing-registers-and-markers-84">viewing registers and markers</a>: <a href="#Macros-and-Registers">Macros and Registers</a></li>
<li><a href="#index-Viper-and-C_002dc-233">Viper and C-c</a>: <a href="#Packages-that-Change-Keymaps">Packages that Change Keymaps</a></li>
<li><a href="#index-Viper-as-minor-mode-21">Viper as minor mode</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-window-9">window</a>: <a href="#Emacs-Preliminaries">Emacs Preliminaries</a></li>
<li><a href="#index-word-search-88">word search</a>: <a href="#Improved-Search">Improved Search</a></li>
<li><a href="#index-word-wrap-592">word wrap</a>: <a href="#Options">Options</a></li>
<li><a href="#index-words-305">words</a>: <a href="#Groundwork">Groundwork</a></li>
<li><a href="#index-WORDS-306">WORDS</a>: <a href="#Groundwork">Groundwork</a></li>
   </ul></body></html>

